/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t={9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var i=n(4867),a=n(6026),o=n(4372),r=n(5327),s=n(4097),l=n(4109),c=n(7985),d=n(5061);e.exports=function(e){return new Promise((function(t,n){var u=e.data,f=e.headers;i.isFormData(u)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(p+":"+m)}var _=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),r(_,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in h?l(h.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:e,request:h};a(t,n,o),h=null}},h.onabort=function(){h&&(n(d("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(d("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var v=(e.withCredentials||c(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in h&&i.forEach(f,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),u||(u=null),h.send(u)}))}},1609:(e,t,n)=>{"use strict";var i=n(4867),a=n(1849),o=n(321),r=n(7185);function s(e){var t=new o(e),n=a(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=s(n(5655));l.Axios=o,l.create=function(e){return s(r(l.defaults,e))},l.Cancel=n(5263),l.CancelToken=n(4972),l.isCancel=n(6502),l.all=function(e){return Promise.all(e)},l.spread=n(8713),l.isAxiosError=n(6268),e.exports=l,e.exports.default=l},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var i=n(5263);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var i=n(4867),a=n(5327),o=n(782),r=n(3572),s=n(7185);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[r,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var i=n(4867);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},4097:(e,t,n)=>{"use strict";var i=n(1793),a=n(7303);e.exports=function(e,t){return e&&!i(t)?a(e,t):t}},5061:(e,t,n)=>{"use strict";var i=n(481);e.exports=function(e,t,n,a,o){var r=new Error(e);return i(r,t,n,a,o)}},3572:(e,t,n)=>{"use strict";var i=n(4867),a=n(8527),o=n(6502),r=n(5655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||r.adapter)(e).then((function(t){return s(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,i,a){return e.config=t,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],o=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(a){i.isUndefined(t[a])?i.isUndefined(e[a])||(n[a]=l(void 0,e[a])):n[a]=l(e[a],t[a])}i.forEach(a,(function(e){i.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),i.forEach(o,c),i.forEach(r,(function(a){i.isUndefined(t[a])?i.isUndefined(e[a])||(n[a]=l(void 0,e[a])):n[a]=l(void 0,t[a])})),i.forEach(s,(function(i){i in t?n[i]=l(e[i],t[i]):i in e&&(n[i]=l(void 0,e[i]))}));var d=a.concat(o).concat(r).concat(s),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)}));return i.forEach(u,c),n}},6026:(e,t,n)=>{"use strict";var i=n(5061);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},5655:(e,t,n)=>{"use strict";var i=n(4155),a=n(4867),o=n(6016),r={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==i&&"[object process]"===Object.prototype.toString.call(i))&&(l=n(5448)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){c.headers[e]=a.merge(r)})),e.exports=c},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var i=n(4867);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var r=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(a(t)+"="+a(e))})))})),o=r.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,a,o,r){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(a)&&s.push("path="+a),i.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=i.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},4109:(e,t,n)=>{"use strict";var i=n(4867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,r={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(r[t]&&a.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}})),r):r}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,n)=>{"use strict";var i=n(1849),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function r(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===a.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!r(e)&&null!==e.constructor&&!r(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:l,isUndefined:r,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,i){l(t[i])&&l(n)?t[i]=e(t[i],n):l(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,a=arguments.length;i<a;i++)d(arguments[i],n);return t},extend:function(e,t,n){return d(t,(function(t,a){e[a]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9276:()=>{document.URL.match(/contacts/)&&$((function(){function e(){axios.get("/contacts/get_contacts").then((function(e){$(".contacts-table-div").html(e.data),data_table(25,$("#contacts_table"),[2,"asc"],[0,1],[],!0,!0,!0,!0,!0)})).catch((function(e){console.log(e)}))}function t(){var t=$("#edit_contact_form"),n=new FormData(t[0]);axios.post("/contacts/save",n,axios_options).then((function(t){$("#edit_contact_modal").modal("hide"),e(),toastr.success("Contact Successfully Updated")})).catch((function(e){}))}function n(){var t=$("#import_form"),n=new FormData(t[0]);axios.post("/contacts/import_from_excel",n,axios_options).then((function(t){$("#import_modal").modal("hide"),e(),toastr.success("Contact Successfully Imported")})).catch((function(e){console.log(e)}))}e(),$(document).on("change",".check-all",(function(){$(this).is(":checked")?$(".contact-checkbox").prop("checked",!0):$(".contact-checkbox").prop("checked",!1)})),$(document).on("change",".contact-checkbox, .check-all",(function(){$(".contact-checkbox:checked").length>0?$(".bulk-options").removeClass("hidden"):$(".bulk-options").addClass("hidden")})),$(document).on("click",".add-contact-button",(function(){$("#edit_contact_modal").modal("show"),$("#edit_contact_modal_title").text("Add Contact"),$("#save_edit_contact_button").off("click").on("click",t)})),$(document).on("click",".edit-contact-button",(function(){var e;e=$(this),$("#edit_contact_modal").modal("show"),$("#edit_contact_modal_title").text("Edit Contact"),$("#contact_id").val(e.data("contact-id")),$("#contact_first").val(e.data("contact-first")),$("#contact_last").val(e.data("contact-last")),$("#contact_company").val(e.data("contact-company")),$("#contact_street").val(e.data("contact-street")),$("#contact_city").val(e.data("contact-city")),$("#contact_state").val(e.data("contact-state")),$("#contact_zip").val(e.data("contact-zip")),$("#contact_phone_cell").val(e.data("contact-phone-cell")),$("#contact_phone_home").val(e.data("contact-phone-home")),$("#contact_email").val(e.data("contact-email")),$("#save_edit_contact_button").off("click").on("click",t)})),$(document).on("click",".import-contacts-button",(function(){$("#import_modal").modal("show"),$("#save_import_button").off("click").on("click",n)})),$(document).on("click",".delete-button",(function(){$("#confirm_modal").modal().find(".modal-body").html("Are you sure you want to delete the selected contacts?"),$("#confirm_modal").modal().find(".modal-title").html("Delete Contacts"),$("#confirm_button").off("click").on("click",(function(){var t=[];$(".contact-checkbox:checked").each((function(){t.push($(this).data("contact-id"))}));var n=new FormData;n.append("contact_ids",t),axios.post("/contacts/delete",n,axios_options).then((function(t){toastr.success("Contacts successfully deleted"),e()})).catch((function(e){console.log(e)}))}))}))}))},5136:()=>{document.URL.match(/permissions/)&&$((function(){text_editor({selector:".permission-text-editor",inline:!0,menubar:!1,statusbar:!1,toolbar:"backcolor forecolor | bold italic underline"}),$(".list-group").sortable({handle:".list-group-handle",stop:function(e,t){var n=[];$(".list-group-item").each((function(){var e=$(this).data("config-id"),t=$(this).index();n.push({config_id:e,order:t})})),n=JSON.stringify(n);var i=new FormData;i.append("items",n),axios.post("/permissions/reorder_permissions",i,axios_options).then((function(e){toastr.success("Reorder Successfully")})).catch((function(e){}))}}),$(".save-config-button").on("click",(function(){$(this).data("type");var e=$(this).closest(".permission-container"),t=$(this).data("config-id"),n=e.find('.permission-text-editor[data-field="title"]').html(),i=e.find('.permission-text-editor[data-field="description"]').html(),a=e.find(".emails").val(),o=new FormData;o.append("config_id",t),o.append("title",n),o.append("description",i),o.append("emails",a),axios.post("/permissions/save_permissions",o,axios_options).then((function(e){toastr.success("Changes Successfully Saved")})).catch((function(e){console.log(e)}))}))}))},8920:()=>{function e(){$(".add-resource-button").off("click").on("click",(function(){!function(n){var i=n.data("resource-type"),a=n.closest(".resource-div"),o=a.find(".add-resource-div"),r=a.find(".add-resource-button"),s=a.find(".cancel-add-resource-button"),l=a.find(".add-resource-save-button"),c=o.find(".add-resource-input"),d="",u="",f="",h="";o.find(".add-resource-state").length>0&&(d=o.find(".add-resource-state"));o.find(".add-resource-color").length>0&&(f=o.find(".add-resource-color"));t(o,r,c,d,s);var p=a.find(".list-group");r.hide(),s.show().on("click",(function(){o.slideUp("fast"),r.show(),c.val(""),d&&d.val(""),f&&f.val(f.data("default-value")),s.hide(),t(o,r,c,d,s)})),$(document).on("mousedown",(function(e){$(e.target).is(".add-resource-div *")||t(o,r,c,d,s)})),o.slideDown("fast"),c.focus(),l.off("click").on("click",(function(){if("yes"==validate_form(o.find("form"))){var t=new FormData,n=c.val();d&&(u=d.val()),f&&(h=f.val()),t.append("resource_type",i),t.append("resource_name",n),t.append("resource_state",u),t.append("resource_color",h),axios.post("/admin/resources/add",t,axios_options).then((function(t){s.trigger("click"),toastr.success("Resource Added Successfully");var a=function(e,t,n,i,a){var o='     <li class="list-group-item" data-resource-id="'+e+'" data-resource-type="'+t+'">         <div class="resource-div-details">     ';""!=a&&(o+='             <div class="resource-color-square mr-2 float-left" style="background-color: '+a+'"></div>         ');o+='             <i class="fas fa-sort mr-2 mt-1 list-item-handle float-left"></i>             <span class="edit-resource-title list-item-handle float-left">     ';var r=n;""!=i&&(r=i+" | "+n);if(o+="             "+r+'</span >             <a href="javascript: void(0)" class="delete-deactivate-resource-button text-danger float-right ml-3" data-resource-id="'+e+'" data-resource-name="'+n+'" data-action="delete"><i class="fad fa-trash-alt fa-lg"></i></a>             <a href="javascript: void(0)" class="edit-resource-button text-primary float-right" data-resource-type="'+t+'"><i class="fad fa-edit fa-lg"></i></a>         </div>         <div class="resource-div-edit container-fluid">             <form>                 <div class="row py-3">                     <div class="col-4 px-1">                         <input type="text" class="custom-form-element form-input edit-resource-input" value="'+n+'" data-default-value="'+n+'" data-label="Resource Name">                     </div>     ',""!=i){o+='                     <div class="col px-1">                         <select class="custom-form-element form-select edit-resource-state form-select-no-cancel form-select-no-search required" data-label="State" data-default-value="'+i+'">                             <option value=""></option>         ';var s=active_states.split(",");$.each(s,(function(e,t){var n="";i==t&&(n="selected"),o+='<option value="'+t+'" '+n+">"+t+"</option>"})),o+="                         </select>                     </div>         "}""!=a&&(o+='                     <div class="col px-1">                         <input type="color" class="custom-form-element form-input-color   edit-resource-color colorpicker" value="'+a+'" data-default-value="'+a+'" data-label="Tag Color">                     </div>         ');return o+='                     <div class="col-1 pl-2">                         <a href="javascript: void(0)" class="save-edit-resource-button" data-resource-id="'+e+'" data-resource-type="'+t+'"><i class="fad fa-save text-primary fa-2x mt-3"></i></a>                     </div>                     <div class="col-1 px-1">                         <a href="javascript: void(0)" class="close-edit-resource-button"><i class="fal fa-times text-danger fa-2x mt-3"></i></a>                     </div>                 </div>             </form>         </div>     </li>     '}(t.data,i,n,u,h);$(a).appendTo(p),e()})).catch((function(e){}))}}))}($(this))})),$(".edit-resource-button").off("click").on("click",(function(){!function(e){n();e.data("resource-type");var t=e.closest(".resource-div-details"),i=t.next(".resource-div-edit"),a=i.find(".edit-resource-input"),o="";i.find(".edit-resource-state").length>0&&(o=i.find(".edit-resource-state"));var r="";i.find(".edit-resource-color").length>0&&(r=i.find(".edit-resource-color"));var s=i.find(".save-edit-resource-button"),l=i.find(".close-edit-resource-button");t.hide(),i.show(),s.off("click").on("click",(function(){!function(e,t,n,i,a,o,r){var s=e.data("resource-id"),l=a.find(".edit-resource-title"),c=t.val(),d="";n&&(d=n.val());var u,f="";i&&(f=i.val(),u=e.closest(".list-group-item").find(".resource-color-square"));var h="";if("yes"==validate_form(o.find("form"))){var p=new FormData;p.append("resource_id",s),p.append("resource_name",c),p.append("resource_state",d),p.append("resource_color",f),axios.post("/admin/resources/edit",p,axios_options).then((function(e){a.show(),o.hide(),t.data("default-value",c),n&&(n.data("default-value",d),h=d+" | "),h+=c,l.html(h),f&&u.css("background-color",f),toastr.success("Resource Edited Successfully")})).catch((function(e){}))}}($(this),a,o,r,t,i)})),l.on("click",(function(){!function(e,t,n,i,a){e.show(),t.hide(),n.val(n.data("default-value")),i&&i.val(i.data("default-value"));a&&a.val(a.data("default-value"))}(t,i,a,o,r)}))}($(this))})),$(".delete-deactivate-resource-button").off("click").on("click",(function(){!function(e){var t=$(e).data("action");$("#confirm_delete_deactivate_resource_modal").modal();var n,i,a=e.data("resource-name");$(".delete-deactivate-resource-file-name").text(a),"delete"==t&&(n="Are you sure you want to permanently delete this resource?",i="Delete Resource");$(".confirm-delete-deactivate-resource-text").text(n),$("#confirm_delete_deactivate_resource_modal_title").text(i),$("#confirm_delete_deactivate_resource").on("click",(function(){!function(e,t){var n=e.data("resource-id"),i=new FormData;i.append("resource_id",n),i.append("action",t),axios.post("/admin/resources/delete_deactivate",i,axios_options).then((function(n){$(e).closest(".list-group-item").remove(),toastr.success("Resource "+t+"d successfully"),$("#confirm_delete_deactivate_resource_modal").modal("hide")})).catch((function(e){}))}(e,t)}))}($(this))}))}function t(e,t,n,i,a){e.slideUp("fast"),t.show(),n.val(""),i&&i.val(""),a.hide(),e.find("input, select").each((function(){$(this).val($(this).data("default-value"))}))}function n(){$(".resource-div-details").show(),$(".resource-div-edit").hide(),$(".resource-input").each((function(){$(this).val($(this).data("default-value"))}))}document.URL.match("/resources_admin")&&$((function(){$(".sortable").sortable({placeholder:"bg-orange-sortable",handle:".list-item-handle",start:function(){n()},stop:function(e,t){var n=$(t.item).parent("ul").children("li"),i={resource:[]};n.each((function(){var e,t,n;t=(e=$(this)).data("resource-id"),n=e.index(),i.resource.push({resource_id:t,resource_index:n})}));var a=new FormData;i=JSON.stringify(i),a.append("data",i),axios.post("/admin/resources/reorder",a,axios_options).then((function(e){toastr.success("Resource Reordered")})).catch((function(e){}))}}),$(".sortable").disableSelection(),e()}))},8245:()=>{document.URL.match(/documents$/)&&$((function(){function e(e){$(".documents-table tbody").html(""),axios.get("/documents/get_form_group_files",{params:{form_group_id:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$("#forms_table_div").html(t.data);var n=50;0==e&&(n=10);data_table(n,$(".documents-table"),[1,"asc"],[0],[],!1,!0,!0,!0,!0)})).catch((function(e){console.log(e)}))}e(0),$(".form-group-select").off("change").on("change",(function(){e($(".form-group-select").val())}))}))},6153:()=>{if(document.URL.match(/transactions\/add\/(contract|listing|referral)/)){var e=function(){$("#add_agent_id_modal").modal("show"),$(document).on("keyup",(function(e){"Enter"==e.key&&$("#save_add_agent_id_button").trigger("click")})),$("#save_add_agent_id_button").off("click").on("click",(function(){$("#Agent_ID").val($("#add_agent_id").val()),$("#add_agent_id_modal").modal("hide"),toastr.success("Agent Successfully Added")})),setTimeout((function(){$(".form-select-label").trigger("click")}),500)},t=function(e,t,a,o,r){if(""!=e.data&&1==e.data.multiple)$(".property-loading-div").hide(),$("#mls_match_container").collapse("hide"),$("#address_container").collapse("show"),$("#address_search_container").collapse("show"),$("#address_enter_container").collapse("hide"),$("#multiple_results_modal").modal();else if(""!=e.data&&0==e.data.multiple){$("#property_details_owner1, #property_details_owner2, #property_details_beds, #property_details_baths").text(""),$(".owner-div, .beds-baths-div, .active-listing-div").hide();var s=e.data.ListPictureURL;null!=s&&""!=s||(s="/images/agents/doc_management/add_transaction/house.png");var c=e.data.FullStreetAddress,d=(e.data.StreetNumber,e.data.StreetName,e.data.City),u=e.data.StateOrProvince,f="";e.data.County&&(f=e.data.County||null),"MD"==u&&""!=f&&(f+=" County");var h=e.data.PostalCode,p=e.data.YearBuilt,m=e.data.Owner1,_=e.data.Owner2,v=BedroomsTotal="";if(""!=e.data.BathroomsTotalInteger&&(v=e.data.BathroomsTotalInteger),""!=e.data.BedroomsTotal&&(BedroomsTotal=e.data.BedroomsTotal),$("#property_details_photo").prop("src",s),$("#property_details_address").html(c+"<br>"+d+", "+u+" "+h+'<br><span class="h5 mt-1 text-secondary">'+f.toUpperCase()+"</span>"),$("#property_details_year_built").text(p),m&&($(".owner-div").show(),$("#property_details_owner1").text(m),$("#property_details_owner2").text(_)),BedroomsTotal&&($(".beds-baths").show(),$("#property_details_beds").text(BedroomsTotal),$("#property_details_baths").text(v)),"db_active"==e.data.results_bright_type||"bright"==e.data.results_bright_type){e.data.ListingId;var g=new Date,y=e.data.CloseDate;y=new Date(y);var b=e.data.MlsStatus;if("db_active"==e.data.results_bright_type||"bright"==e.data.results_bright_type&&b.match(/(CLOSED|)/)&&global_date_diff(y,g)<180||b.match(/(ACTIVE|PENDING)/)){$(".active-listing-div").show();var w=e.data.ListingId,k=e.data.ListPrice,E=e.data.PropertyType,x=e.data.ListOfficeName,D=e.data.MLSListDate,C=e.data.ListAgentFirstName,T=e.data.ListAgentLastName;$("#property_details_status").text(b),$("#property_details_mls_id").text(w),k&&$("#property_details_list_price").text("$"+global_format_number(k)),$("#property_details_property_type").text(E),$("#property_details_listing_office").text(x),$("#property_details_list_date").text(D),$("#property_details_listing_agent").text(C+" "+T)}}$(".property-loading-div").hide(),$(".property-results-container").fadeIn(),$("#found_property_submit_button").off("click").on("click",(function(){$(this).prop("disabled",!0).html('<span class="spinner-border spinner-border-sm mr-2"></span> Getting Details');var t=results_bright_id=results_tax_id="";e.data.results_bright_type&&(t=e.data.results_bright_type),e.data.results_bright_id&&(results_bright_id=e.data.results_bright_id),e.data.results_tax_id&&(results_tax_id=e.data.results_tax_id),i(t,results_bright_id,results_tax_id,u)})),$("#not_my_listing_button").off("click").on("click",(function(){$("#address_enter_continue").data("go-to-details","yes")}))}else $(".property-loading-div").hide(),"search"==t||"mls"==t?($("#modal_danger").modal().find(".modal-body").html("No matches found. Please enter the property information manually."),$("#address_container, #address_enter_container").collapse("show"),$("#mls_match_container, #mls_search_container, #address_search_container").collapse("hide"),l(a,o,r),$("#address_enter_continue").data("go-to-details","yes")):"enter"==t&&n()},n=function(){var e=$("#transaction_type").val(),t=$("#enter_street_number").val(),n=$("#enter_street_name").val(),i=$("#enter_street_dir").val(),a=$("#enter_unit").val(),o=$("#enter_city").val(),r=$("#enter_state").val(),s=$("#enter_zip").val(),l=$("#enter_county").val(),c=$("#Agent_ID").val(),d=encodeURI(c+"/"+e+"/"+t+"/"+n+"/"+o+"/"+r+"/"+s+"/"+l+"/"+i+"/"+a);window.location.href="/agents/doc_management/transactions/add/transaction_add_details_new/"+d},i=function(e,t,n,i){""!=n&&"undefined"!=n||(n=0);var a=$("#Agent_ID").val()+"/"+$("#transaction_type").val()+"/"+i+"/"+n+"/"+e+"/"+t;window.location="/agents/doc_management/transactions/add/transaction_add_details_existing/"+a},a=function(e){5==e.length&&axios.get("/agents/doc_management/global_functions/get_location_details",{params:{zip:e}}).then((function(e){var t=e.data;$("#enter_city").val(t.city),$("#enter_state").val(t.state),s(t.state),setTimeout((function(){$("#enter_county").val(t.county),r()}),500)})).catch((function(e){}))},o=function(){$(".property-loading-div").fadeIn(),global_loading_on(".property-loading-div",'<div class="h3 text-primary"><i class="fad fa-home-lg-alt mr-3"></i> Searching Properties</div>'),$(".property-results-container").hide(),$("#property_details_photo").prop("src",""),$("#property_details_address").text("")},r=function(){var e=$("#enter_address_form"),t="yes";e.find(".required").each((function(){""==$(this).val()&&(t="no")})),"yes"==t?$("#address_enter_continue").prop("disabled",!1):$("#address_enter_continue").prop("disabled",!0)},s=function(e){axios.get("/agents/doc_management/transactions/update_county_select",{params:{state:e}}).then((function(e){var t=e.data;$("#enter_county").html("").prop("disabled",!1),$("#enter_county").append('<option value=""></option>'),$.each(t,(function(e,t){$("#enter_county").append('<option value="'+t.county.toUpperCase()+'">'+t.county+"</option>")})),setTimeout((function(){}),500)})).catch((function(e){}))},l=function(e,t,n){var i=$("#address_search_unit").val();$("#enter_street_number").val(e),$("#enter_street_name").val(t),$("#enter_zip").val(n),$("#enter_unit").val(i),setTimeout((function(){a($("#enter_zip").val())}),500)};$((function(){var i=document.getElementById("address_search_street");$(i).on("focus",(function(){$(this).select()}));var c=new google.maps.places.Autocomplete(i);google.maps.event.addListener(c,"place_changed",(function(){var e=c.getPlace(),n=street_name=city=a=state=zip="",a="";e.address_components.forEach((function(e){e.types.includes("street_number")?n=e.long_name:e.types.includes("route")?street_name=e.long_name:e.types.includes("locality")?city=e.long_name:e.types.includes("administrative_area_level_2")?a=(a=e.long_name.replace(/'/,"")).replace(/\sCounty/,""):e.types.includes("administrative_area_level_1")?state=e.short_name:e.types.includes("postal_code")&&(zip=e.long_name)}));var r=$("#address_search_unit").val();if($("#enter_manually_button").off("click").on("click",(function(){l(n,street_name,zip)})),$(".address-search-error").hide(),""!=n)$(".address-search-continue-div").show();else{$(".address-search-continue-div").hide(),$(".address-search-error").show();var s=$(i).val().replace(/^[0-9]+\s/,"");$(i).val(s)}$("#address_search_street").on("keyup change",(function(){""==$(this).val()&&$(".address-search-continue-div").hide()}));var d=null;$("#address_search_continue").off("click").on("click",(function(){if(d&&d.cancel(),0==$("#global_active_states").val().split(",").includes(state))return $("#modal_danger").modal().find(".modal-body").html("You can only add properties the company is licensed in"),!1;if(d=axios.CancelToken.source(),"referral"==$("#transaction_type").val()){var e=$("#Agent_ID").val(),i=new FormData;i.append("street_number",n),i.append("street_name",street_name),i.append("unit_number",r),i.append("city",city),i.append("state",state),i.append("zip",zip),i.append("county",a),i.append("Agent_ID",e),axios.post("/agents/doc_management/transactions/add/transaction_add_details_referral",i,axios_options).then((function(e){var t=e.data.Referral_ID;window.location="/agents/doc_management/transactions/add/transaction_required_details_referral/"+t})).catch((function(e){}))}else o(),axios.get("/agents/doc_management/transactions/get_property_info",{cancelToken:d.token,params:{street_number:n,street_name,unit:r,city,state,zip,county:a}}).then((function(e){t(e,"search",n,street_name,zip)})).catch((function(e){}))}))})),$("#enter_state").on("change",(function(){s($(this).val())})),$("#enter_zip").on("keyup",(function(){a($(this).val())})),$(".required").on("change keyup",(function(){setTimeout((function(){r()}),100)})),$("#mls_search_continue").off("click").on("click",(function(){!function(){o();var e=$("#mls_search").val();axios.get("/agents/doc_management/transactions/get_property_info",{params:{mls:e}}).then((function(e){t(e,"mls","","","")})).catch((function(e){}))}()})),$("#address_enter_continue").off("click").on("click",(function(){!function(){var e=$("#Agent_ID").val(),i=$("#enter_street_number").val(),a=$("#enter_street_name").val(),r=$("#enter_street_dir").val(),s=$("#enter_unit").val(),l=$("#enter_city").val(),c=$("#enter_state").val(),d=$("#enter_zip").val(),u=$("#enter_county").val();if("yes"==$("#address_enter_continue").data("go-to-details"))n();else if("referral"==$("#transaction_type").val()){var f=new FormData;f.append("street_number",i),f.append("street_name",a),f.append("unit_number",s),f.append("city",l),f.append("state",c),f.append("zip",d),f.append("county",u),f.append("Agent_ID",e),axios.post("/agents/doc_management/transactions/add/transaction_add_details_referral",f,axios_options).then((function(e){var t=e.data.Referral_ID;window.location="/agents/doc_management/transactions/add/transaction_required_details_referral/"+t})).catch((function(e){}))}else o(),axios.get("/agents/doc_management/transactions/get_property_info",{params:{street_number:i,street_name:a,street_dir:r,unit:s,city:l,state:c,zip:d,county:u}}).then((function(e){t(e,"enter","","","")})).catch((function(e){}))}()})),""!=$("#Agent_ID").val()&&"0"!=$("#Agent_ID").val()||e(),$("#add_agent_id_modal").on("hidden.bs.modal",(function(){""!=$("#Agent_ID").val()&&"0"!=$("#Agent_ID").val()||e()}))}))}},3130:()=>{if(document.URL.match(/transaction_add_details_/)){var e=function(){var e=$("#listing_type").val(),n=$("#property_type").val(),r=$("#property_sub_type").val(),s=$("#contract_price").data("contract-price"),l=$("#contract_price").data("close-price");"sale"==e||"both"==e?(t(),"Residential"!=n&&"Multi-Family"!=n&&(a(),i()),"Standard"!=r&&"Short Sale"!=r&&"For Sale By Owner"!=r&&(a(),i()),$("#contract_price").data("label","Contract Price").val(s),$('label[for="contract_price"]').text("Contract Price"),$('label[for="list_price"]').text("List Price")):"rental"==e&&(o(),$(".property-sub-type").hide().find("#property_sub_type").val(""),$("#contract_price").data("label","Monthly Lease Amount").val(l),$('label[for="contract_price"], label[for="list_price"]').text("Monthly Lease Amount")),setTimeout((function(){}),100)},t=function(){$(".property-sub-type").show().find(".custom-form-element").addClass("required"),$(".hoa").show().find(".custom-form-element").addClass("required"),$(".year-built").show().find(".custom-form-element").addClass("required")},n=function(){$(".property-sub-type").hide().find(".custom-form-element").removeClass("required")},i=function(){$(".hoa").hide().find(".custom-form-element").removeClass("required")},a=function(){$(".year-built").hide().find(".custom-form-element").removeClass("required")},o=function(){n(),i(),a()};$((function(){$("#list_price").length>0?(format_money($("#list_price")),$("#list_price").on("keyup",(function(){format_money($(this))}))):(format_money($("#contract_price")),$("#contract_price").on("keyup",(function(){format_money($(this))}))),"$0"==$("#contract_price").val()&&$("#contract_price").val(""),n(),i(),a(),e(),$(".show-hide").on("change",e),$("#submit_details_form_button").off("click").on("click",(function(e){e.preventDefault(),$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Creating Transaction...'),function(){var e=$("#details_form");if($("#list_price, #contract_price").each((function(){"$0"==$(this).val()&&$(this).val("")})),"yes"==validate_form(e)){var t=$("#transaction_type").val(),n=new FormData(e[0]);axios.post("/agents/doc_management/transactions/save_add_transaction",n,axios_options).then((function(e){window.location="/agents/doc_management/transactions/add/transaction_required_details/"+e.data.id+"/"+t})).catch((function(e){}))}else $("#submit_details_form_button").html("")}()}))}))}},5466:()=>{if(document.URL.match(/transaction_required_details/)){var e=function(){var e=$("#Referral_ID").val(),t=($("#Agent_ID").val(),$("#details_form"));if("yes"==validate_form(t)){var n=new FormData(t[0]);axios.post("/agents/doc_management/transactions/add/transaction_save_details_referral",n,axios_options).then((function(t){window.location="/agents/doc_management/transactions/transaction_details/"+e+"/referral"})).catch((function(e){}))}},t=function(){var e=$("#CommissionAmount").val().replace(/[,\$]/g,""),t=parseInt($("#ReferralPercentage").val())/100;if(e>0&&t>0){var n=t*e,i=e-n;$("#AgentCommission").val(n),$("#OtherAgentCommission").val(i),format_money_with_decimals($("#AgentCommission")),format_money_with_decimals($("#OtherAgentCommission"))}},n=function(){var e=$(this).data("member"),t=$(this).closest(".form-ele").next("div").find(".bank-trust-row");$(this).is(":checked")?($(this).closest(".form-ele").next("div").find("[name^="+e+"_]").not("[name^="+e+"_crm]").removeClass("required").parent().find(".required-div").hide(),t.removeClass("hide").find("input").addClass("required").parent().find(".required-div").show()):($(this).closest(".form-ele").next("div").find("[name^="+e+"_]").not("[name^="+e+"_crm]").addClass("required").parent().find(".required-div").show(),t.addClass("hide").find("input").removeClass("required").parent().find(".required-div").hide())},i=function(e,t){t-=1,$("#import_contact_modal").modal(),$("#contacts_table").off("click").on("click",".add-contact-row",(function(){var n=$("."+e+"-div").eq(t);n.find("[name^="+e+"_first_name]").val($(this).data("contact-first")),n.find("[name^="+e+"_last_name]").val($(this).data("contact-last")),n.find("[name^="+e+"_phone]").val($(this).data("contact-phone")),n.find("[name^="+e+"_email]").val($(this).data("contact-email")),n.find("[name^="+e+"_street]").val($(this).data("contact-street")),n.find("[name^="+e+"_city]").val($(this).data("contact-city")),n.find("[name^="+e+"_state]").val($(this).data("contact-state")),n.find("[name^="+e+"_zip]").val($(this).data("contact-zip")),n.find("[name^="+e+"_crm_contact_id]").val($(this).data("contact-id")),n.find("input"),$("#import_contact_modal").modal("hide")}))},a=function(){var e=$(this).data("member"),t=$(this).data("type"),n=$("."+e+"-div").length+1,a="";a+="listing"==t||"contract"==t&&"buyer"==e?'             <div class="'+e+'-div mb-3">                 <div class="h5 text-orange '+e+'-header"></div>                 <div class="d-flex justify-content-between">                     <a href="javascript: void(0)" class="btn btn-sm btn-primary ml-0 import-from-contacts-button" data-member="'+e+'" data-member-id="'+n+'"><i class="fad fa-user-friends mr-2"></i> Import from Contacts</a>                     <div><a href="javascript: void(0)" class="member-delete btn btn-sm btn-danger" data-member="'+e+'"><i class="fal fa-trash mr-2"></i> Remove</a></div>                 </div>             ':'             <div class="'+e+'-div mb-3">                 <div class="d-flex justify-content-between">                     <div class="h5 text-orange '+e+'-header"></div>                     <div><a href="javascript: void(0)" class="member-delete btn btn-sm btn-danger" data-member="'+e+'"><i class="fal fa-trash mr-2"></i> Remove</a></div>                 </div>             ',a+='                 <div class="row">                     <div class="col-12 col-md-6">                         <input type="text" class="custom-form-element form-input required" name="'+e+'_first_name[]" data-label="First Name">                     </div>                     <div class="col-12 col-md-6">                         <input type="text" class="custom-form-element form-input required" name="'+e+'_last_name[]" data-label="Last Name">                     </div>         ',"listing"==t||"contract"==t&&"buyer"==e?(a+='                     <div class="col-12 col-md-6">                         <input type="text" class="custom-form-element form-input phone" name="'+e+'_phone[]" data-label="Phone">                     </div>                     <div class="col-12 col-md-6">                         <input type="text" class="custom-form-element form-input" name="'+e+'_email[]" data-label="Email">                     </div>                 </div>                 <div class="row">                     <div class="col-12">                         <input type="text" class="custom-form-element form-input '+e+"-street "+'required street-autocomplete" name="'+e+'_street[]" data-label="Home Address">                         <div class="address-autocomplete-container"><div class="address-autocomplete-div shadow"></div></div>                     </div>                     <div class="col-12 col-md-6">                         <input type="text" class="custom-form-element form-input '+e+"-city "+'required" name="'+e+'_city[]" data-label="City">                     </div>                     <div class="col-12 col-md-3">                         <select class="custom-form-element form-select form-select-no-cancel '+e+"-state "+'required" name="'+e+'_state[]" data-label="State">                             <option value=""></option>             ',states.forEach((function(e){a+='<option value="'+e.state+'">'+e.state+"</option>"})),a+='                         </select>                     </div>                     <div class="col-12 col-md-3">                         <input type="text" class="custom-form-element form-input '+e+"-zip "+'required" name="'+e+'_zip[]" data-label="Zip Code">                     </div>                     <input type="hidden" name="'+e+'_crm_contact_id[]">                 </div>             </div>             '):a+="</div>";var r="Seller",s="Buyer";"rental"==$("#for_sale").val()&&(r="Owner",s="Renter"),$("."+e+"-container").append(a);var l=$("."+e+"-div").length;$("."+e+"-div").fadeIn("slow").last().find("."+e+"-header").text(("seller"==e?r:s)+" 2"),2==l?$('.add-member-button[data-member="'+e+'"]').hide():$('.add-member-button[data-member="'+e+'"]').show(),$(".member-delete").on("click",o),$(".street-autocomplete").focus((function(){$(this).closest("."+e+"-div");if(""!=$("."+e+"-div").eq(0).find("."+e+"-street").val()){var t=$("."+e+"-div").eq(0).find("."+e+"-street").val(),n=$("."+e+"-div").eq(0).find("."+e+"-city").val(),i=$("."+e+"-div").eq(0).find("."+e+"-state").val(),a=$("."+e+"-div").eq(0).find("."+e+"-zip").val(),o=$(this).closest(".row");o.find(".address-autocomplete-div").show().html('<a href="javascript:void(0)" class="text-primary"> <i class="fal fa-plus mr-2"></i> Copy from '+("seller"==e?r:s)+" 1 address </a>"),$(document).on("mousedown",(function(r){$(r.target).is(".address-autocomplete-div *")?(o.find("."+e+"-street").val(t),o.find("."+e+"-city").val(n),o.find("."+e+"-state").val(i),o.find("."+e+"-zip").val(a),$(".address-autocomplete-div").hide()):$(".address-autocomplete-div").hide()}))}})),$(".import-from-contacts-button").off("click").on("click",(function(){i($(this).data("member"),$(this).data("member-id"))}))},o=function(){var e=$(this).data("member");$(this).closest("."+e+"-div").fadeOut().remove(),2==$("."+e+"-div").length?$('.add-member-button[data-member="'+e+'"]').hide():$('.add-member-button[data-member="'+e+'"]').removeClass("hidden").show()};$((function(){$(".add-member-button").on("click",a),$(".member-delete").on("click",o),$("#MLSListDate").focus((function(){$(".custom-picker-header").remove(),$(".picker__box").prepend('<h3 class="py-3 bg-primary text-yellow-light my-0 border-bottom custom-picker-header">List Date</h3>')})),$("#ExpirationDate").focus((function(){$(".custom-picker-header").remove(),$(".picker__box").prepend('<h3 class="py-3 bg-primary text-yellow-light my-0 border-bottom custom-picker-header">Expiration Date</h3>')})),$("#EarnestAmount, #EarnestHeldBy").on("change",(function(){$("#EarnestAmount, #EarnestHeldBy").removeClass(".required"),""==$("#EarnestAmount").val()&&""==$("#EarnestHeldBy").val()||$("#EarnestAmount, #EarnestHeldBy").addClass(".required")})),$("#save_required_details").on("click",(function(e){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving Details...'),e.preventDefault(),function(){if($("#MLSListDate").length>0&&$("#MLSListDate").val()>$("#ExpirationDate").val())return $("#modal_danger").modal().find(".modal-body").html("List Date must be before Expiration Date"),$("#MLSListDate").addClass("invalid invalid-input"),$("#modal_danger").on("hidden.bs.modal",(function(){$("#MLSListDate").focus().trigger("click")})),$("#save_required_details").html('Continue <i class="fal fa-arrow-circle-right ml-3"></i>'),!1;if($("#ContractDate").length>0&&$("#ContractDate").val()>$("#CloseDate").val())return $("#modal_danger").modal().find(".modal-body").html("Contract Date must be before Settlement Date"),$("#save_required_details").html('Continue <i class="fal fa-arrow-circle-right ml-3"></i>'),$("#ContractDate").addClass("invalid invalid-input"),$("#modal_danger").on("hidden.bs.modal",(function(){$("#ContractDate").focus().trigger("click")})),!1;var e=$("#details_form");if("yes"==validate_form(e)){var t=new FormData(e[0]);axios.post("/agents/doc_management/transactions/save_transaction_required_details",t,axios_options).then((function(e){global_loading_off(),window.location="/agents/doc_management/transactions/transaction_details/"+e.data.id+"/"+e.data.type})).catch((function(e){}))}else $("#save_required_details").html('Continue <i class="fal fa-arrow-circle-right ml-3"></i>')}()})),$("#contacts_table").DataTable({aaSorting:[],columnDefs:[{orderable:!1,targets:0}]}),data_table(10,$("#contacts_table"),[0,"asc"],[],[],!1,!0,!0,!0,!0),$(".import-from-contacts-button").off("click").on("click",(function(){i($(this).data("member"),$(this).data("member-id"))})),$("[name$=_entity_name]").removeClass("required"),$(".bank-trust").on("change",n),$("#import_property_address_button").on("click",(function(){$("#ClientStreet").val($(this).data("street")),$("#ClientCity").val($(this).data("city")),$("#ClientState").val($(this).data("state")),$("#ClientZip").val($(this).data("zip"))})),$("#CommissionAmount, #AgentCommission, #OtherAgentCommission").on("change",(function(){format_money_with_decimals($(this))})),$("#ReferralPercentage, #CommissionAmount").keyup(t),$("#save_details_button").on("click",e);var r=null;$(document).on("keyup",".agent-search",(function(){var e=$(this).val(),t=$(this).data("type")||null;e.length>4?($(".search-results").html(""),r&&r.cancel(),r=axios.CancelToken.source(),axios.get("/agents/doc_management/transactions/search_bright_agents",{cancelToken:r.token,params:{val:e},headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){var n=e.data;$.each(n,(function(e,n){n.length>0?($(".search-results-container").show(),$.each(n,(function(e,n){var i='                                     <div class="search-result list-group-item" data-type="'+t+'" data-agent-first="'+n.MemberFirstName+'" data-agent-last="'+n.MemberLastName+'" data-agent-phone="'+n.MemberPreferredPhone+'" data-office-phone="'+n.OfficePhone+'" data-agent-email="'+n.MemberEmail+'" data-agent-company="'+n.OfficeName+'" data-agent-mls-id="'+n.MemberMlsId+'" data-agent-street="'+n.OfficeAddress1+'" data-agent-city="'+n.OfficeCity+'" data-agent-state="'+n.OfficeStateOrProvince+'" data-agent-zip="'+n.OfficePostalCode+'">                                         <div class="row">                                             <div class="col-6 col-md-3">                                                 <span class="font-weight-bold">'+n.MemberLastName+", "+n.MemberFirstName+'</span><br><span class="small">'+n.MemberType+" ("+n.MemberMlsId+")<br>"+n.MemberEmail+'                                             </div>                                             <div class="col-6 col-md-3">                                             <span class="font-weight-bold">'+n.OfficeName+'</span><br><span class="small">'+n.OfficeMlsId+'</span>                                            </div>                                             <div class="col-12 col-md-6">                                                 '+n.OfficeAddress1+"<br>"+n.OfficeCity+", "+n.OfficeStateOrProvince+" "+n.OfficePostalCode+"                                             </div>                                         </div>                                     </div>                                 ";$(".search-results").append(i)}))):($(".search-results-container").show(),$(".search-results").append('<div class="search-result list-group-item text-danger"><i class="fad fa-exclamation-triangle mr-2"></i> No Matching Results</div>'))})),$(".search-result").off("click").on("click",(function(){var e,t,n,i,a,o,r,s,l,c,d;"list"==$(this).data("type")?(e=$(this),t=e.data("agent-first"),n=e.data("agent-last"),i=e.data("agent-phone"),a=e.data("agent-email"),o=e.data("agent-company"),r=e.data("agent-street"),s=e.data("agent-city"),l=e.data("agent-state"),c=e.data("agent-zip"),d=e.data("agent-mls-id"),$("#ListAgentFirstName").val(t),$("#ListAgentLastName").val(n),$("#ListAgentPreferredPhone").val(i),$("#ListAgentEmail").val(a),$("#ListAgentOfficeName").val(o),$("#ListAgentOfficeStreet").val(r),$("#ListAgentOfficeCity").val(s),$("#ListAgentOfficeState").val(l),$("#ListAgentOfficeZip").val(c),$("#ListAgentMlsId").val(d),$(".search-results-container").fadeOut("slow"),$("#list_agent_search_div").collapse("hide")):function(e){$("#ReferralType").val();var t=e.data("agent-first"),n=e.data("agent-last"),i=e.data("agent-company"),a=e.data("agent-phone"),o=e.data("agent-email"),r=e.data("agent-street"),s=e.data("agent-city"),l=e.data("agent-state"),c=e.data("agent-zip"),d=e.data("office-phone");$("#ReceivingAgentFirstName").val(t),$("#ReceivingAgentLastName").val(n),$("#ReceivingAgentEmail").val(o),$("#ReceivingAgentPreferredPhone").val(a),$("#ReceivingAgentOfficeName").val(i),$("#ReceivingAgentOfficeStreet").val(r),$("#ReceivingAgentOfficeCity").val(s),$("#ReceivingAgentOfficeState").val(l),$("#ReceivingAgentOfficeZip").val(c),$("#ReceivingAgentOfficePhone").val(d),$(".search-results-container").fadeOut("slow"),$("#receiving_agent_search_div, #referring_agent_search_div").collapse("hide")}($(this))})),$(document).on("mouseup",(function(e){var t=$(".search-results-container");t.is(e.target)||0!==t.has(e.target).length||$(".search-results-container").hide()}))})).catch((function(e){axios.isCancel(e)}))):($(".search-results-container").hide(),$(".search-results").html(""))})),$("#UsingHeritage").on("change",(function(){"no"==$(this).val()?$(".not-using-heritage").show():($(".not-using-heritage").hide(),$("#TitleCompany").val(""))})),$(".money-decimal").each((function(){""!=$(this).val()&&format_money_with_decimals($(this)),$(this).on("change",(function(){format_money_with_decimals($(this))}))})),$("#list_agent_search_div").on("shown.bs.collapse",(function(){$("#list_agent_search_div").find(".agent-search").focus().select()}))}))}},6456:()=>{document.URL.match(/transaction_details/)&&($((function(){})),window.agent_commission_init=function(){$("#admin_fee_in_total").on("keyup change",(function(){$(this).val().replace(/[,\$]/g,"")>0?($("#admin_fee_from_client").val($(this).val()),$("#admin_fee_from_agent").val("$0.00")):($("#admin_fee_from_client").val("$0.00"),$("#admin_fee_from_agent").val($("#admin_fee_from_agent").data("default-value")))})),0==$(".admin-fee-in-total").length&&($("#admin_fee_from_client").on("keyup change",(function(){"$0.00"!=$(this).val()&&"0"!=$(this).val()&&$("#admin_fee_from_agent").val("$0.00")})),$("#admin_fee_from_agent").on("keyup change",(function(){"$0.00"!=$(this).val()&&"0"!=$(this).val()&&$("#admin_fee_from_client").val("$0.00")}))),$("#add_deduction_button").on("click",(function(){var e=$("#deduction_template").html();$("#deduction_container").append(e),$("#deduction_container").find(".row.template").find("input").addClass("custom-form-element form-input"),$("#deduction_container").find(".row.template").removeClass("template"),global_format_money(),numbers_only_agent()})),$(document).on("click",".delete-deduction-button",(function(){$(this).hasClass("fedex-delete")&&$("#add_fedex").prop("checked",!1),$(this).closest(".row").remove(),total_agent_commission()})),$("#add_fedex").on("change",(function(){if($(this).is(":checked")){var e=$("#deduction_template").html();$("#deduction_container").append(e),$("#deduction_container").find(".row.template").find("input").addClass("custom-form-element form-input"),$("#deduction_container").find(".row.template").removeClass("template"),$(".deduction-description").last().val("FedEx"),$(".deduction-amount").last().val("$22.00"),$(".delete-deduction-button").last().addClass("fedex-delete"),$("#delivery_method").val("fedex"),numbers_only_agent()}else $(".fedex-delete").closest(".row").remove(),"fedex"==$("#delivery_method").val()&&$("#delivery_method").val("");total_agent_commission()})),$(".pay-from-commission-button").on("click",(function(){var e=$(this).data("type"),t=$(this).data("amount"),n="dues"==e?"Dues Payment":"E&O Payment",i=$("#deduction_template").html();$("#deduction_container").append(i),$("#deduction_container").find(".row.template").find("input").addClass("custom-form-element form-input"),$("#deduction_container").find(".row.template").removeClass("template"),$(".deduction-description").last().val(n),$(".deduction-amount").last().val("$"+t),$(".deduction-payment-type").last().val(e),$(".delete-deduction-button").last().addClass("fedex-delete"),numbers_only_agent(),total_agent_commission()})),$("#referral_company_deduction").length>0&&$("#checks_in_total").on("change",(function(){var e=.15*parseFloat($(this).val().replace(/[,\$]/g,""));$("#referral_company_deduction").val(e.toFixed(2))})),$(document).on("keyup change",".total-trigger, .deduction-amount",(function(e){""!=$(this).val()&&total_agent_commission()})),$(".address-input").each((function(){$(this).data("default-value",$(this).val())})),$("#delivery_method").on("change",(function(){delivery_method()})),$("#save_agent_commission_button").off("click").on("click",(function(){$(this).prop("disabled",!0),save_agent_commission()})),setTimeout((function(){delivery_method(),numbers_only_agent(),total_agent_commission(),setTimeout((function(){global_format_money()}),100)}),100)},window.delivery_method=function(){$("#delivery_method").val().match(/(mail|fedex)/)?$(".mail-details").removeClass("hidden").find(".address-input").each((function(){$(this).val($(this).data("default-value")).addClass("required")})):$(".mail-details").addClass("hidden").find(".address-input").val("").removeClass("required")},window.save_agent_commission=function(){$(".disabled").prop("disabled",!1);var e=$("#commission_form");if("yes"==validate_form(e)){if($("#delivery_method").val().match(/(mail|fedex)/)&&!$("#mail_disclosure").is(":checked"))return $(".disclosure-div").addClass("invalid-border"),toastr.error('Please accept the "Required Authorization"'),$("#save_agent_commission_button").prop("disabled",!1),$("#mail_disclosure").on("change",(function(){$(this).is(":checked")&&$(".disclosure-div").removeClass("invalid-border")})),!1;$("#save_agent_commission_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving...');var t=$("#commission_form"),n=new FormData(t[0]),i=$("#Commission_ID").val(),a=$("#Agent_ID").val(),o=$("#Contract_ID").val(),r=$("#Referral_ID").val(),s=$("#transaction_type").val();n.append("Commission_ID",i),n.append("Agent_ID",a),n.append("Contract_ID",o),n.append("Referral_ID",r),n.append("transaction_type",s),axios.post("/agents/doc_management/transactions/save_commission_agent",n,axios_options).then((function(e){$("#save_agent_commission_button").prop("disabled",!1).html('<i class="fad fa-save mr-2"></i> Save Details'),$(".disabled").prop("disabled",!0),$("html, body").animate({scrollTop:0},"slow"),$("#modal_success").modal().find(".modal-body").html("Your Commission Breakdown was successfully submitted!<br><br>You may edit any details until the review process is completed by our staff.")})).catch((function(e){console.log(e)}))}else $("#save_agent_commission_button").prop("disabled",!1),$(".disabled").prop("disabled",!0)},window.total_agent_commission=function(){var e=parseFloat($("#checks_in_total").val().replace(/[,\$]/g,""))+parseFloat($("#admin_fee_in_total").val().replace(/[,\$]/g,""))+parseFloat($("#earnest_deposit_amount").val().replace(/[,\$]/g,""));$("#total_income").val(e);var t=e-parseFloat($("#admin_fee_from_client").val().replace(/[,\$]/g,""));$("#sub_total").val(t);var n=parseFloat($("#agent_commission_deduction_percent").val()/100)*t;$("#agent_commission_deduction").val(n);var i=parseFloat($("#admin_fee_from_agent").val().replace(/[,\$]/g,"")),a=0;$("#referral_company_deduction").length>0&&(a=parseFloat($("#referral_company_deduction").val().replace(/[,\$]/g,"")));var o=n+i+a;$(".deduction-amount").each((function(){""!=$(this).val()&&(o+=parseFloat($(this).val().replace(/[,\$]/g,"")))})),$("#commission_deductions_total").val(o);var r=t-o;$("#total_commission_to_agent").val(r),r<0?($(".commission-total-row").removeClass("bg-success").addClass("bg-danger"),$(".commission-total-input").removeClass("text-success").addClass("text-danger")):($(".commission-total-row").removeClass("bg-danger").addClass("bg-success"),$(".commission-total-input").removeClass("text-danger").addClass("text-success"))},window.numbers_only_agent=function(){$(".numbers-only").on("focus",(function(){$(this).select()})),$(".numbers-only").on("change",(function(){""==$(this).val()&&$(this).val("$0.00")}))})},3688:()=>{document.URL.match(/transaction_details/)&&($((function(){})),window.checklist_init=function(){setTimeout((function(){$(".save-notes-button").off().on("click",save_add_notes),$(".add-document-button").off("click").on("click",show_add_document),$(".view-docs-button").off("click").on("click",toggle_view_docs_button),$(".view-notes-button").off("click").on("click",toggle_view_notes_button),$(".delete-doc-button").off("click").on("click",show_delete_doc),$(".mark-read-button").off("click").on("click",mark_note_read),$("#change_checklist_button").off("click").on("click",confirm_change_checklist),$(".accept-checklist-item-button").off("click").on("click",(function(){checklist_item_review_status($(this),"accepted",null)})),$(".reject-checklist-item-button").off("click").on("click",(function(){show_checklist_item_review_status($(this),"rejected")})),$(".undo-accepted, .undo-rejected").off("click").on("click",(function(){checklist_item_review_status($(this),"not_reviewed",null)})),$(".mark-required").off("click").on("click",(function(){mark_required($(this),$(this).data("checklist-item-id"),$(this).data("required"))})),$(".remove-checklist-item").off("click").on("click",(function(){show_remove_checklist_item($(this),$(this).data("checklist-item-id"))})),$(".add-checklist-item-button").off("click").on("click",show_add_checklist_item),$(".email-agent-button").off("click").on("click",(function(){reset_email(),show_email_agent()}))}),1),$(".notes-collapse").on("show.bs.collapse",(function(){$(".documents-collapse.show").collapse("hide"),$(this).closest(".checklist-item-div").addClass("bg-blue-light")})),$(".documents-collapse").on("show.bs.collapse",(function(){$(".notes-collapse.show").collapse("hide"),$(this).closest(".checklist-item-div").addClass("bg-blue-light")})),$(".collapse").on("hide.bs.collapse",(function(){$(this).closest(".checklist-item-div").removeClass("bg-blue-light")})),$(".transaction-option-trigger").off("change").on("change",listing_options),listing_options(),$(".form-search").on("keyup",(function(){form_search($(this))}))},window.confirm_change_checklist=function(){var e=$(this).data("checklist-id");$("#confirm_change_checklist_modal").modal(),$("#confirm_change_checklist_button").off("click").on("click",(function(){$("#confirm_change_checklist_modal").modal("hide"),change_checklist(e)}))},window.change_checklist=function(e){var t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#transaction_type").val(),a=$("#Agent_ID").val();$("#change_checklist_modal").modal(),$("#save_change_checklist_button").off("click").on("click",(function(){var o=$("#change_checklist_form");if("yes"==validate_form(o)){$("#save_change_checklist_button").html('<i class="fas fa-spinner fa-pulse mr-2"></i> Saving Checklist');var r=new FormData(o[0]);r.append("checklist_id",e),r.append("Listing_ID",t),r.append("Contract_ID",n),r.append("transaction_type",i),r.append("Agent_ID",a),axios.post("/agents/doc_management/transactions/change_checklist",r,axios_options).then((function(e){$("#save_change_checklist_button").html('<i class="fal fa-check mr-2"></i> Save'),load_tabs("checklist"),$("#change_checklist_modal").modal("hide"),toastr.success("Checklist Successfully Changed")})).catch((function(e){}))}}))},window.show_delete_doc=function(){var e=$(this),t=e.data("document-id");$("#confirm_delete_checklist_item_doc_modal").modal(),$("#delete_checklist_item_doc_button").off("click").on("click",(function(){delete_doc(e,t)}))},window.delete_doc=function(e,t){var n=$("#transaction_type").val(),i=$("#Contract_ID").val(),a=new FormData;a.append("document_id",t),a.append("transaction_type",n),a.append("Contract_ID",i),axios.post("/agents/doc_management/transactions/remove_document_from_checklist_item",a,axios_options).then((function(t){$("#confirm_delete_checklist_item_doc_modal").modal("hide"),toastr.success("Document Removed From Checklist"),load_details_header();var n=e.closest(".checklist-item-div").find(".doc-count");n.text(parseInt(n.text())-1),"0"==n.text()&&load_tabs("checklist"),e.closest(".document-row").fadeOut("slow").remove()})).catch((function(e){}))},window.toggle_view_docs_button=function(){$(".documents-collapse.show").not($(this).data("target")).collapse("hide")},window.toggle_view_notes_button=function(){$(".notes-collapse.show").not($(this).data("target")).collapse("hide")},window.show_add_document=function(){var e=$(this);$("#add_document_checklist_id").val(e.data("checklist-id")),$("#add_document_checklist_item_id").val(e.data("checklist-item-id")),"yes"==$("#questions_confirmed").val()?add_document(e):($("#required_fields_modal").modal(),$("#save_required_fields_button").off("click").on("click",(function(){var t=$("#required_fields_form");if("yes"==validate_form(t)){var n=$("#Contract_ID").val(),i=new FormData(t[0]);i.append("Contract_ID",n),axios.post("/agents/doc_management/transactions/save_required_fields",i,axios_options).then((function(t){$("#required_fields_modal").modal("hide"),add_document(e),$("#questions_confirmed").val("yes")})).catch((function(e){}))}})))},window.add_document=function(e){var t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#Referral_ID").val(),a=$("#transaction_type").val(),o=$("#Agent_ID").val();axios.get("/agents/doc_management/transactions/get_add_document_to_checklist_documents_html",{params:{Listing_ID:t,Contract_ID:n,Referral_ID:i,transaction_type:a,Agent_ID:o},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#add_document_modal").modal(),$("#documents_available_div").html(e.data),$(".select-document-button").off("click").on("click",(function(){var e=$("#add_document_checklist_item_id").val(),t=$(this).data("document-id"),n=new FormData;n.append("checklist_item_ids",e),axios.post("/agents/doc_management/transactions/release_address_submitted",n,axios_options).then((function(e){"no_address"==e.data.status?($("#add_address_modal").modal("show"),$("#save_add_address_button").on("click",(function(){var n=$("#add_address_form"),i=validate_form(n),a=e.data.earnest_id;if("yes"==i){var o=$("#add_address_form"),r=new FormData(o[0]);r.append("earnest_id",a),axios.post("/agents/doc_management/transactions/add_release_address",r,axios_options).then((function(e){$("#add_address_modal").modal("hide"),save_add_document(t)})).catch((function(e){console.log(e)}))}}))):save_add_document(t)})).catch((function(e){console.log(e)}))}))})).catch((function(e){}))},window.save_add_document=function(e){var t=$("#add_document_checklist_id").val(),n=$("#add_document_checklist_item_id").val(),i=$("#Listing_ID").val(),a=$("#Contract_ID").val(),o=$("#Referral_ID").val(),r=$("#transaction_type").val(),s=$("#Agent_ID").val(),l=new FormData;l.append("document_id",e),l.append("checklist_id",t),l.append("checklist_item_id",n),l.append("Listing_ID",i),l.append("Contract_ID",a),l.append("Referral_ID",o),l.append("transaction_type",r),l.append("Agent_ID",s),axios.post("/agents/doc_management/transactions/add_document_to_checklist_item",l,axios_options).then((function(e){if($("#add_document_modal").modal("hide"),"yes"==e.data.release_rejected)return $("#modal_danger").modal().find(".modal-body").html("You cannot upload a Release until you have submitted a Sales Contract"),!1;toastr.success("Document Added To Checklist"),load_tabs("checklist"),e.data&&("yes"==e.data.release_submitted?($("#cancel_contract_button").trigger("click"),load_details_header()):"yes"==e.data.contract_submitted&&load_details_header())})).catch((function(e){}))})},9524:()=>{if(document.URL.match(/transaction_details/)||document.URL.match(/commission_other/)){var e=function(){var e=$("#Agent_ID").val();axios.get("/agents/doc_management/transactions/get_checks_in_queue",{params:{Agent_ID:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".checks-queue-div").html(e.data),$(".import-check-button").on("click",import_check_in)})).catch((function(e){}))},t=function(){var e=$(this).data("check-id"),t=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(t=$("#Commission_Other_ID").val());var n=new FormData;n.append("check_id",e),axios.post("/agents/doc_management/transactions/re_queue_check",n,axios_options).then((function(e){get_checks_in(t),toastr.success("Check Successfully Re Queued"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},n=function(){"mail"==$("#check_out_delivery_method").val()||"fedex"==$("#check_out_delivery_method").val()?($(".mail-to-div").fadeIn(),$(".mail-to-div").find("input, select").addClass("required")):($(".mail-to-div").fadeOut(),$(".mail-to-div").find("input, select").removeClass("required"))},i=function(){"mail"==$("#edit_check_out_delivery_method").val()||"fedex"==$("#edit_check_out_delivery_method").val()?($(".edit-mail-to-div").fadeIn(),$(".edit-mail-to-div").find("input, select").addClass("required")):($(".edit-mail-to-div").fadeOut(),$(".edit-mail-to-div").find("input, select").removeClass("required"))},a=function(){$("#add_check_in_form, #edit_check_in_form, #edit_check_out_form").find("input.custom-form-element, select.custom-form-element").val(""),$(".check-in-preview-div, .edit-check-in-preview-div, .check-out-preview-div, .edit-check-out-preview-div").html("")};document.URL.match(/transaction_details/)&&"details",$((function(){$(document).on("click",".show-view-add-button",popout_row),$(document).on("keyup change",".total",total_commission),$(document).on("click","#save_commission_button",(function(){save_commission("yes")})),$(document).on("change","#using_heritage",(function(){show_title()})),$(document).on("mouseup",(function(e){var t=$(".popout-row, .modal-backdrop, .modal, .export-deductions-button");t.is(e.target)||0!==t.has(e.target).length||($(".popout-action, .popout").removeClass("active bg-blue-light lightSpeedInRight lightSpeedOutRight"),$(".popout").hide(),$(".commission-details-tabs").animate({opacity:"1"}))}))})),window.commission_init=function(e,t){get_checks_in(e),get_checks_out(e),get_commission_notes(e),get_income_deductions(e),get_commission_deductions(e),get_agent_details(t),get_agent_commission_details(e),setTimeout((function(){save_commission("no")}),2e3),show_title(),$(".add-check-in-button").off("click").on("click",show_add_check_in),$(".add-check-out-button").off("click").on("click",show_add_check_out),$("#save_add_check_in_button").off("click").on("click",save_add_check_in),$("#save_add_check_out_button").off("click").on("click",save_add_check_out),$("#save_add_income_deduction_button").off("click").on("click",(function(){save_add_income_deduction()})),$("#add_income_deduction_div").on("hidden.bs.collapse",(function(){$("#income_deduction_description, #income_deduction_amount").val("")})),$("#save_add_commission_deduction_button").off("click").on("click",(function(){save_add_commission_deduction()})),$("#add_commission_deduction_div").on("hidden.bs.collapse",(function(){$("#commission_deduction_description, #commission_deduction_amount").val("")})),$(".save-commission-notes-button").off("click").on("click",add_commission_notes),$(document).on("click","#email_agent_breakdown_reminder",(function(){$("#email_agent_modal").modal("show"),$(".checklist-include").addClass("hidden"),setTimeout((function(){var e=$("#email_agent_subject").val().replace("Commission Breakdown Needed - ","");$("#email_agent_subject").val("Commission Breakdown Needed - "+e)}),100),$("#send_email_agent_button").off("click").on("click",send_email_agent)})),numbers_only()},window.numbers_only=function(){$(".numbers-only").on("focus",(function(){$(this).select()})),$(".numbers-only").on("change",(function(){""==$(this).val()&&$(this).val("$0.00")}))},window.add_deductions_to_breakdown=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$("#Agent_ID").val(),n=$("#Contract_ID").val(),i=[];$(".deduction-row").each((function(){var t=$(this).find(".deduction-description").text().trim(),n=$(this).find(".deduction-amount").text().trim(),a=$(this).find(".deduction-payment-type").text().trim();if(""!=a){var o={};o.description=t,o.amount=n,o.type=a,i.push(o)}var r=new FormData;r.append("Commission_ID",e),r.append("description",t),r.append("amount",n),r.append("payment_type",a),axios.post("/agents/doc_management/transactions/save_add_commission_deduction",r,axios_options).then((function(e){})).catch((function(e){}))})),i.length>0&&($("#make_payments_modal").modal("show"),$("#payments_div").html(""),i.forEach((function(e){var t='                     <div class="list-group-item d-flex justify-content-between align-items-center">                         <div>'+e.description+"</div>                         <div>"+global_format_number_with_decimals(e.amount)+"</div>                     </div>                 ";$("#payments_div").append(t)})),$(".make-payment-button").off("click").on("click",(function(){if("yes"==$(this).data("create")){var e=new FormData;e.append("payments",JSON.stringify(i)),e.append("Agent_ID",t),e.append("Contract_ID",n),axios.post("/doc_management/commission/make_payment_from_commission",e,axios_options).then((function(e){var t=e.data.balances;$("#modal_success").modal().find(".modal-body").html("Payments successfully made.<br><br>"+t)})).catch((function(e){console.log(e)}))}}))),$(".commission-popout-button").trigger("click"),document.getElementById("commission_deductions_popout").scrollIntoView(),toastr.success("Deduction Successfully Added"),setTimeout((function(){get_commission_deductions(e),save_commission("no")}),500)},window.get_agent_commission_details=function(e){axios.get("/agents/doc_management/transactions/details/data/get_agent_commission_details",{params:{Commission_ID:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".agent-commission-div").html(e.data),$(".export-deductions-button").off("click").on("click",add_deductions_to_breakdown)})).catch((function(e){}))},window.get_agent_details=function(e){axios.get("/agents/doc_management/transactions/details/data/get_agent_details",{params:{Agent_ID:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".agent-details-div").html(e.data),$(".show-soc-sec").on("click",(function(){$(".soc-sec").toggle()}))})).catch((function(e){}))},window.import_check_in=function(){var t=$(this).data("check-id"),n=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(n=$("#Commission_Other_ID").val());var i=new FormData;i.append("Commission_ID",n),i.append("check_id",t),axios.post("/agents/doc_management/transactions/import_check_in",i,axios_options).then((function(t){toastr.success("Check Successfully Imported"),get_checks_in(n),$("#add_check_in_modal").modal("hide"),e(),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.show_title=function(){$("#title_company_row").hide(),"no"==$("#using_heritage").val()?$("#title_company_row").show():$("#title_company").val("Heritage Title, Ltd")},window.total_commission=function(){var e=!0;if($(".total").each((function(){""==$(this).val()&&(e=!1,$(this).val("0.00"))})),1==e){var t=parseFloat($("#checks_in_total").val().replace(/[,\$]/g,"")),n=parseFloat($("#earnest_deposit_amount").val().replace(/[,\$]/g,"")),i=parseFloat($("#income_deductions_total").val().replace(/[,\$]/g,"")),a=parseFloat($("#admin_fee_from_client").val().replace(/[,\$]/g,"")),o=parseFloat($("#checks_out_total").val().replace(/[,\$]/g,"")),r=t+n-i-a;$("#total_income_display").html(global_format_number_with_decimals(r.toString())),$("#total_income").val(r);var s=r*(parseInt($("#agent_commission_percent").val())/100);$("#agent_commission_amount").val(global_format_number_with_decimals(Math.floor(s).toFixed(2)));var l=s-parseFloat($("#admin_fee_from_agent").val().replace(/[,\$]/g,""))-parseFloat($("#commission_deductions_total").val().replace(/[,\$]/g,""));$("#total_commission_to_agent_display").html(global_format_number_with_decimals(l.toString())),$("#total_commission_to_agent").val(l);var c=l-o;$("#total_left_display").html(global_format_number_with_decimals(c.toString())),$("#total_left").val(c),$(".total-left").removeClass("bg-green-light text-success bg-orange-light text-danger"),"0.00"!=c?$(".total-left").addClass("bg-orange-light text-danger"):$(".total-left").addClass("bg-green-light text-success")}},window.save_commission=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no",t=$("#Contract_ID").val(),n=$("#commission_form"),i=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(i=$("#Commission_Other_ID").val());var a="no";"yes"==e&&(a="yes");var o=new FormData;n.find(".form-value").each((function(){var e=$(this).val().replace(/[,\$]/g,"");o.append($(this).attr("id"),e)})),o.append("Contract_ID",t),o.append("Commission_ID",i),o.append("change_status",a),axios.post("/agents/doc_management/transactions/save_commission",o,axios_options).then((function(t){"yes"==e&&toastr.success("Commission Details Successfully Saved"),"yes"==t.data.agent_notified&&$("#modal_success").modal().find(".modal-body").html("A notification was sent to the agent confirming their commission is complete along with delivery information"),load_details_header()})).catch((function(e){}))},window.get_income_deductions=function(e){axios.get("/agents/doc_management/transactions/get_income_deductions",{params:{Commission_ID:e}}).then((function(e){$(".check-deductions-div").html("");var t=e.data.deductions,n=t.length,i=0;n>0&&t.forEach((function(e){i+=parseFloat(e.amount);var t='                     <div class="list-group-item d-flex justify-content-between align-items-center">                         <div>'+e.description+'</div>                         <div class="d-flex justify-content-end align-items-center">                             <div class="pr-5">'+global_format_number_with_decimals(e.amount)+'</div>                             <div><a href="javascript: void(0)" class="btn btn-sm btn-danger delete-income-deduction-button" data-deduction-id="'+e.id+'"><i class="fal fa-trash"></i></a></div>                         </div>                     </div>                     ';$(".check-deductions-div").append(t)})),$(".delete-income-deduction-button").off("click").on("click",delete_income_deduction),i=global_format_number_with_decimals(i.toString()),$("#deductions_total_value").val(i),$("#income_deductions_total").val(i),$("#income_deductions_total_display").text(i),$("#income_deductions_count").text(n),total_commission()})).catch((function(e){}))},window.delete_income_deduction=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$(this).data("deduction-id"),n=new FormData;n.append("deduction_id",t),axios.post("/agents/doc_management/transactions/delete_income_deduction",n,axios_options).then((function(t){get_income_deductions(e),toastr.success("Deduction Successfully Deleted"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.save_add_income_deduction=function(){var e=$("#add_income_deduction_div");if("yes"==validate_form(e)){var t=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(t=$("#Commission_Other_ID").val());var n=$("#income_deduction_description").val(),i=$("#income_deduction_amount").val(),a=new FormData;a.append("Commission_ID",t),a.append("description",n),a.append("amount",i),axios.post("/agents/doc_management/transactions/save_add_income_deduction",a,axios_options).then((function(e){$("#add_income_deduction_div").collapse("hide"),toastr.success("Deduction Successfully Added"),get_income_deductions(t),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))}},window.get_commission_deductions=function(e){axios.get("/agents/doc_management/transactions/get_commission_deductions",{params:{Commission_ID:e}}).then((function(e){$(".commission-deductions-div").html("");var t=e.data.deductions,n=t.length,i=0;n>0&&t.forEach((function(e){i+=parseFloat(e.amount);var t='                     <div class="list-group-item d-flex justify-content-between align-items-center">                         <div>'+e.description+'</div>                         <div class="d-flex justify-content-end align-items-center">                             <div class="pr-5">'+global_format_number_with_decimals(e.amount)+'</div>                             <div><a href="javascript: void(0)" class="btn btn-sm btn-danger delete-commission-deduction-button" data-deduction-id="'+e.id+'"><i class="fal fa-trash"></i></a></div>                         </div>                     </div>                     ';$(".commission-deductions-div").append(t)})),$(".delete-commission-deduction-button").off("click").on("click",delete_commission_deduction),i=global_format_number_with_decimals(i.toString()),$("#deductions_total_value").val(i),$("#commission_deductions_total").val(i),$("#commission_deductions_total_display").text(i),$("#commission_deductions_count").text(n),total_commission()})).catch((function(e){}))},window.delete_commission_deduction=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$(this).data("deduction-id"),n=new FormData;n.append("deduction_id",t),axios.post("/agents/doc_management/transactions/delete_commission_deduction",n,axios_options).then((function(t){get_commission_deductions(e),toastr.success("Deduction Successfully Deleted"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.save_add_commission_deduction=function(){var e=$("#add_commission_deduction_div");if("yes"==validate_form(e)){var t=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(t=$("#Commission_Other_ID").val());var n=$("#commission_deduction_description").val(),i=$("#commission_deduction_amount").val(),a=new FormData;a.append("Commission_ID",t),a.append("description",n),a.append("amount",i),axios.post("/agents/doc_management/transactions/save_add_commission_deduction",a,axios_options).then((function(e){$("#add_commission_deduction_div").collapse("hide"),toastr.success("Deduction Successfully Added"),get_commission_deductions(t),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))}},window.get_checks_in=function(e){axios.get("/agents/doc_management/transactions/get_checks_in",{params:{Commission_ID:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){var n;$(".checks-in-div").html(e.data);var i=null!==(n=$("#checks_in_total_amount").val())&&void 0!==n?n:"0.00";$("#checks_in_total_display").text(global_format_number_with_decimals(i.toString())),$("#checks_in_total").val(i.toString()),$("#checks_in_count").text($("#checks_in_total_count").val()),$(".delete-check-in-button").off("click").on("click",show_delete_check_in),$(".edit-check-in-button").on("click",show_edit_check_in),$(".re-queue-check-button").on("click",t),$(".undo-delete-check-in-button").off("click").on("click",undo_delete_check_in),$(".show-deleted-in-button").off("click").on("click",(function(){$(".check-image-container.in.inactive").toggleClass("hidden")})),total_commission()})).catch((function(e){}))},window.show_add_check_in=function(){a(),$("#add_check_in_modal").modal("show"),get_check_info(),$("#check_in_agent_id").val($("#Agent_ID").val()),$("#check_in_client_name").val($("#other_client_name").val()),$("#check_in_street").val($("#other_street").val()),$("#check_in_city").val($("#other_city").val()),$("#check_in_state").val($("#other_state").val()),$("#check_in_zip").val($("#other_zip").val()),$("#other_street").length>0?$("#add_check_in_address").text($("#other_street").val()+" "+$("#other_city").val()+" "+$("#other_state").val()+" "+$("#other_zip").val()):$("#add_check_in_address").text($("#address").val()),e()},window.show_edit_check_in=function(){a(),$("#edit_check_in_modal").modal(),$(".edit-check-in-preview-div").html('<div class="border border-primary mt-2 check-preview"><img src="'+$(this).data("image-location")+'" class="w-100"></div>'),$("#edit_check_in_id").val($(this).data("check-id")),$("#edit_check_in_date").val($(this).data("check-date")),$("#edit_check_in_number").val($(this).data("check-number")),$("#edit_check_in_amount").val($(this).data("check-amount")),$("#edit_check_in_date_received").val($(this).data("date-received")),$("#edit_check_in_date_deposited").val($(this).data("date-deposited")),$("#save_edit_check_in_button").off("click").on("click",save_edit_check_in)},window.save_edit_check_in=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$("#edit_check_in_form"),n=new FormData(t[0]);axios.post("/agents/doc_management/transactions/save_edit_check_in",n,axios_options).then((function(t){get_checks_in(e),toastr.success("Check Successfully Edited"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.show_delete_check_in=function(){var e=$(this).data("check-id"),t=$(this).data("type");$("#confirm_modal").modal().find(".modal-body").html('<div class="d-flex justify-content-start align-items-center"><div class="mr-3"><i class="fad fa-exclamation-circle fa-2x text-danger"></i></div><div class="text-center">Are you sure you want to delete this check?</div></div>'),$("#confirm_modal").modal().find(".modal-title").html("Delete Check"),$("#confirm_button").off("click").on("click",(function(){save_delete_check_in(e,t)}))},window.save_delete_check_in=function(e,t){var n=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(n=$("#Commission_Other_ID").val());var i=new FormData;i.append("check_id",e),i.append("type",t),axios.post("/agents/doc_management/transactions/save_delete_check_in",i,axios_options).then((function(e){get_checks_in(n),toastr.success("Check Successfully Deleted"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.undo_delete_check_in=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$(this).data("check-id"),n=new FormData;n.append("check_id",t),axios.post("/agents/doc_management/transactions/undo_delete_check_in",n,axios_options).then((function(t){get_checks_in(e),toastr.success("Check Successfully Reactivated"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.get_checks_out=function(e){axios.get("/agents/doc_management/transactions/get_checks_out",{params:{Commission_ID:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".checks-out-div").html(e.data),$("#checks_out_total_display").text(global_format_number_with_decimals($("#checks_out_total_amount").val().toString())),$("#checks_out_total").val($("#checks_out_total_amount").val().toString()),$("#checks_out_count").text($("#checks_out_total_count").val()),$(".delete-check-out-button").off("click").on("click",show_delete_check_out),$(".edit-check-out-button").off("click").on("click",show_edit_check_out),$(".undo-delete-check-out-button").off("click").on("click",undo_delete_check_out),$(".show-deleted-out-button").off("click").on("click",(function(){$(".check-image-container.out.inactive").toggleClass("hidden")})),total_commission()})).catch((function(e){}))},window.show_add_check_out=function(){a(),$("#add_check_out_modal").modal("show"),$("#check_out_upload").off("change").on("change",(function(){if(""!=$(this).val()){$("#check_out_date, #check_out_amount, #check_out_number").val(""),global_loading_on("",'<div class="h5 text-white">Scanning Check</div>');var e=$("#add_check_out_form"),t=new FormData(e[0]);axios.post("/agents/doc_management/transactions/get_check_details",t,axios_options).then((function(e){e.data.check_date&&($("#check_out_date").val(e.data.check_date),$("#check_out_amount").val(e.data.check_amount),$("#check_out_number").val(e.data.check_number),e.data.check_pay_to_agent_id&&$("#check_out_agent_id").val(e.data.check_pay_to_agent_id)),$(".check-out-preview-div").html('<div class="border border-primary mt-2 check-preview"><img src="'+e.data.check_location+'" class="w-100"></div>'),global_loading_off()})).catch((function(e){}))}})),$("#check_out_agent_id").val($("#Agent_ID").val()),$(".mail-to-div").hide(),n(),$("#check_out_delivery_method").on("change",(function(){n()})),$("#check_out_agent_id").on("change",(function(){""!=$(this).val()?$("#check_out_recipient").val($(this).find("option:selected").data("recipient")):$("#check_out_recipient").val(""),$("#check_out_delivery_method, #check_out__mail_to_street, #check_out__mail_to_city, #check_out__mail_to_state, #check_out__mail_to_zip").val("")}))},window.save_add_check_out=function(){var e=$("#add_check_out_form");if("yes"==validate_form(e)){$("#save_add_check_out_button").prop("disabled",!0).html('<i class="fas fa-spinner fa-pulse mr-2"></i> Adding Check...');var t=new FormData(e[0]),n=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(n=$("#Commission_Other_ID").val()),t.append("Commission_ID",n),axios.post("/agents/doc_management/transactions/save_add_check_out",t,axios_options).then((function(e){$("#add_check_out_modal").modal("hide"),toastr.success("Check Successfully Added"),get_checks_out(n),$("#save_add_check_out_button").prop("disabled",!1).html('<i class="fal fa-check mr-2"></i> Save'),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))}},window.show_edit_check_out=function(){a(),$("#edit_check_out_modal").modal();var e=$(this);setTimeout((function(){$(".edit-check-out-preview-div").html('<div class="border border-primary mt-2 check-preview"><img src="'+e.data("image-location")+'" class="w-100"></div>'),$("#edit_check_out_id").val(e.data("check-id")),$("#edit_check_out_date").val(e.data("check-date")),$("#edit_check_out_number").val(e.data("check-number")),$("#edit_check_out_amount").val(e.data("check-amount")),e.data("recipient-agent-id")>0&&$("#edit_check_out_agent_id").val(e.data("recipient-agent-id")),$("#edit_check_out_recipient").val(e.data("recipient")),$("#edit_check_out_delivery_method").val(e.data("delivery-method")),$("#edit_check_out_date_ready").val(e.data("date-ready")),$("#edit_check_out_mail_to_street").val(e.data("mail-to-street")),$("#edit_check_out_mail_to_city").val(e.data("mail-to-city")),$("#edit_check_out_mail_to_state").val(e.data("mail-to-state")),$("#edit_check_out_mail_to_zip").val(e.data("mail-to-zip")),$(".edit-mail-to-div").hide(),"mail"!=e.data("delivery-method")&&"fedex"!=e.data("delivery-method")||$(".edit-mail-to-div").show(),$("#edit_check_out_modal").find(".custom-form-element").each((function(){e.val()})),$("#save_edit_check_out_button").off("click").on("click",save_edit_check_out),$(".edit-mail-to-div").hide(),i(),$("#edit_check_out_delivery_method").on("change",(function(){i()})),$("#edit_check_out_agent_id").on("change",(function(){e.val()>0?$("#edit_check_out_recipient").val(e.find("option:selected").data("recipient")):$("#edit_check_out_recipient").val("")}))}),100)},window.save_edit_check_out=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$("#edit_check_out_form"),n=new FormData(t[0]);axios.post("/agents/doc_management/transactions/save_edit_check_out",n,axios_options).then((function(t){get_checks_out(e),toastr.success("Check Successfully Edited"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.show_delete_check_out=function(){var e=$(this).data("check-id");$("#confirm_modal").modal().find(".modal-body").html('<div class="d-flex justify-content-start align-items-center"><div class="mr-3"><i class="fad fa-exclamation-circle fa-2x text-danger"></i></div><div class="text-center">Are you sure you want to delete this check?</div></div>'),$("#confirm_modal").modal().find(".modal-title").html("Delete Check"),$("#confirm_button").off("click").on("click",(function(){save_delete_check_out(e)}))},window.save_delete_check_out=function(e){var t=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(t=$("#Commission_Other_ID").val());var n=new FormData;n.append("check_id",e),axios.post("/agents/doc_management/transactions/save_delete_check_out",n,axios_options).then((function(e){get_checks_out(t),toastr.success("Check Successfully Deleted"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.undo_delete_check_out=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$(this).data("check-id"),n=new FormData;n.append("check_id",t),axios.post("/agents/doc_management/transactions/undo_delete_check_out",n,axios_options).then((function(t){get_checks_out(e),toastr.success("Check Successfully Reactivated"),setTimeout((function(){save_commission("no")}),500)})).catch((function(e){}))},window.get_commission_notes=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val()),axios.get("/agents/doc_management/transactions/get_commission_notes",{params:{Commission_ID:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".notes-list-group").html(e.data)})).catch((function(e){}))},window.add_commission_notes=function(){var e=$("#Commission_ID").val();$("#Commission_Other_ID").length>0&&(e=$("#Commission_Other_ID").val());var t=$(".commission-notes-input").val(),n=new FormData;n.append("Commission_ID",e),n.append("notes",t),axios.post("/agents/doc_management/transactions/add_commission_notes",n,axios_options).then((function(e){get_commission_notes(),toastr.success("Note Successfully Added"),$(".commission-notes-input").val("")})).catch((function(e){}))},window.popout_row=function(){$(this).hasClass("toggle-agent-info")?$(".agent-info-toggle").hide():$(".agent-info-toggle").show();var e=$(this).closest(".popout-row"),t=e.find(".popout-action"),n=e.find(".popout"),i="lightSpeedInRight",a="lightSpeedOutRight";t.hasClass("bg-blue-light")?($(".popout-action, .popout").removeClass("active bg-blue-light "+i+" "+a),n.addClass(a).hide()):($(".popout-action, .popout").removeClass("active bg-blue-light "+i+" "+a),t.addClass("bg-blue-light"),$(".popout").not(n).addClass(a).hide(),n.addClass("active bg-blue-light "+i).fadeIn(),$(window).width()>992&&$(".popout.middle").css({top:"-"+(n.height()/2-30)+"px"})),$(this).is(".show-view-add-button:last")?$(".commission-details-tabs").animate({opacity:"1"}):$(".popout.active").length>0?$(".commission-details-tabs").animate({opacity:"0.3"}):$(".commission-details-tabs").animate({opacity:"1"})}}},8620:()=>{document.URL.match(/commission_other/)&&$((function(){var e;e=$("#Commission_Other_ID").val(),axios.get("/doc_management/commission_other/commission_other_details/"+e,{headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$("#commission_other_div").html(t.data),$(".popout").eq(0).show(),get_checks_in(e),get_checks_out(e),get_commission_notes(e),get_income_deductions(e),get_commission_deductions(e),get_agent_details($("#Agent_ID").val()),$("#Agent_ID").on("change",(function(){get_agent_details($(this).val())})),save_commission("no"),$(".add-check-in-form-div").show(),$(".add-check-in-button").off("click").on("click",show_add_check_in),$(".add-check-out-button").off("click").on("click",show_add_check_out),$("#save_add_check_in_button").off("click").on("click",save_add_check_in),$("#save_add_check_out_button").off("click").on("click",save_add_check_out),$("#save_add_income_deduction_button").off("click").on("click",(function(){save_add_income_deduction()})),$("#add_income_deduction_div").on("hidden.bs.collapse",(function(){$("#income_deduction_description, #income_deduction_amount").val("")})),$("#save_add_commission_deduction_button").off("click").on("click",(function(){save_add_commission_deduction()})),$("#add_commission_deduction_div").on("hidden.bs.collapse",(function(){$("#commission_deduction_description, #commission_deduction_amount").val("")})),$(".save-commission-notes-button").off("click").on("click",add_commission_notes),$(".total").each((function(){""==$(this).val()&&$(this).val("0")})),$(".show-view-add-button").on("click",popout_row),global_format_money(),show_fields()})).catch((function(e){}))}))},5826:()=>{document.URL.match(/transaction_details/)&&(window.contracts_init=function(){$(".contract-div").on("mouseenter",(function(){$(this).addClass("z-depth-3").removeClass("shadow")})),$(".contract-div").on("mouseleave",(function(){$(this).removeClass("z-depth-3").addClass("shadow")}))})},9345:()=>{document.URL.match(/transaction_details/)&&(window.details_init=function(){$("#StateOrProvince").on("change",update_county_select),$("#search_mls_button").off("click").on("click",search_mls),$(".save-details-button").off("click").on("click",save_details),"no"==$("#UsingHeritage").val()&&$(".not-using-heritage").show(),$("#UsingHeritage").on("change",(function(){"yes"==$(this).val()?($(".not-using-heritage").hide(),$("#TitleCompany").val("")):$(".not-using-heritage").show()}))},window.save_details=function(){if($("#MLSListDate").val()>$("#ExpirationDate").val())return $("#modal_danger").modal().find(".modal-body").html("Expiration Date Must Be After List Date"),!1;var e=$("#transaction_details_form");if("yes"==validate_form(e)){var t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#Referral_ID").val(),a=$("#transaction_type").val(),o=new FormData(e[0]);o.append("Listing_ID",t),o.append("Contract_ID",n),o.append("Referral_ID",i),o.append("transaction_type",a),axios.post("/agents/doc_management/transactions/save_details",o,axios_options).then((function(e){"ok"==e.data.success&&(load_details_header(),toastr.success("Transaction Details Saved!"),1==e.data.agent_changed&&window.location.reload())})).catch((function(e){}))}},window.save_search_mls=function(){$("#confirm_import_modal").modal("hide");var e=$("#ListingId").val(),t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#transaction_type").val();axios.get("/agents/doc_management/transactions/save_mls_search",{params:{ListingId:e,Listing_ID:t,Contract_ID:n,transaction_type:i}}).then((function(e){"ok"==e.data.status&&(load_tabs("details"),load_details_header(),setTimeout((function(){$("#modal_success").modal().find(".modal-body").html("BrightMLS Data Successfully Imported")}),1e3))})).catch((function(e){}))},window.search_mls=function(){var e=$("#ListingId").val(),t=$("#Listing_ID").val();axios.get("/agents/doc_management/transactions/mls_search",{params:{ListingId:e,Listing_ID:t}}).then((function(e){if("ok"==e.data.status){search_response='We have located the property in BrightMLS!<br><br><i class="fad fa-exclamation-triangle mr-2 text-danger fa-lg"></i> The checklist will be replaced to include the forms required for the new listing. Any relevant forms will be kept in the checklist but some may need to be added or replaced<hr>';var t='                     <div class="row">                         <div class="col-12 col-md-5">                             <img src="'+e.data.picture_url+'" class="confirm-import-image">                         </div>                         <div class="col-12 col-md-7">                             Listed By '+e.data.list_company+"<br>                             "+e.data.address+"<br>                             "+e.data.city+", "+e.data.state+" "+e.data.zip+"<br>                         </div>                     </div>                 ";$("#confirm_import_modal").modal().find(".modal-body").html(search_response+t),$("#confirm_import_button").off("click").on("click",save_search_mls)}else"not found"==e.data.status&&$("#modal_danger").modal().find(".modal-body").html('<div class="h4 text-danger w-100 text-center"><i class="fad fa-exclamation-triangle mr-2"></i> Listing not found in BrightMLS</div>')})).catch((function(e){}))},window.update_county_select=function(){var e=$("#StateOrProvince").val();axios.get("/agents/doc_management/transactions/update_county_select",{params:{state:e}}).then((function(t){var n=t.data;$("#County").html("").prop("disabled",!1),$("#County").append('<option value=""></option>'),$.each(n,(function(e,t){$("#County").append('<option value="'+t.county.toUpperCase()+'">'+t.county+"</option>")})),setTimeout((function(){"DC"==e&&$("#County").val("DISTRICT OF COLUMBIA")}),100)})).catch((function(e){}))})},8140:(e,t,n)=>{"use strict";n.r(t);n(6486);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=l(/Edge/i),u=l(/firefox/i),f=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),p=l(/chrome/i)&&l(/android/i),m={capture:!1,passive:!1};function _(e,t,n){e.addEventListener(t,n,!c&&m)}function v(e,t,n){e.removeEventListener(t,n,!c&&m)}function g(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function b(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&g(e,t):g(e,t))||i&&e===n)return e;if(e===n)break}while(e=y(e))}return null}var w,k=/\s+/g;function E(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(k," ")}}function x(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function D(e,t){var n="";if("string"==typeof e)n=e;else do{var i=x(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function C(e,t,n){if(e){var i=e.getElementsByTagName(t),a=0,o=i.length;if(n)for(;a<o;a++)n(i[a],a);return i}return[]}function T(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,i,a){if(e.getBoundingClientRect||e===window){var o,r,s,l,d,u,f;if(e!==window&&e.parentNode&&e!==T()?(r=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,d=o.right,u=o.height,f=o.width):(r=0,s=0,l=window.innerHeight,d=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!c))do{if(a&&a.getBoundingClientRect&&("none"!==x(a,"transform")||n&&"static"!==x(a,"position"))){var h=a.getBoundingClientRect();r-=h.top+parseInt(x(a,"border-top-width")),s-=h.left+parseInt(x(a,"border-left-width")),l=r+o.height,d=s+o.width;break}}while(a=a.parentNode);if(i&&e!==window){var p=D(a||e),m=p&&p.a,_=p&&p.d;p&&(l=(r/=_)+(u/=_),d=(s/=m)+(f/=m))}return{top:r,left:s,bottom:l,right:d,width:f,height:u}}}function S(e,t,n){for(var i=L(e,!0),a=I(e)[t];i;){var o=I(i)[n];if(!("top"===n||"left"===n?a>=o:a<=o))return i;if(i===T())break;i=L(i,!1)}return!1}function O(e,t,n){for(var i=0,a=0,o=e.children;a<o.length;){if("none"!==o[a].style.display&&o[a]!==qe.ghost&&o[a]!==qe.dragged&&b(o[a],n.draggable,e,!1)){if(i===t)return o[a];i++}a++}return null}function A(e,t){for(var n=e.lastElementChild;n&&(n===qe.ghost||"none"===x(n,"display")||t&&!g(n,t));)n=n.previousElementSibling;return n||null}function R(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===qe.clone||t&&!g(e,t)||n++;return n}function M(e){var t=0,n=0,i=T();if(e)do{var a=D(e),o=a.a,r=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*r}while(e!==i&&(e=e.parentNode));return[t,n]}function L(e,t){if(!e||!e.getBoundingClientRect)return T();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=x(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return T();if(i||t)return n;i=!0}}}while(n=n.parentNode);return T()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function P(e,t){return function(){if(!w){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),w=setTimeout((function(){w=void 0}),t)}}}function q(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var j="Sortable"+(new Date).getTime();function B(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==x(e,"display")&&e!==qe.ghost){t.push({target:e,rect:I(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=D(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var a=!1,o=0;t.forEach((function(e){var t=0,n=e.target,r=n.fromRect,s=I(n),l=n.prevFromRect,c=n.prevToRect,d=e.rect,u=D(n,!0);u&&(s.top-=u.f,s.left-=u.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(r,s)&&(d.top-s.top)/(d.left-s.left)==(r.top-s.top)/(r.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(d,l,c,i.options)),N(s,r)||(n.prevFromRect=r,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,d,s,t)),t&&(a=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){x(e,"transition",""),x(e,"transform","");var a=D(this.el),o=a&&a.a,r=a&&a.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(r||1);e.animatingX=!!s,e.animatingY=!!l,x(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),x(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),x(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){x(e,"transition",""),x(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var U=[],z={initializeByDefault:!0},G={mount:function(e){for(var t in z)z.hasOwnProperty(t)&&!(t in e)&&(e[t]=z[t]);U.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),U.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=e+"Global";U.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](r({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](r({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var a in U.forEach((function(i){var a=i.pluginName;if(e.options[a]||i.initializeByDefault){var r=new i(e,t,e.options);r.sortable=e,r.options=e.options,e[a]=r,o(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var r=this.modifyOption(e,a,e.options[a]);void 0!==r&&(e.options[a]=r)}},getEventProperties:function(e,t){var n={};return U.forEach((function(i){"function"==typeof i.eventProperties&&o(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return U.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(i=a.optionListeners[t].call(e[a.pluginName],n))})),i}};function Y(e){var t=e.sortable,n=e.rootEl,i=e.name,a=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,f=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,_=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[j]){var g,y=t.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||c||d?(g=document.createEvent("Event")).initEvent(i,!0,!0):g=new CustomEvent(i,{bubbles:!0,cancelable:!0}),g.to=s||n,g.from=l||n,g.item=a||n,g.clone=o,g.oldIndex=u,g.newIndex=f,g.oldDraggableIndex=h,g.newDraggableIndex=p,g.originalEvent=m,g.pullMode=_?_.lastPutMode:void 0;var w=r({},v,G.getEventProperties(i,t));for(var $ in w)g[$]=w[$];n&&n.dispatchEvent(g),y[b]&&y[b].call(t,g)}}var H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,a=s(n,["evt"]);G.pluginEvent.bind(qe)(e,t,r({dragEl:V,parentEl:X,ghostEl:Q,rootEl:K,nextEl:J,lastDownEl:Z,cloneEl:ee,cloneHidden:te,dragStarted:pe,putSortable:se,activeSortable:qe.active,originalEvent:i,oldIndex:ne,oldDraggableIndex:ae,newIndex:ie,newDraggableIndex:oe,hideGhostForTarget:Me,unhideGhostForTarget:Le,cloneNowHidden:function(){te=!0},cloneNowShown:function(){te=!1},dispatchSortableEvent:function(e){W({sortable:t,name:e,originalEvent:i})}},a))};function W(e){Y(r({putSortable:se,cloneEl:ee,targetEl:V,rootEl:K,oldIndex:ne,oldDraggableIndex:ae,newIndex:ie,newDraggableIndex:oe},e))}var V,X,Q,K,J,Z,ee,te,ne,ie,ae,oe,re,se,le,ce,de,ue,fe,he,pe,me,_e,ve,ge,ye=!1,be=!1,we=[],$e=!1,ke=!1,Ee=[],xe=!1,De=[],Ce="undefined"!=typeof document,Te=h,Ie=d||c?"cssFloat":"float",Se=Ce&&!p&&!h&&"draggable"in document.createElement("div"),Oe=function(){if(Ce){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=x(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=O(e,0,t),o=O(e,1,t),r=a&&x(a),s=o&&x(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+I(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&"none"!==r.float){var d="left"===r.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==d?"horizontal":"vertical"}return a&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=i&&"none"===n[Ie]||o&&"none"===n[Ie]&&l+c>i)?"vertical":"horizontal"},Re=function(e){function t(e,n){return function(i,a,o,r){var s=i.options.group.name&&a.options.group.name&&i.options.group.name===a.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,a,o,r),n)(i,a,o,r);var l=(n?i:a).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},a=e.group;a&&"object"==i(a)||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},Me=function(){!Oe&&Q&&x(Q,"display","none")},Le=function(){!Oe&&Q&&x(Q,"display","")};Ce&&document.addEventListener("click",(function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1,!1}),!0);var Ne=function(e){if(V){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,o=e.clientY,we.some((function(e){if(!A(e)){var t=I(e),n=e[j].options.emptyInsertThreshold,i=a>=t.left-n&&a<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&i&&s?r=e:void 0}})),r);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[j]._onDragOver(n)}}var a,o,r},Pe=function(e){V&&V.parentNode[j]._isOutsideThisEl(e.target)};function qe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==qe.supportPointer&&"PointerEvent"in window&&!f,emptyInsertThreshold:5};for(var i in G.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var a in Re(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Se,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?_(e,"pointerdown",this._onTapStart):(_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),we.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,B())}function Fe(e,t,n,i,a,o,r,s){var l,u,f=e[j],h=f.options.onMove;return!window.CustomEvent||c||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=a||t,l.relatedRect=o||I(t),l.willInsertAfter=s,l.originalEvent=r,e.dispatchEvent(l),h&&(u=h.call(f,l,r)),u}function je(e){e.draggable=!1}function Be(){xe=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function ze(e){return setTimeout(e,0)}function Ge(e){return clearTimeout(e)}qe.prototype={constructor:qe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(me=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,V):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,a=i.preventOnFilter,o=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){De.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&De.push(i)}}(n),!V&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!f||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=b(s,i.draggable,n,!1))&&s.animated||Z===s)){if(ne=R(s),ae=R(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return W({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),H("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=b(l,i.trim(),n,!1))return W({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),H("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());i.handle&&!b(l,i.handle,n,!1)||this._prepareDragStart(e,r,s)}}},_prepareDragStart:function(e,t,n){var i,a=this,o=a.el,r=a.options,s=o.ownerDocument;if(n&&!V&&n.parentNode===o){var l=I(n);if(K=o,X=(V=n).parentNode,J=V.nextSibling,Z=n,re=r.group,qe.dragged=V,le={target:V,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=le.clientX-l.left,he=le.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,V.style["will-change"]="all",i=function(){H("delayEnded",a,{evt:e}),qe.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!u&&a.nativeDraggable&&(V.draggable=!0),a._triggerDragStart(e,t),W({sortable:a,name:"choose",originalEvent:e}),E(V,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){C(V,e.trim(),je)})),_(s,"dragover",Ne),_(s,"mousemove",Ne),_(s,"touchmove",Ne),_(s,"mouseup",a._onDrop),_(s,"touchend",a._onDrop),_(s,"touchcancel",a._onDrop),u&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),H("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||c))i();else{if(qe.eventCanceled)return void this._onDrop();_(s,"mouseup",a._disableDelayedDrag),_(s,"touchend",a._disableDelayedDrag),_(s,"touchcancel",a._disableDelayedDrag),_(s,"mousemove",a._delayedDragTouchMoveHandler),_(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&_(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&je(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?_(document,"pointermove",this._onTouchMove):_(document,t?"touchmove":"mousemove",this._onTouchMove):(_(V,"dragend",this),_(K,"dragstart",this._onDragStart));try{document.selection?ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ye=!1,K&&V){H("dragStarted",this,{evt:t}),this.nativeDraggable&&_(document,"dragover",Pe);var n=this.options;!e&&E(V,n.dragClass,!1),E(V,n.ghostClass,!0),qe.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,Me();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY))!==t;)t=e;if(V.parentNode[j]._isOutsideThisEl(e),t)do{if(t[j]){if(t[j]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Le()}},_onTouchMove:function(e){if(le){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=Q&&D(Q,!0),r=Q&&o&&o.a,s=Q&&o&&o.d,l=Te&&ge&&M(ge),c=(a.clientX-le.clientX+i.x)/(r||1)+(l?l[0]-Ee[0]:0)/(r||1),d=(a.clientY-le.clientY+i.y)/(s||1)+(l?l[1]-Ee[1]:0)/(s||1);if(!qe.active&&!ye){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Q){o?(o.e+=c-(de||0),o.f+=d-(ue||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");x(Q,"webkitTransform",u),x(Q,"mozTransform",u),x(Q,"msTransform",u),x(Q,"transform",u),de=c,ue=d,ce=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Q){var e=this.options.fallbackOnBody?document.body:K,t=I(V,!0,Te,!0,e),n=this.options;if(Te){for(ge=e;"static"===x(ge,"position")&&"none"===x(ge,"transform")&&ge!==document;)ge=ge.parentNode;ge!==document.body&&ge!==document.documentElement?(ge===document&&(ge=T()),t.top+=ge.scrollTop,t.left+=ge.scrollLeft):ge=T(),Ee=M(ge)}E(Q=V.cloneNode(!0),n.ghostClass,!1),E(Q,n.fallbackClass,!0),E(Q,n.dragClass,!0),x(Q,"transition",""),x(Q,"transform",""),x(Q,"box-sizing","border-box"),x(Q,"margin",0),x(Q,"top",t.top),x(Q,"left",t.left),x(Q,"width",t.width),x(Q,"height",t.height),x(Q,"opacity","0.8"),x(Q,"position",Te?"absolute":"fixed"),x(Q,"zIndex","100000"),x(Q,"pointerEvents","none"),qe.ghost=Q,e.appendChild(Q),x(Q,"transform-origin",fe/parseInt(Q.style.width)*100+"% "+he/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,a=n.options;H("dragStart",this,{evt:e}),qe.eventCanceled?this._onDrop():(H("setupClone",this),qe.eventCanceled||((ee=F(V)).draggable=!1,ee.style["will-change"]="",this._hideClone(),E(ee,this.options.chosenClass,!1),qe.clone=ee),n.cloneId=ze((function(){H("clone",n),qe.eventCanceled||(n.options.removeCloneOnHide||K.insertBefore(ee,V),n._hideClone(),W({sortable:n,name:"clone"}))})),!t&&E(V,a.dragClass,!0),t?(be=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,V)),_(document,"drop",n),x(V,"transform","translateZ(0)")),ye=!0,n._dragStartId=ze(n._dragStarted.bind(n,t,e)),_(document,"selectstart",n),pe=!0,f&&x(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,a,o=this.el,s=e.target,l=this.options,c=l.group,d=qe.active,u=re===c,f=l.sort,h=se||d,p=this,m=!1;if(!xe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=b(s,l.draggable,o,!0),N("dragOver"),qe.eventCanceled)return m;if(V.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return F(!1);if(be=!1,d&&!l.disabled&&(u?f||(i=!K.contains(V)):se===this||(this.lastPutMode=re.checkPull(this,d,V,e))&&c.checkPut(this,d,V,e))){if(a="vertical"===this._getDirection(e,s),t=I(V),N("dragOverValid"),qe.eventCanceled)return m;if(i)return X=K,P(),this._hideClone(),N("revert"),qe.eventCanceled||(J?K.insertBefore(V,J):K.appendChild(V)),F(!0);var _=A(o,l.draggable);if(!_||function(e,t,n){var i=I(A(n.el,n.options.draggable)),a=10;return t?e.clientX>i.right+a||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+a}(e,a,this)&&!_.animated){if(_===V)return F(!1);if(_&&o===e.target&&(s=_),s&&(n=I(s)),!1!==Fe(K,o,V,t,s,n,e,!!s))return P(),o.appendChild(V),X=o,B(),F(!0)}else if(s.parentNode===o){n=I(s);var v,g,y,w=V.parentNode!==o,$=!function(e,t,n){var i=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,r=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===r||a===s||i+o/2===r+l/2}(V.animated&&V.toRect||t,s.animated&&s.toRect||n,a),k=a?"top":"left",D=S(s,"top","top")||S(V,"top","top"),C=D?D.scrollTop:void 0;if(me!==s&&(g=n[k],$e=!1,ke=!$&&l.invertSwap||w),0!==(v=function(e,t,n,i,a,o,r,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,d=i?n.top:n.left,u=i?n.bottom:n.right,f=!1;if(!r)if(s&&ve<c*a){if(!$e&&(1===_e?l>d+c*o/2:l<u-c*o/2)&&($e=!0),$e)f=!0;else if(1===_e?l<d+ve:l>u-ve)return-_e}else if(l>d+c*(1-a)/2&&l<u-c*(1-a)/2)return function(e){return R(V)<R(e)?1:-1}(t);if((f=f||r)&&(l<d+c*o/2||l>u-c*o/2))return l>d+c/2?1:-1;return 0}(e,s,n,a,$?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,ke,me===s))){var T=R(V);do{T-=v,y=X.children[T]}while(y&&("none"===x(y,"display")||y===Q))}if(0===v||y===s)return F(!1);me=s,_e=v;var O=s.nextElementSibling,M=!1,L=Fe(K,o,V,t,s,n,e,M=1===v);if(!1!==L)return 1!==L&&-1!==L||(M=1===L),xe=!0,setTimeout(Be,30),P(),M&&!O?o.appendChild(V):s.parentNode.insertBefore(V,M?O:s),D&&q(D,0,C-D.scrollTop),X=V.parentNode,void 0===g||ke||(ve=Math.abs(g-I(s)[k])),B(),F(!0)}if(o.contains(V))return F(!1)}return!1}function N(l,c){H(l,p,r({evt:e,isOwner:u,axis:a?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:f,fromSortable:h,target:s,completed:F,onMove:function(n,i){return Fe(K,o,V,t,n,I(n),e,i)},changed:B},c))}function P(){N("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function F(t){return N("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(p),p!==h&&(E(V,se?se.options.ghostClass:d.options.ghostClass,!1),E(V,l.ghostClass,!0)),se!==p&&p!==qe.active?se=p:p===qe.active&&se&&(se=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){N("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===V&&!V.animated||s===o&&!s.animated)&&(me=null),l.dragoverBubble||e.rootEl||s===document||(V.parentNode[j]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function B(){ie=R(V),oe=R(V,l.draggable),W({sortable:p,name:"change",toEl:o,newIndex:ie,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Ne),v(document,"mousemove",Ne),v(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=R(V),oe=R(V,n.draggable),H("drop",this,{evt:e}),X=V&&V.parentNode,ie=R(V),oe=R(V,n.draggable),qe.eventCanceled||(ye=!1,ke=!1,$e=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ge(this.cloneId),Ge(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&x(document.body,"user-select",""),x(V,"transform",""),e&&(pe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(K===X||se&&"clone"!==se.lastPutMode)&&ee&&ee.parentNode&&ee.parentNode.removeChild(ee),V&&(this.nativeDraggable&&v(V,"dragend",this),je(V),V.style["will-change"]="",pe&&!ye&&E(V,se?se.options.ghostClass:this.options.ghostClass,!1),E(V,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:e}),K!==X?(ie>=0&&(W({rootEl:X,name:"add",toEl:X,fromEl:K,originalEvent:e}),W({sortable:this,name:"remove",toEl:X,originalEvent:e}),W({rootEl:X,name:"sort",toEl:X,fromEl:K,originalEvent:e}),W({sortable:this,name:"sort",toEl:X,originalEvent:e})),se&&se.save()):ie!==ne&&ie>=0&&(W({sortable:this,name:"update",toEl:X,originalEvent:e}),W({sortable:this,name:"sort",toEl:X,originalEvent:e})),qe.active&&(null!=ie&&-1!==ie||(ie=ne,oe=ae),W({sortable:this,name:"end",toEl:X,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){H("nulling",this),K=V=X=Q=J=ee=Z=te=le=ce=pe=ie=oe=ne=ae=me=_e=se=re=qe.dragged=qe.ghost=qe.clone=qe.active=null,De.forEach((function(e){e.checked=!0})),De.length=de=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":V&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,a=n.length,o=this.options;i<a;i++)b(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Ue(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var a=i.children[t];b(a,this.options.draggable,i,!1)&&(n[e]=a)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return b(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=G.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Re(n)},destroy:function(){H("destroy",this);var e=this.el;e[j]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),we.splice(we.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!te){if(H("hideClone",this),qe.eventCanceled)return;x(ee,"display","none"),this.options.removeCloneOnHide&&ee.parentNode&&ee.parentNode.removeChild(ee),te=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(te){if(H("showClone",this),qe.eventCanceled)return;V.parentNode!=K||this.options.group.revertClone?J?K.insertBefore(ee,J):K.appendChild(ee):K.insertBefore(ee,V),this.options.group.revertClone&&this.animate(V,ee),x(ee,"display",""),te=!1}}else this._hideClone()}},Ce&&_(document,"touchmove",(function(e){(qe.active||ye)&&e.cancelable&&e.preventDefault()})),qe.utils={on:_,off:v,css:x,find:C,is:function(e,t){return!!b(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:P,closest:b,toggleClass:E,clone:F,index:R,nextTick:ze,cancelNextTick:Ge,detectDirection:Ae,getChild:O},qe.get=function(e){return e[j]},qe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(qe.utils=r({},qe.utils,e.utils)),G.mount(e)}))},qe.create=function(e,t){return new qe(e,t)},qe.version="1.13.0";var Ye,He,We,Ve,Xe,Qe,Ke=[],Je=!1;function Ze(){Ke.forEach((function(e){clearInterval(e.pid)})),Ke=[]}function et(){clearInterval(Qe)}var tt=P((function(e,t,n,i){if(t.scroll){var a,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=T(),d=!1;He!==n&&(He=n,Ze(),Ye=t.scroll,a=t.scrollFn,!0===Ye&&(Ye=L(n,!0)));var u=0,f=Ye;do{var h=f,p=I(h),m=p.top,_=p.bottom,v=p.left,g=p.right,y=p.width,b=p.height,w=void 0,$=void 0,k=h.scrollWidth,E=h.scrollHeight,D=x(h),C=h.scrollLeft,S=h.scrollTop;h===c?(w=y<k&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),$=b<E&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(w=y<k&&("auto"===D.overflowX||"scroll"===D.overflowX),$=b<E&&("auto"===D.overflowY||"scroll"===D.overflowY));var O=w&&(Math.abs(g-o)<=s&&C+y<k)-(Math.abs(v-o)<=s&&!!C),A=$&&(Math.abs(_-r)<=s&&S+b<E)-(Math.abs(m-r)<=s&&!!S);if(!Ke[u])for(var R=0;R<=u;R++)Ke[R]||(Ke[R]={});Ke[u].vx==O&&Ke[u].vy==A&&Ke[u].el===h||(Ke[u].el=h,Ke[u].vx=O,Ke[u].vy=A,clearInterval(Ke[u].pid),0==O&&0==A||(d=!0,Ke[u].pid=setInterval(function(){i&&0===this.layer&&qe.active._onTouchMove(Xe);var t=Ke[this.layer].vy?Ke[this.layer].vy*l:0,n=Ke[this.layer].vx?Ke[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(qe.dragged.parentNode[j],n,t,e,Xe,Ke[this.layer].el)||q(Ke[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&f!==c&&(f=L(f,!1)));Je=d}}),30),nt=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,r=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||a;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function it(){}function at(){}it.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=O(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:nt},o(it,{pluginName:"revertOnSpill"}),at.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:nt},o(at,{pluginName:"removeOnSpill"});qe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):this.options.supportPointer?_(document,"pointermove",this._handleFallbackAutoScroll):t.touches?_(document,"touchmove",this._handleFallbackAutoScroll):_(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),et(),Ze(),clearTimeout(w),w=void 0},nulling:function(){Xe=He=Ye=Je=Qe=We=Ve=null,Ke.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,a);if(Xe=e,t||d||c||f){tt(e,this.options,o,t);var r=L(o,!0);!Je||Qe&&i===We&&a===Ve||(Qe&&et(),Qe=setInterval((function(){var o=L(document.elementFromPoint(i,a),!0);o!==r&&(r=o,Ze()),tt(e,n.options,o,t)}),10),We=i,Ve=a)}else{if(!this.options.bubbleScroll||L(o,!0)===T())return void Ze();tt(e,this.options,L(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),qe.mount(at,it);if(document.URL.match(/transaction_details/)){$((function(){$(document).on("click","a, .btn, .dropdown-item, .check-all",(function(e){var t=$(this),n=t.attr("id"),i=t[0].classList;i.contains("add-folder-button")?show_add_folder():i.contains("check-all")?check_all(t):i.contains("doc-get-signed-button")?get_signed(t):i.contains("doc-delete-button")?show_delete_one_document(t):i.contains("delete-folder-button")?confirm_delete_folder(t.data("folder-id")):i.contains("doc-rename-button")?show_rename_document(t):i.contains("doc-split-button")?show_split_document(t):i.contains("doc-duplicate-button")?duplicate_document(t):i.contains("doc-print-button")?print_pdf(t.data("link")):i.contains("docs-download-button")?print_download_documents("download",t.data("type")):i.contains("docs-print-button")?print_download_documents("print",t.data("type")):i.contains("doc-email-button")||i.contains("docs-email-button")?email_get_documents(t):i.contains("delete-address-button")?t.closest(".row").remove():i.contains("remove-emailed-document")?remove_emailed_document(t):i.contains("move-documents-button")?show_move_documents():i.contains("delete-documents-button")?show_delete_documents():"upload_documents_button"==n?show_upload_documents():"add_checklist_template_button"==n?show_add_checklist_template():"save_add_checklist_template_button"==n?$(".checklist-template-form:checked").length>0?($("#save_add_checklist_template_button").html('<i class="fas fa-spinner fa-pulse mr-2"></i> Adding Documents...').prop("disabled",!0),save_add_template_documents("checklist")):$("#modal_danger").modal().find(".modal-body").html("You must select at least one form to add"):"add_individual_template_button"==n?show_add_individual_template():"save_add_individual_template_button"==n?$(".individual-template-form:checked").length>0?($("#save_add_individual_template_button").html('<i class="fas fa-spinner fa-pulse mr-2"></i> Adding Documents...').prop("disabled",!0),save_add_template_documents("individual")):$("#modal_danger").modal().find(".modal-body").html("You must select at least one form to add"):"send_email_button"==n&&email_documents()})),$(document).on("change",".check-document",show_bulk_options)})),window.documents_init=function(e){setTimeout((function(){$(".check-all").next("label").css({transform:"scale(1.2)"}),select_form_group(),$("#add_documents_div").on("show.bs.collapse",(function(){$("#bulk_options_div").collapse("hide"),$(".check-document, .check-all").prop("checked",!1).closest(".document-div").removeClass("bg-blue-light")})),$(".sortable-documents").sortable({connectWith:".sortable-documents",placeholder:"bg-sortable",handle:".document-handle",stop:function(e,t){reorder_documents("no")}}),$(".sortable-documents").disableSelection(),$(".dropdown-submenu .dropdown-item").on("click",(function(e){e.stopPropagation(),e.preventDefault(),$(this).next(".dropdown-menu").toggle()})),$(".form-in-use").each((function(){$(this).find(".individual-template-form").prop("disabled",!0)})),$(".add-to-checklist-button").off("click").on("click",show_add_to_checklist),$(".documents-container").find("modal").appendTo("body"),e&&reorder_documents("yes"),get_emailed_documents(),setTimeout((function(){var e=[];$(".document-div").each((function(){e.push($(this).data("document-id"))})),in_process(e),in_process_esign()}),1e3);var t=document.getElementById("upload_documents_file"),n=FilePond.create(t);n.setOptions({allowImagePreview:!1,multiple:!0,acceptedFileTypes:["application/pdf","image/*"],fileValidateTypeLabelExpectedTypes:"PDF or Image Only",server:{process:{url:"/agents/doc_management/transactions/upload_documents",onerror:function(e){return e.data},ondata:function(e){return e.append("Listing_ID",$("#Listing_ID").val()),e.append("Contract_ID",$("#Contract_ID").val()),e.append("Referral_ID",$("#Referral_ID").val()),e.append("transaction_type",$("#transaction_type").val()),e.append("Agent_ID",$("#Agent_ID").val()),e.append("folder",$("#default_folder_id").val()),e}}},labelIdle:'Drag & Drop here or <span class="filepond--label-action"> Browse </span>',onprocessfiles:function(){n.removeFiles(),load_tabs("documents")}}),$(".filepond--credits").hide()}),100)},window.get_signed=function(e){var t=$("#Listing_ID").val()>0?$("#Listing_ID").val():0,n=$("#Contract_ID").val()>0?$("#Contract_ID").val():0,i=$("#Referral_ID").val()>0?$("#Referral_ID").val():0,a=$("#transaction_type").val(),o=$("#Agent_ID").val(),r=$("#User_ID").val(),s=[];e.data("document-id")?s.push(e.data("document-id")):$(".check-document:checked").each((function(){s.push($(this).data("document-id"))})),s=s.join(","),window.open("/esign/esign_add_documents/"+r+"/"+s+"/"+o+"/"+t+"/"+n+"/"+i+"/"+a,"_blank")},window.in_process_esign=function(){var e=$("#Listing_ID").val(),t=$("#Contract_ID").val(),n=$("#Referral_ID").val(),i=$("#transaction_type").val(),a=new FormData;a.append("Listing_ID",e),a.append("Contract_ID",t),a.append("Referral_ID",n),a.append("transaction_type",i),axios.post("/agents/doc_management/transactions/in_process_esign",a,axios_options).then((function(e){var t=$(".document-div.sent").length;$(".document-div.sent, .document-div.completed").removeClass("sent completed"),e.data.esign_documents.sent.forEach((function(e){$('.document-div[data-document-id="'+e+'"]').addClass("sent")})),e.data.esign_documents.completed.forEach((function(e){$('.document-div[data-document-id="'+e+'"]').addClass("completed")}));var n=$(".document-div.sent").length;t>0&&n<t&&load_tabs("documents"),$(".document-div").not(".sent").not(".completed").not(".in-process").find("button").removeClass("hidden"),$(".document-div").not(".sent").not(".completed").not(".in-process").find("button").removeClass("hidden"),$(".document-div").not(".sent").not(".completed").find(".sent-info, .completed-info").hide(),$(".document-div.sent").find("button").addClass("hidden"),$(".document-div.sent").find(".sent-info").show(),$(".document-div.completed").find("button.disabled-completed").addClass("hidden"),$(".document-div.completed").find(".completed-info").show()})).catch((function(e){console.log(e)}))},window.in_process=function(e){var t=new FormData;t.append("document_ids",e),axios.post("/agents/doc_management/transactions/in_process",t,axios_options).then((function(e){!function(e){e.length>0&&e.forEach((function(e){var t=$('.document-div[data-document-id="'+e+'"]');t.addClass("in-process").find(".check-document").prop("disabled",!0),t.find(".in-process-icon").show(),t.find(".document-title a").css({opacity:"0.4"}),t.find("button").removeClass("hidden"),$("#in_process_div").show()}))}(e.data.in_process),function(e){$(".in-process").length>0?e.length>0&&e.forEach((function(e){var t=$('.document-div[data-document-id="'+e+'"]');t.removeClass("in-process").find(".check-document").prop("disabled",!1),t.find(".in-process-icon").hide(),t.find(".document-title a").css({opacity:"1"}),t.find("button").removeClass("hidden")})):$("#in_process_div").hide()}(e.data.not_in_process)})).catch((function(e){}))},window.remove_emailed_document=function(e){var t=e.data("document-id"),n=new FormData;n.append("document_id",t),axios.post("/agents/doc_management/transactions/delete_emailed_document",n,axios_options).then((function(t){var n=e.closest(".list-group");e.closest(".list-group-item").addClass("animate__animated animate__fadeOut"),setTimeout((function(){e.closest(".list-group-item").remove(),0==n.find(".list-group-item").length&&($("#emailed_documents_container").hide(),$("#emailed_documents_div").html(""))}),700)})).catch((function(e){}))},window.get_emailed_documents=function(){if(""==$("#emailed_documents_div").html()){var e=$("#Listing_ID").val(),t=$("#Contract_ID").val(),n=$("#Referral_ID").val(),i=$("#transaction_type").val(),a=$("#Agent_ID").val();axios.get("/agents/doc_management/transactions/get_emailed_documents",{params:{Listing_ID:e,Contract_ID:t,Referral_ID:n,transaction_type:i,Agent_ID:a}}).then((function(e){$("#emailed_documents_div").html(""),e.data.length>0&&e.data.forEach((function(e){var t='                         <div class="list-group-item list-group-item-action py-1 d-flex justify-content-between align-items-center emailed-document" data-document-id="'+e.id+'" data-file-size="'+e.file_size+'" data-file-name-display="'+e.file_name_display+'">                             <div class="d-flex justify-content-start align-items-center">                                 <div class="mr-4">                                     <a href="javascript: void(0)" class="remove-emailed-document" data-document-id="'+e.id+'"><i class="fal fa-times text-danger"></i></a>                                 </div>                                 <div>                                     '+e.file_name_display+'                                 </div>                             </div>                             <div>                                 <a href="'+e.file_location+'" target="_blank">View</a>                             </div>                         </div>                         ';$("#emailed_documents_div").append(t),$("#emailed_documents_container").show()})),$("#add_emailed_documents_button").off("click").on("click",add_emailed_documents)})).catch((function(e){}))}},window.add_emailed_documents=function(){var e=[],t=[];$(".emailed-document").each((function(){e.push($(this).data("document-id"));var n={};n.file_name_display=$(this).data("file-name-display"),n.file_size=($(this).data("file-size")/1048576).toFixed(2),t.push(n)})),file_progress(t);var n=new FormData,i=$("#Listing_ID").val(),a=$("#Contract_ID").val(),o=$("#Referral_ID").val(),r=$("#Agent_ID").val(),s=$("#transaction_type").val(),l=$("#emailed_documents_folder").val();n.append("document_ids",e),n.append("Listing_ID",i),n.append("Contract_ID",a),n.append("Referral_ID",o),n.append("Agent_ID",r),n.append("transaction_type",s),n.append("folder",l),axios.post("/agents/doc_management/transactions/add_emailed_documents",n,axios_options).then((function(e){load_tabs("documents"),global_loading_off()})).catch((function(e){}))},window.print_download_documents=function(e,t){var n=[];$(".check-document:checked").each((function(){n.push($(this).data("document-id"))}));var i=new FormData,a=$("#Listing_ID").val(),o=$("#Contract_ID").val(),r=$("#Referral_ID").val(),s=$("#transaction_type").val();i.append("document_ids",n),i.append("Listing_ID",a),i.append("Contract_ID",o),i.append("Referral_ID",r),i.append("transaction_type",s),i.append("type",t),axios.post("/agents/doc_management/transactions/merge_documents",i,axios_options).then((function(t){var n=t.data.file_location,i=t.data.filename;if("print"==e)print_pdf(n);else if("download"==e){var a=document.createElement("A");a.href=n,a.download=i,document.body.appendChild(a),a.click(),document.body.removeChild(a)}})).catch((function(e){}))},window.email_documents=function(){$("#send_email_button").html('<i class="fas fa-spinner fa-pulse mr-2"></i> Sending Email');var e=$("#email_from").val(),t=[];$(".to-addresses").each((function(){""!=$(this).find(".email-to-address").val()&&t.push({type:$(this).find(".email-address-type").val(),address:$(this).find(".email-to-address").val()})}));var n=$("#email_subject").val(),i=$("#email_message").val(),a=[];$("#email_attachments").find(".attachment-row").each((function(){a.push({filename:$(this).data("file-name"),file_location:$(this).data("file-location")})}));var o=new FormData;o.append("from",e),o.append("to_addresses",JSON.stringify(t)),o.append("subject",n),o.append("message",i),o.append("attachments",JSON.stringify(a)),axios.post("/send_email",o,axios_options).then((function(e){e.data.fail&&$("#modal_danger").modal().find(".modal-body").html("The attachments you are sending are too large. They must total less than 20MB and they are currently "+e.data.attachment_size+"MB"),$("#send_email_button").html('<i class="fad fa-share mr-2"></i> Send Email'),$("#send_email_modal").modal("hide"),toastr.success("Documents Successfully Emailed")})).catch((function(e){}))},window.email_get_documents=function(e){var t=e.data("docs-type")?e.data("docs-type"):"",n=[];t?$(".check-document:checked").each((function(){n.push($(this).data("document-id"))})):n.push(e.data("document-id"));var i=new FormData,a=$("#Listing_ID").val(),o=$("#Contract_ID").val(),r=$("#Referral_ID").val(),s=$("#transaction_type").val();i.append("document_ids",n),i.append("Listing_ID",a),i.append("Contract_ID",o),i.append("Referral_ID",r),i.append("transaction_type",s),i.append("docs_type",t),i.append("type","filled"),axios.post("/agents/doc_management/transactions/email_get_documents",i,axios_options).then((function(e){var t=e.data.file_locations,n=e.data.filenames;t.forEach((function(e,t){var i=n[t],a='                     <div class="d-flex justify-content-start attachment-row" data-file-name="'+i+'" data-file-location="'+e+'">                         <div><a href="javascript: void(0)" class="delete-attachment-button"><i class="fal fa-times text-danger mr-2"></i></a></div>                         <div>'+i+"</div>                     </div>";$("#email_attachments").append(a)})),$(".delete-attachment-button").on("click",(function(){$(this).closest(".attachment-row").remove()})),$("#send_email_modal").modal(),$("#send_email_modal").on("hide.bs.modal",(function(){$("#email_attachments").html(""),$(".new-address").remove()}));text_editor({menubar:!1,statusbar:!1,toolbar:!1,selector:"#email_message"}),$(".add-address-button").off("click").on("click",(function(){$('                     <div class="row to-addresses new-address">                         <div class="col-2">                             <select class="custom-form-element form-select form-select-no-cancel form-select-no-search email-address-type">                                 <option value="to">To:</option>                                 <option value="cc" selected>Cc:</option>                                 <option value="bcc">Bcc:</option>                             </select>                         </div>                         <div class="col-9">                             <input type="text" class="custom-form-element form-input email-to-address">                         </div>                         <div class="col-1">                             <div class="h-100 d-flex justify-content-end align-items-center">                                 <button class="btn btn-sm btn-danger delete-address-button"><i class="fal fa-times delete-address-button"></i></button>                             </div>                         </div>                     </div>                     ').insertBefore($(this).closest(".row"))}))})).catch((function(e){}))},window.duplicate_document=function(e){global_loading_on("",'<h4 class="text-white">Duplicating Form, Fields and Values...</h4>');var t=e.data("document-id"),n=e.data("file-type"),i=$("#Listing_ID").val(),a=$("#Contract_ID").val(),o=$("#Referral_ID").val(),r=$("#transaction_type").val(),s=new FormData;s.append("document_id",t),s.append("file_type",n),s.append("Listing_ID",i),s.append("Contract_ID",a),s.append("Referral_ID",o),s.append("transaction_type",r),axios.post("/agents/doc_management/transactions/duplicate_document",s,axios_options).then((function(e){load_tabs("documents"),global_loading_off(),toastr.success("Document successfully duplicated")})).catch((function(e){}))},window.show_split_document=function(e){$("#folder_id").val(e.data("folder"));var t=e.data("document-id"),n=e.data("checklist-id"),i=e.data("file-type"),a=e.data("file-name"),o=$("#transaction_type").val();$("#split_document_modal").modal(),axios.get("/agents/doc_management/transactions/get_split_document_html",{params:{document_id:t,checklist_id:n,file_type:i,file_name:a,transaction_type:o},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#split_document_container").html(e.data),setTimeout((function(){$(".image-slider").draggable({axis:"x"}),$(".selected-images-slider").draggable({axis:"x"}),$(document).on("click",".image-zoom-button",(function(){$("#image_zoom_modal").modal(),$("#image_zoom_div").html('<img src="'+$(this).data("image-src")+'" class="image-preview">')})),$(document).on("click",".add-to-selected-button",(function(){var e=$(this).closest(".image-holder");e.appendTo(".selected-images-slider").find(".image-order").text(e.index()+1),$(".add-docs-to-checklist-item-button, #save_document_name_button").prop("disabled",!1)})),$(document).on("click",".remove-from-selected-button",(function(){$(this).closest(".image-holder").prependTo(".image-slider");var e=$(".image-slider").find(".image-holder");e.sort((function(e,t){return $(e).data("index")-$(t).data("index")})),$(".image-slider").html(e),0==$(".selected-images-slider").find(".image-holder").length?$(".add-docs-to-checklist-item-button, #save_document_name_button").prop("disabled",!0):$(".selected-images-slider").find(".image-holder").each((function(){var e=$(this).index()+1;$(this).find(".image-order").text(e)}))})),$('[data-toggle="popover"]').popover(),$("#save_document_name_button").on("click",(function(){$(this).html('<i class="fas fa-spinner fa-pulse mr-2"></i> Saving...'),save_document_name($(this)),$("#close_split_document_button").removeClass("btn-danger").addClass("btn-success").html('<i class="fal fa fa-check mr-2"></i> Finish and Close')})),$(".add-docs-to-checklist-item-button").on("click",(function(){$(this).html('<i class="fas fa-spinner fa-pulse mr-2"></i> Adding...'),save_document_name($(this)),$("#close_split_document_button").removeClass("btn-danger").addClass("btn-success").html('<i class="fal fa fa-check mr-2"></i> Finish and Close')}))}),500)})).catch((function(e){}))},window.save_document_name=function(e){var t,n,i,a=$("#Listing_ID").val(),o=$("#Contract_ID").val(),r=$("#Referral_ID").val(),s=$("#transaction_type").val(),l=$("#Agent_ID").val(),c=$("#folder_id").val(),d=null!==(t=e.data("file-id"))&&void 0!==t?t:null,u=null!==(n=e.data("checklist-item-id"))&&void 0!==n?n:null,f=null!==(i=e.data("checklist-id"))&&void 0!==i?i:null,h="yes",p=e.data("upload-id");if(!u){var m=$("#document_name_form");h=validate_form(m),p=$("#document_name").val()}if("0"==p&&(p=e.closest(".list-group-item").find(".document-name").text()),"yes"==h){var _=[],v="";$(".selected-images-container").find(".image-holder").each((function(){v=$(this).data("file-type"),_.push($(this).data("document-image-id"))}));var g=new FormData;g.append("Listing_ID",a),g.append("Contract_ID",o),g.append("Referral_ID",r),g.append("transaction_type",s),g.append("Agent_ID",l),g.append("folder_id",c),g.append("document_name",p),g.append("image_ids",_),g.append("file_type",v),g.append("file_id",d),g.append("checklist_item_id",u),g.append("checklist_id",f),axios.post("/agents/doc_management/transactions/save_split_document",g,axios_options).then((function(t){toastr.success("New Document Successfully Created"),$(".add-docs-to-checklist-item-button").html('<i class="fal fa-plus mr-1 mr-sm-2"></i> Add').prop("disabled",!0),$("#save_document_name_button").html('<i class="fad fa-save mr-2"></i> Save Document').prop("disabled",!0),$(".selected-images-slider").html(""),$("#split_document_modal").on("hide.bs.modal",(function(){load_tabs("documents")})),e.parent().next().html('<span class="badge checklist-item-badge bg-blue-light text-primary p-1" title="We have received your document for this item. It is in the review process"><span class="d-none d-sm-inline-block"><i class="fal fa-stopwatch fa-lg mr-1"></i> </span>Pending</span>');var n=e.closest(".list-group-item").find(".docs-count-badge").text();n=parseInt(n),e.closest(".list-group-item").find(".docs-count-badge").text(n+1)})).catch((function(e){}))}},window.show_rename_document=function(e){var t=e.data("document-id"),n=e.data("document-name");$("#rename_document_modal").modal(),$("#new_document_name").val(n),$("#save_rename_document_button").on("click",(function(){save_rename_document(t)}))},window.save_rename_document=function(e){var t=$("#new_document_name").val(),n=new FormData;n.append("document_id",e),n.append("new_name",t),axios.post("/agents/doc_management/transactions/save_rename_document",n,axios_options).then((function(e){toastr.success("Document Successfully Renamed"),load_tabs("documents",!1)})).catch((function(e){}))},window.show_add_to_checklist=function(){var e=$(this);"yes"==$("#questions_confirmed").val()?add_to_checklist(e):($("#required_fields_modal").modal(),$("#save_required_fields_button").off("click").on("click",(function(){var t=$("#required_fields_form");if("yes"==validate_form(t)){var n=$("#Contract_ID").val(),i=new FormData(t[0]);i.append("Contract_ID",n),axios.post("/agents/doc_management/transactions/save_required_fields",i,axios_options).then((function(t){$("#required_fields_modal").modal("hide"),add_to_checklist(e),$("#questions_confirmed").val("yes")})).catch((function(e){}))}})))},window.add_to_checklist=function(e){var t,n=e.data("checklist-id"),i="no";if(e.data("document-id"))t=[e.data("document-id")],e.hasClass("assigned")&&(i="yes");else{if(t=[],0==$(".check-document:checked").not(".assigned").length)return $("#modal_danger").modal().find(".modal-body").html("All documents you selected have already been assigned"),!1;$(".check-document:checked").not(".assigned").each((function(){t.push($(this).data("document-id"))})),$(".assigned:checked").length>0&&(i="yes")}if("yes"==i){$("#modal_info").modal().find(".modal-body").html('<div class="d-flex justify-content-start align-items-center"><div class="mr-4"><i class="fad fa-exclamation-triangle fa-2x text-danger"></i></div><div class="text-gray text-center">Some documents you selected have already be assigned and will not be included</div></div>');var a=$("#modal_info").find(".modal-footer").find(".btn");a.text("Continue"),a.on("click",(function(){add_to_checklist_html(n,t)}))}else add_to_checklist_html(n,t)},window.add_to_checklist_html=function(e,t){var n=$("#transaction_type").val();axios.get("/agents/doc_management/transactions/add_document_to_checklist_item_html",{params:{document_ids:t,checklist_id:e,transaction_type:n},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#add_items_to_checklist_div").html(e.data),disable_arrows(),$(".doc-list-arrow").on("click",(function(){var e="";e="up"==$(this).data("dir")?$(".add-to-checklist-document-div.active").prev(".add-to-checklist-document-div"):$(".add-to-checklist-document-div.active").next(".add-to-checklist-document-div"),arrows(e)})),$(".add-to-checklist-document-div").on("click",(function(){arrows($(this))})),$("#add_to_checklist_documents_wrapper").off("wheel").on("wheel",(function(e){return e.originalEvent.deltaY>0?$(".add-to-checklist-document-div.active").next(".add-to-checklist-document-div").trigger("click"):$(".add-to-checklist-document-div.active").prev(".add-to-checklist-document-div").trigger("click"),!1})),$(".assign-button").off("click").on("click",assign_document),$("#save_add_to_checklist_button").off("click").on("click",(function(){$(this).hide(),save_add_to_checklist($(this).data("checklist-id"))}));var t=[];$(".add-to-checklist-document-div").each((function(){var e=$(this).data("file-name"),n=$(this).data("document-id");1==$('.assign-button[data-file-name="'+e+'"]').length&&t.push(n)})),t.length>0?(setTimeout((function(){$("#confirm_matches_modal").modal()}),500),$("#confirm_matches_modal").find("#match_count").text(t.length),$("#confirm_matches_button").off("click").on("click",confirm_matches),$("#cancel_matches_button").on("click",(function(){setTimeout((function(){$("#add_to_checklist_modal").modal()}),500),disable_closing_docs()}))):(setTimeout((function(){$("#add_to_checklist_modal").modal()}),500),disable_closing_docs())})).catch((function(e){}))},window.disable_closing_docs=function(){$(".assign-button.closing_doc, .assign-button.release").addClass("disabled").prop("disabled",!0),$(".add-to-checklist-document-div.active").hasClass("assigned")||$(".assign-button.contract").not(".rejected").length>0&&$(".assign-button.contract").closest(".list-group-item").find(".docs").length>0&&$(".assign-button.closing_doc, .assign-button.release").removeClass("disabled").prop("disabled",!1)},window.confirm_matches=function(){var e=!1;$(".add-to-checklist-document-div").each((function(){var t=$(this),n=t.data("file-name");if(1==$('.assign-button[data-file-name="'+n+'"]').length){t.trigger("click");var i="rand_"+Math.floor(1e7*Math.random());$('.assign-button[data-file-name="'+n+'"]').prop("id",i).trigger("click"),setTimeout((function(){document.getElementById(i)&&document.getElementById(i).scrollIntoView()}),500),($("#"+i).hasClass("release")||$(i).hasClass("contract"))&&(e=!0)}})),$("#confirm_matches_modal").modal("hide"),setTimeout((function(){$("#add_to_checklist_modal").modal()}),1e3),$(".add-to-checklist-document-div").not(".assigned").first().trigger("click"),1==e&&$(".assign-button.contract").not(".rejected").length>0&&0==$(".assign-button.contract").closest(".list-group-item").find(".docs").length&&($(".assign-button.closing_doc, .assign-button.release").closest(".list-group-item").find(".delete-doc").trigger("click"),$("#modal_danger").modal().find(".modal-body").html("You must submit a contract before you can submit any closing documents or a release"))},window.arrows=function(e){$(".add-to-checklist-document-div.active").removeClass("active shadow p-4").addClass("p-2").find(".helper").hide();var t=$("#add_to_checklist_documents_wrapper");e.addClass("active shadow p-4").find(".helper").show(),e.hasClass("assigned")?$(".assign-button").prop("disabled",!0):$(".assign-button").not(".disabled").prop("disabled",!1),t.scrollTop(t.scrollTop()+e.position().top-t.height()/2+e.height()/2+30),disable_arrows()},window.disable_arrows=function(){var e=$(".add-to-checklist-document-div.active");$(".doc-list-arrow").prop("disabled",!0),e.prev(".add-to-checklist-document-div").length>0&&$('.doc-list-arrow[data-dir="up"]').prop("disabled",!1),e.next(".add-to-checklist-document-div").length>0&&$('.doc-list-arrow[data-dir="down"]').prop("disabled",!1)},window.assign_document=function(){var e=$(this).data("checklist-id"),t=$(this).data("checklist-item-id"),n=$(".add-to-checklist-document-div.active"),i=n.data("document-id"),a=n.data("file-name"),o=$(this).closest(".list-group-item").find(".submitted-docs");o.closest(".submitted-docs-div").show(),o.prepend('         <div class="added-document d-flex justify-content-between align-items-center docs" data-document-id="'+i+'" data-checklist-id="'+e+'" data-checklist-item-id="'+t+'">             <div class="d-flex justify-content-start align-items-center text-success">                 <div><i class="fal fa-check-circle mr-2"></i></div>                 <div>'+a.substring(0,70)+'</div>             </div>             <div><a href="javascript: void(0)" class="delete-doc text-danger" data-document-id="'+i+'"><i class="fad fa-times-circle mr-1"></i> <span class="small">Remove</span></a></div>         </div>'),n.addClass("assigned"),n.nextAll(".add-to-checklist-document-div").not(".assigned").length>0?n.nextAll(".add-to-checklist-document-div").not(".assigned").first().trigger("click"):n.trigger("click"),disable_closing_docs(),$(".delete-doc").on("click",(function(){var e=$(this).data("document-id"),t=$(this).closest(".submitted-docs-div");$(this).closest(".added-document").remove(),$('.add-to-checklist-document-div[data-document-id="'+e+'"]').removeClass("assigned"),0==t.find(".added-document").length&&t.hide(),i==e&&$(".assign-button").prop("disabled",!1),disable_closing_docs()}))},window.save_add_to_checklist=function(e){var t=[],n=[];$(".added-document").each((function(){var e=$(this).data("checklist-id"),i=$(this).data("checklist-item-id"),a=$(this).data("document-id");t.push({checklist_id:e,checklist_item_id:i,document_id:a}),n.push(i)}));var i=new FormData;i.append("checklist_item_ids",n),axios.post("/agents/doc_management/transactions/release_address_submitted",i,axios_options).then((function(e){"no_address"==e.data.status?($("#add_address_modal").modal("show"),$("#save_add_address_button").on("click",(function(){var n=$("#add_address_form"),i=validate_form(n),a=e.data.earnest_id;if("yes"==i){var o=$("#add_address_form"),r=new FormData(o[0]);r.append("earnest_id",a),axios.post("/agents/doc_management/transactions/add_release_address",r,axios_options).then((function(e){$("#add_address_modal").modal("hide"),save_assign_documents_to_checklist(t),$("#save_add_to_checklist_button").show()})).catch((function(e){console.log(e)}))}}))):save_assign_documents_to_checklist(t)})).catch((function(e){console.log(e)}))},window.save_assign_documents_to_checklist=function(e){var t=new FormData,n=$("#Agent_ID").val(),i=$("#Listing_ID").val(),a=$("#Contract_ID").val(),o=$("#Referral_ID").val(),r=$("#transaction_type").val();e=JSON.stringify(e),t.append("Agent_ID",n),t.append("Listing_ID",i),t.append("Contract_ID",a),t.append("Referral_ID",o),t.append("transaction_type",r),t.append("checklist_items",e),axios.post("/agents/doc_management/transactions/save_assign_documents_to_checklist",t,axios_options).then((function(e){toastr.success("Documents Successfully Added"),load_tabs("documents",!1),e.data&&"yes"==e.data.release_submitted&&($("#cancel_contract_button").trigger("click"),load_details_header()),$("#save_add_to_checklist_button").show()})).catch((function(e){}))},window.show_add_checklist_template=function(){$("#add_checklist_template_modal").modal()},window.save_add_template_documents=function(e){$("#add_individual_template_modal, #add_checklist_template_modal").modal("hide");var t=$("#Agent_ID").val(),n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=$("#Referral_ID").val(),o=$("#transaction_type").val(),r="",s="",l="";"checklist"==e?(r=$("#checklist_templates_folder").val(),s=$(".checklist-template-form:checked"),l=$("#add_checklist_template_form")):(r=$("#individual_templates_folder").val(),s=$(".individual-template-form:checked"),l=$("#add_individual_template_form"));var c=new FormData;c.append("Agent_ID",t),c.append("Listing_ID",n),c.append("Contract_ID",i),c.append("Referral_ID",a),c.append("transaction_type",o),c.append("folder",r);var d=[],u=0;s.each((function(){var e={};e.file_id=$(this).data("file-id"),e.template_id=$(this).data("template-id"),e.file_name=$(this).data("file-name"),e.file_size=$(this).data("file-size"),e.file_name_display=$(this).data("file-name-display"),e.pages_total=$(this).data("pages-total"),e.file_location=$(this).data("file-location"),e.page_width=$(this).data("page-width"),e.page_height=$(this).data("page-height"),e.page_size=$(this).data("page-size"),e.order=u,d.push(e),u+=1}));var f=JSON.stringify(d);c.append("files",f),"yes"==validate_form(l)&&(file_progress(d),axios.post("/agents/doc_management/transactions/save_add_template_documents",c,axios_options).then((function(e){load_tabs("documents"),setTimeout((function(){var t=$('.document-div[data-folder-id="'+r+'"]');reorder_documents(t),$("#save_add_checklist_template_button").html('<i class="fal fa-check mr-2"></i> Add Documents').prop("disabled",!1),$("#save_add_individual_template_button").html('<i class="fal fa-check mr-2"></i> Add Documents').prop("disabled",!1),global_loading_off(),"error"==e.data.status?$("#modal_danger").modal().find(".modal-body").html("There was an error importing the documents, please try again."):toastr.success("Documents Successfully Added"),$(".progress-bar").css({width:"0%"}),$(".individual-template-form").prop("checked",!1),$(".almost-complete").remove()}),200)})).catch((function(e){})))},window.file_progress=function(e){$(".almost-complete").remove(),global_loading_off();global_loading_on("",'         <div class="h5 text-white mb-3">Importing Documents...</div>         <div class="font-10 text-yellow mb-3">After the import is complete inputs and signature fields will be added in the background. Some forms might require a few additional seconds before you can edit them.</div>         <div class="w-100 text-left document-loading-container">             <div id="loading_div"></div>         </div>         '),e.forEach((function(e,t){var n=400;e.pages_total&&(n=300);var i=e.file_size*n,a='             <div class="text-white w-100 p-1">                 <span>'+e.file_name_display+'</span>                 <div class="progress">                     <div id="progress_'+t+'" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>                 </div>             </div>             ';setTimeout((function(){$("#loading_div").append(a);var e=$("#progress_"+t),n=0,o=setInterval((function(){n>=100?(clearInterval(o),e.removeClass("progress-bar-striped").addClass("bg-success text-center")):(n++,e.css({width:n+"%"}).attr("aria-valuenow",n))}),i);document.getElementById("progress_"+t).length>0&&document.getElementById("progress_"+t).scrollIntoView()}),1e3*t)}));var t=setInterval((function(){var e="yes";if($(".progress-bar").each((function(){"100"!=$(this).attr("aria-valuenow")&&(e="no")})),"yes"==e){$("#loading_div").append('                 <div class="text-white font-10 w-100 p-1 almost-complete">                     Adding inputs and signature fields to forms...                 </div>                 '),clearInterval(t)}}),1e3)},window.show_add_individual_template=function(){$("#add_individual_template_modal").modal(),$(".form-search").on("keyup",(function(){form_search($(this))})),$(".select-form-group").on("change",(function(){select_form_group()}))},window.select_form_group=function(){$(".form-search").val(""),$("#form_categories_search").val(""),"all"==$(".select-form-group").val()?$(".form-group-div, .list-group-header, .form-name").show():($(".list-group-header, .form-name").show(),$(".form-group-div").hide(),$('[data-form-group-id="'+$(".select-form-group").val()+'"]').show())},window.show_add_folder=function(){$("#add_folder_modal").modal(),setTimeout((function(){$("#new_folder_name").focus()}),500),$("#save_add_folder_button").on("click",add_folder)},window.add_folder=function(){var e=$("#add_folder_form");if("yes"==validate_form(e)){var t=$("#new_folder_name").val(),n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=$("#Referral_ID").val(),o=$("#Agent_ID").val(),r=$("#transaction_type").val(),s=new FormData;s.append("folder",t),s.append("Listing_ID",n),s.append("Contract_ID",i),s.append("Referral_ID",a),s.append("Agent_ID",o),s.append("transaction_type",r),axios.post("/agents/doc_management/transactions/add_folder",s,axios_options).then((function(e){load_tabs("documents",!1),$(".modal").modal("hide")})).catch((function(e){}))}},window.confirm_delete_folder=function(e){$("#confirm_delete_folder_modal").modal(),$("#confirm_delete_folder_button").on("click",(function(){delete_folder(e),$("#confirm_delete_folder_modal").modal("hide")}))},window.delete_folder=function(e){var t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#Referral_ID").val(),a=$("#transaction_type").val(),o=new FormData;o.append("folder_id",e),o.append("Listing_ID",t),o.append("Contract_ID",n),o.append("Referral_ID",i),o.append("transaction_type",a),axios.post("/agents/doc_management/transactions/delete_folder",o,axios_options).then((function(e){load_tabs("documents",!1)})).catch((function(e){}))},window.show_move_documents=function(){$("#move_documents_modal").modal(),$("#save_move_documents_button").on("click",move_documents)},window.move_documents=function(){$(".documents-container").fadeOut("1000");var e=[];$(".check-document:checked").each((function(){e.push($(this).data("document-id"))}));var t=new FormData,n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=$("#Referral_ID").val(),o=$("#transaction_type").val(),r=$("#move_documents_folder").val();t.append("document_ids",e),t.append("Listing_ID",n),t.append("Contract_ID",i),t.append("Referral_ID",a),t.append("transaction_type",o),t.append("folder_id",r),axios.post("/agents/doc_management/transactions/move_documents_to_folder",t,axios_options).then((function(e){load_tabs("documents"),$("#move_documents_modal").modal("hide")})).catch((function(e){}))},window.show_delete_one_document=function(e){var t=e.data("document-id"),n=e.data("document-name");$("#confirm_delete_document_modal").modal(),$("#delete_document_name").text(n),$("#confirm_delete_document_button").off("click").on("click",(function(){delete_one_document(t)}))},window.delete_one_document=function(e){$(".documents-container").fadeOut("1000");var t=[e],n=new FormData,i=$("#Listing_ID").val(),a=$("#Contract_ID").val(),o=$("#Referral_ID").val(),r=$("#transaction_type").val();n.append("document_ids",t),n.append("Listing_ID",i),n.append("Contract_ID",a),n.append("Referral_ID",o),n.append("transaction_type",r),axios.post("/agents/doc_management/transactions/move_documents_to_trash",n,axios_options).then((function(e){load_tabs("documents",!1),toastr.success("Document Moved To Trash")})).catch((function(e){}))},window.show_delete_documents=function(){$("#confirm_delete_documents_modal").modal(),$("#confirm_delete_documents_button").off("click").on("click",delete_documents)},window.delete_documents=function(){$(".documents-container").fadeOut("1000");var e=[];$(".check-document:checked").not(".assigned").each((function(){e.push($(this).data("document-id"))}));var t=new FormData,n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=$("#Referral_ID").val(),o=$("#transaction_type").val();t.append("document_ids",e),t.append("Listing_ID",n),t.append("Contract_ID",i),t.append("Referral_ID",a),t.append("transaction_type",o),axios.post("/agents/doc_management/transactions/move_documents_to_trash",t,axios_options).then((function(e){load_tabs("documents",!1),toastr.success("Documents Moved To Trash"),$("#confirm_delete_documents_modal").modal("hide")})).catch((function(e){}))},window.show_bulk_options=function(){if($("#add_documents_div").hasClass("show")&&$("#add_documents_div").collapse("hide"),$(".check-document:checked").length>0)return $("#bulk_options_div").collapse("show"),!1;$("#bulk_options_div").collapse("hide"),$(this).closest(".folder-div").find(".check-all").prop("checked",!1),$(".check-document").closest(".document-div").removeClass("bg-blue-light"),$(".check-document:checked").closest(".document-div").addClass("bg-blue-light")},window.check_all=function(e){$("#add_documents_div").hasClass("show")&&$("#add_documents_div").collapse("hide"),e.closest(".folder-header").next(".collapse").hasClass("show")||e.closest(".folder-header").next(".collapse").collapse("show"),e.is(":checked")?e.closest(".folder-div").find(".document-div").find("input").not("input:disabled").prop("checked",!0):e.closest(".folder-div").find(".document-div").find("input").prop("checked",!1),show_bulk_options()},window.print_pdf=function(e){var t=window.open(e);setTimeout((function(){t.print()}),500)}}},6214:()=>{if(document.URL.match(/transaction_details/)){var e=function(){var e=$("#Contract_ID").val(),t=new FormData;t.append("Contract_ID",e),axios.post("/agents/doc_management/transactions/undo_transfer_earnest",t,axios_options).then((function(e){load_tabs("earnest"),load_details_header(),toastr.success("Transfer Successfully Undone")})).catch((function(e){console.log(e)}))},t=function(){$("#transfer_modal").modal("show"),$(".transfer-button").off("click").on("click",(function(){var e=$(this).data("contract-id"),t=$("#Contract_ID").val(),n=new FormData;n.append("to_id",e),n.append("from_id",t),axios.post("/agents/doc_management/transactions/transfer_earnest",n,axios_options).then((function(t){$("#transfer_modal").modal("hide"),$("#modal_info").modal().find(".modal-body").html('Earnest Successfully Transferred.<br><a href="/agents/doc_management/transactions/transaction_details/'+e+'/contract">View New Deposit</a>'),load_tabs("earnest"),load_details_header()})).catch((function(e){console.log(e)}))}))},n=function(){var e=$("#Earnest_ID").val(),t=$(".earnest-notes").val(),n=new FormData;n.append("Earnest_ID",e),n.append("notes",t),axios.post("/agents/doc_management/transactions/save_add_earnest_notes",n,axios_options).then((function(e){i(),$(".earnest-notes").val("")})).catch((function(e){}))},i=function(){var e=$("#Earnest_ID").val();axios.get("/agents/doc_management/transactions/get_earnest_notes",{params:{Earnest_ID:e}}).then((function(e){$("#earnest_notes_div").html(e.data)})).catch((function(e){}))};window.earnest_init=function(){$("#save_earnest_button").off("click").on("click",(function(){save_earnest("yes")})),$(".add-earnest-check-button").off("click").on("click",(function(){add_earnest_check($(this).data("check-type"))})),$("#save_add_earnest_check_button").off("click").on("click",(function(){$(this).prop("disabled",!0),save_add_earnest_check()})),$(document).on("click","#show_set_status_to_waiting_button",show_set_status_to_waiting),$(document).on("click","#transfer_to_another_contract_button",t),$(document).on("click","#undo_transfer_button",e),$(".save-earnest-notes-button").off("click").on("click",n),$(document).on("click",".delete-earnest-note-button",(function(){$(this).data("earnest-id");!function(e,t){var n=new FormData;n.append("note_id",t),axios.post("/agents/doc_management/transactions/delete_note",n,axios_options).then((function(e){i()})).catch((function(e){console.log(e)}))}(0,$(this).data("note-id"))}));var a={menubar:!1,statusbar:!1,toolbar:!0,selector:"#bounced_check_message",height:450,relative_urls:!1,remove_script_host:!0,document_base_url:location.hostname};text_editor(a),get_earnest_check_info(),get_earnest_checks("in",!1),get_earnest_checks("out",!1),save_earnest("no"),i()},window.show_set_status_to_waiting=function(){var e=$("#Contract_ID").val();$("#set_status_to_waiting_modal").modal("show"),$("#confirm_set_status_to_waiting_button").on("click",(function(){var t=new FormData;t.append("Contract_ID",e),axios.post("/agents/doc_management/transactions/set_status_to_waiting_for_release",t,axios_options).then((function(e){$("#set_status_to_waiting_modal").modal("hide"),toastr.success("Status Successfully Set")})).catch((function(e){}))}))},window.get_earnest_checks=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$("#Earnest_ID").val();axios.get("/agents/doc_management/transactions/get_earnest_checks",{params:{Earnest_ID:n,check_type:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(n){$("#earnest_checks_"+e+"_div").html(n.data),$(".cleared-checkbox").off("change").on("change",(function(){cleared_bounced($(this))})),$(".delete-earnest-check-button").off("click").on("click",(function(){delete_earnest_check($(this))})),$(".undo-delete-earnest-check-button").off("click").on("click",(function(){undo_delete_earnest_check($(this))})),$(".earnest-check-div.in.inactive").appendTo("#earnest_checks_in_div"),$(".earnest-check-div.out.inactive").appendTo("#earnest_checks_out_div"),$(".show-deleted-earnest-checks-button").off("click").on("click",(function(){var e=$(this).data("check-type");$(".earnest-check-div."+e+".inactive").toggleClass("hidden")})),$(".edit-earnest-check-button").off("click").on("click",(function(){show_edit_earnest_check($(this))})),$("#earnest_checks_"+e+"_total").html(global_format_number_with_decimals($("#earnest_checks_"+e+"_cleared_total").val())),$(".pending-alert").remove(),$("#earnest_checks_"+e+"_pending_total").val()>0&&$(".in-escrow-alert").append('<div class="font-8 text-danger pending-alert">Pending '+global_format_number_with_decimals($("#earnest_checks_"+e+"_pending_total").val()));var i=$("#earnest_checks_in_total").html().replace(/[\$,]/g,"");""==i&&(i="0.00");var a=$("#earnest_checks_out_total").html().replace(/[\$,]/g,"");""==a&&(a="0.00");var o=parseFloat(i).toFixed(2)-parseFloat(a).toFixed(2),r=global_format_number_with_decimals(o.toFixed(2));if("yes"==$("#transferred").val()&&(r="$0"),$("#in_escrow").html(r),$(".status-waiting").hide(),$(".in-escrow-alert").removeClass("alert-success alert-danger").addClass("alert-info"),o>0&&""==$("#transferred").val()?($(".in-escrow-alert").removeClass("alert-info").addClass("alert-success"),$(".status-waiting").show()):o<0&&$(".in-escrow-alert").removeClass("alert-info").addClass("alert-danger"),show_checks(),$("#earnest_held_by").off("change").on("change",show_checks),disable_check_in(),disable_held_by(),1==t){var s=new FormData;s.append("amount_received",parseFloat(i).toFixed(2)),s.append("amount_released",parseFloat(a).toFixed(2)),s.append("amount_total",o),s.append("Earnest_ID",$("#Earnest_ID").val()),axios.post("/agents/doc_management/transactions/save_earnest_amounts",s,axios_options).then((function(e){})).catch((function(e){}))}})).catch((function(e){}))},window.show_edit_earnest_check=function(e){$("#edit_earnest_check_modal").modal("show");var t=e.data("check-id"),n=e.data("check-type"),i=e.data("file-location"),a=e.data("image-location"),o=e.data("check-name"),r=e.data("payable-to"),s=e.data("check-date"),l=e.data("check-number"),c=e.data("check-amount"),d=e.data("date-deposited"),u=e.data("mail-to-address"),f=e.data("date-sent");$("#edit_earnest_check_id").val(t),$("#edit_earnest_check_type").val(n),$("#edit_earnest_file_location").val(i),$("#edit_earnest_image_location").val(a),$("#edit_earnest_check_name").val(o),$("#edit_earnest_payable_to").val(r),$("#edit_earnest_check_date").val(s),$("#edit_earnest_check_number").val(l),$("#edit_earnest_check_amount").val(c),$("#edit_earnest_date_deposited").val(d),$("#edit_earnest_mail_to_address").val(u),$("#edit_earnest_date_sent").val(f),$(".edit-earnest-check-preview-div").html('<img src="'+a+'" class="w-100">'),$(".edit-check-in, .edit-check-out").hide(),$("#edit_earnest_check_name, #edit_earnest_payable_to").removeClass("required"),"in"==n?($(".edit-check-in").show(),$("#edit_earnest_check_name").addClass("required")):"out"==n&&($(".edit-check-out").show(),$("#edit_earnest_payable_to").addClass("required")),$("#save_edit_earnest_check_button").off("click").on("click",save_edit_earnest_check)},window.save_edit_earnest_check=function(){var e=$("#edit_earnest_check_form"),t=new FormData(e[0]);if("yes"==validate_form(e,!0)){var n=$("#edit_earnest_check_type").val();$("#save_edit_earnest_check_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving...'),axios.post("/agents/doc_management/transactions/save_edit_earnest_check",t,axios_options).then((function(e){toastr.success("Check Successfully Edited"),$("#edit_earnest_check_modal").modal("hide"),$("#save_edit_earnest_check_button").html('<i class="fal fa-check mr-2"></i> Save'),get_earnest_checks(n)})).catch((function(e){}))}},window.undo_delete_earnest_check=function(e){var t=e.data("check-id"),n=e.data("check-type"),i=new FormData;i.append("check_id",t),axios.post("/agents/doc_management/transactions/undo_delete_earnest_check",i,axios_options).then((function(e){get_earnest_checks(n)})).catch((function(e){}))},window.delete_earnest_check=function(e){var t=e.data("check-id"),n=e.data("check-type"),i=new FormData;i.append("check_id",t),axios.post("/agents/doc_management/transactions/delete_earnest_check",i,axios_options).then((function(e){get_earnest_checks(n)})).catch((function(e){}))},window.cleared_bounced=function(e){e.closest(".checkbox-li").find(".cleared-checkbox").not(e).prop("checked",!1);var t=new FormData,n=e.data("check-id"),i=e.data("check-type"),a="";e.is(":checked")&&(a=e.val()),t.append("check_id",n),t.append("status",a),t.append("check_type",i),axios.post("/agents/doc_management/transactions/clear_bounce_earnest_check",t,axios_options).then((function(e){if(get_earnest_checks(i),"bounced"==a){var t=e.data.check,n=t.property,o=t.agent,r=o.email,s=e.data.link,l=n.BuyerOneFirstName+" "+n.BuyerOneLastName;""!=n.BuyerTwoFirstName&&(l+="and "+n.BuyerTwoFirstName+" "+n.BuyerTwoFirstName);var c=n.FullStreetAddress+" "+n.City+", "+n.StateOrProvince+" "+n.PostalCode,d=n.Contract_ID,u="                 Hello "+o.first_name+",<br><br>                     The earnest deposit for the following property has bounced.<br><br>                     "+c+"<br><br>                     Buyers: "+l+"<br>                     Check Amount: "+global_format_number_with_decimals(t.check_amount)+'<br><br>                     <span style="color: #900">Please call the office immediately to resolve this issue.</span><br><br>                     <a href="'+s+'" target="_blank">View Transaction</a>                 ';$("#bounced_check_notification_modal").modal("show");var f=$("#bounced_check_message").val();tinymce.get("bounced_check_message").setContent(u+f),$("#send_bounced_check_notification_button").on("click",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Sending Email...');var e=tinymce.get("bounced_check_message").getContent(),t=new FormData;t.append("agent_email",r),t.append("bounced_check_message",e),t.append("property_address",c),t.append("Contract_ID",d),axios.post("/agents/doc_management/transactions/notify_agent_bounced_earnest",t,axios_options).then((function(e){$("#bounced_check_notification_modal").modal("hide"),toastr.success("Agent Successfully Notified"),$("#send_bounced_check_notification_button").html('<i class="fad fa-share mr-2"></i> Send Message')})).catch((function(e){console.log(e)}))}))}setTimeout((function(){disable_held_by(),disable_check_in(),load_details_header()}),1e3)})).catch((function(e){}))},window.add_earnest_check=function(e){$("#add_earnest_check_modal").modal("show"),$(".check-in, .check-out").hide(),$("#add_earnest_check_name, #add_earnest_check_payable_to").removeClass("required"),"in"==e?($(".check-in").show(),$("#add_earnest_check_name").addClass("required")):"out"==e&&($(".check-out").show(),$("#add_earnest_check_payable_to").addClass("required"),""==$("#add_earnest_check_mail_to_address").val()&&$("#add_earnest_check_mail_to_address").val($("#earnest_mail_to_address").val())),$("#add_earnest_check_type").val(e)},window.save_add_earnest_check=function(){var e=$("#Earnest_ID").val(),t=$("#Agent_ID").val(),n=$("#Contract_ID").val(),i=$("#add_earnest_check_form"),a=new FormData(i[0]);if(a.append("Earnest_ID",e),a.append("Agent_ID",t),a.append("Contract_ID",n),"yes"==validate_form(i)){var o=$("#add_earnest_check_type").val();$("#save_add_earnest_check_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving...'),axios.post("/agents/doc_management/transactions/save_add_earnest_check",a,axios_options).then((function(e){toastr.success("Check Successfully Added"),$("#add_earnest_check_modal").modal("hide"),clear_add_earnest_check_form(),$("#save_add_earnest_check_button").prop("disabled",!1).html('<i class="fal fa-check mr-2"></i> Save'),get_earnest_checks(o)})).catch((function(e){}))}else $("#save_add_earnest_check_button").prop("disabled",!1)},window.get_earnest_check_info=function(){$("#add_earnest_check_upload").off("change").on("change",(function(){if(""!=$(this).val()){$("#add_earnest_check_date").val(""),$("#add_earnest_check_amount").val(""),$("#add_earnest_check_number").val(""),global_loading_on("",'<div class="h5 text-white">Scanning Check</div>');var e=$("#add_earnest_check_form"),t=new FormData(e[0]);axios.post("/agents/doc_management/transactions/get_check_details",t,axios_options).then((function(e){e.data.check_date&&($("#add_earnest_check_payable_to").val(e.data.check_pay_to),$("#add_earnest_check_name").val(e.data.check_name),$("#add_earnest_check_date").val(e.data.check_date),$("#add_earnest_check_amount").val(e.data.check_amount),$("#add_earnest_check_number").val(e.data.check_number)),$(".add-earnest-check-preview-div").html('<div class="border border-primary mt-2 check-preview"><img src="'+e.data.check_location+'" class="w-100"></div>'),global_loading_off()})).catch((function(e){}))}}))},window.save_earnest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no",t=$("#Earnest_ID").val(),n=$("#earnest_form"),i=new FormData(n[0]);i.append("Earnest_ID",t),axios.post("/agents/doc_management/transactions/save_earnest",i,axios_options).then((function(t){"yes"==e&&toastr.success("Earnest Details Saved Successfully"),load_details_header()})).catch((function(e){}))},window.show_checks=function(){"us"==$("#earnest_held_by").val()?($(".holding-earnest").show(),$(".earnest-account-div").show()):($(".holding-earnest").hide(),$(".earnest-account-div").hide(),$("#earnest_account_id").val("").prop("readonly",!0))},window.disable_check_in=function(){$('.cleared-checkbox[data-check-type="out"]:checked').length>0?$('.cleared-checkbox[data-check-type="in"]').prop("disabled",!0):$('.cleared-checkbox[data-check-type="in"]').prop("disabled",!1)},window.disable_held_by=function(){$('.cleared-checkbox[data-check-type="in"][value="cleared"]:checked').length>0?$("#earnest_held_by").prop("disabled",!0):$("#earnest_held_by").prop("disabled",!1)},window.clear_add_earnest_check_form=function(){$("#add_earnest_check_form").find("input, select").val(""),$(".add-earnest-check-preview-div").html("")}}},6394:()=>{document.URL.match(/transaction_details/)&&($((function(){})),window.esign_init=function(){load_tab("in_process"),$("#esign_tabs .nav-link").on("click",(function(){load_tab($(this).data("tab")),"drafts"==$(this).data("tab")&&load_tab("deleted_drafts")}))},window.load_tab=function(e){var t=$("#envelope_id").val(),n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=$("#Referral_ID").val(),o=$("#transaction_type").val();axios.get("/agents/doc_management/transactions/esign/get_"+e,{params:{envelope_id:t,Listing_ID:n,Contract_ID:i,Referral_ID:a,transaction_type:o},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$("#"+e+"_esign_div").html(t.data),"drafts"==e?(data_table("10",$("#drafts_table"),[3,"desc"],[0,4],[],!1,!0,!0,!0,!0),$(document).on("click",".delete-draft-button",(function(){delete_draft($(this))}))):"deleted_drafts"==e?(data_table("10",$("#deleted_drafts_table"),[3,"desc"],[0],[],!1,!0,!0,!0,!0),$(document).on("click",".restore-draft-button",(function(){restore_draft($(this))})),setTimeout((function(){$(".show-deleted-drafts").addClass("hidden"),$("#deleted_drafts_count").val()>0?$(".show-deleted-drafts").removeClass("hidden"):$("#deleted_drafts_div").collapse("hide")}),200)):"in_process"==e?(data_table("10",$("#in_process_table"),[3,"desc"],[4],[],!1,!0,!0,!0,!0),$(document).on("click",".cancel-envelope-button",(function(){cancel_envelope($(this))})),$(document).on("click",".resend-envelope-button",(function(){resend_envelope($(this))}))):"completed"==e?data_table("10",$("#completed_table"),[3,"desc"],[0,4],[],!1,!0,!0,!0,!0):"canceled"==e&&data_table("10",$("#canceled_table"),[3,"desc"],[0],[],!1,!0,!0,!0,!0)})).catch((function(e){console.log(e)}))},window.delete_draft=function(e){var t=e.data("envelope-id"),n=new FormData;n.append("envelope_id",t),axios.post("/agents/doc_management/transactions/esign/delete_draft",n,axios_options).then((function(t){e.closest("tr").fadeOut(),load_tab("deleted_drafts"),setTimeout((function(){e.closest("tr").remove()}),800)})).catch((function(e){console.log(e)}))},window.restore_draft=function(e){var t=e.data("envelope-id"),n=new FormData;n.append("envelope_id",t),axios.post("/agents/doc_management/transactions/esign/restore_draft",n,axios_options).then((function(e){load_tab("deleted_drafts"),load_tab("drafts")})).catch((function(e){console.log(e)}))},window.cancel_envelope=function(e){$("#confirm_cancel_modal").modal("show"),$("#confirm_cancel_button").off("click").on("click",(function(){$("#confirm_cancel_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Cancelling'),envelope_id=e.data("envelope-id"),e.find("i").addClass("fa-spin");var t=new FormData;t.append("envelope_id",envelope_id),axios.post("/esign/cancel_envelope",t,axios_options).then((function(t){e.closest("tr").fadeOut(),setTimeout((function(){$('[data-envelope-id="'+envelope_id+'"]').closest("tr").fadeOut(),$("#confirm_cancel_modal").modal("hide"),$("#confirm_cancel_button").html('<i class="fal fa-check mr-2"></i> Confirm'),load_tab("canceled")}),1e3),toastr.success("Signature Request Canceled")})).catch((function(e){console.log(e)}))}))},window.resend_envelope=function(e){$("#resend_envelope_modal").modal("show"),$("#resend_envelope_button").off("click").on("click",(function(){$("#resend_envelope_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Resending'),envelope_id=e.data("envelope-id"),singer_id=e.data("signer-id"),e.find("i").addClass("fa-spin");var t=new FormData;t.append("envelope_id",envelope_id),t.append("singer_id",singer_id),axios.post("/esign/resend_envelope",t,axios_options).then((function(e){$("#resend_envelope_modal").modal("hide"),$("#resend_envelope_button").html('<i class="fal fa-check mr-2"></i> Confirm</a>'),"canceled"==e.data.status?$("#modal_info").modal().find(".modal-body").html("The document you were trying to send was already canceled. It may have expired or been declined by a signer. It has been moved to the Canceled folder"):toastr.success("Signature Request Resent")})).catch((function(e){console.log(e)}))}))})},557:()=>{document.URL.match(/transaction_details/)&&($((function(){$(document).on("click",".btn, input",(function(e){var t=$(this),n=t.attr("id"),i=t[0].classList;i.contains("save-member-button")?save_add_member():i.contains("bank-trust")?show_bank_trust(t):i.contains("delete-member-button")?confirm_delete_member(t):i.contains("bank-trust")?show_bank_trust():i.contains("import-contact-button")?show_import_modal($(this).data("ele")):"add_member_button"==n&&show_add_member()})),$(document).on("change",".member-type-id",show_hide_fields)})),window.members_init=function(){$('a[data-toggle="list"]').on("shown.bs.tab",(function(e){show_hide_fields()})),data_table(10,$("#contacts_table"),[0,"asc"],[],[],!1,!0,!0,!0,!0)},window.show_hide_fields=function(){var e=$(".member-div.active");e.not(".disabled").find("input, select").attr("disabled",!1);var t=e.find(".member-type-id option:selected").text(),n=e.find(".bank-trust-div"),i=n.find("label"),a=e.find(".member-entity-name-div"),o=e.find(".company-div"),r=e.find(".home-address-div"),s=e.find(".office-address-div"),l=e.find(".bright-mls-id-div");"Buyer"==t||"Seller"==t||"Owner"==t||"Renter"==t?(n.show().find(".bank-trust").data("member",t),i.text(t+" is a Trust, Company or other Entity"),""!=a.find("input").val()&&a.show(),o.hide(),r.show(),s.hide(),l.hide()):"Listing Agent"==t||"Buyer Agent"==t||"Renter Agent"==t?(n.hide(),a.hide(),o.show(),r.hide(),s.show(),l.show()):(n.hide(),a.hide(),o.show(),r.show(),s.show(),l.hide()),$(".import-contact-button").prop("disabled",!1)},window.show_bank_trust=function(e){var t=e.closest(".col-12").next(".member-entity-name-div");e.is(":checked")?t.fadeIn():t.fadeOut()},window.save_add_member=function(){var e=$(".member-div.active");if("yes"==validate_form(e)){var t=new FormData;t.append("id",e.find(".member-id").val()),t.append("transaction_type",$("#transaction_type").val()),t.append("Listing_ID",$("#Listing_ID").val()),t.append("Contract_ID",$("#Contract_ID").val()),t.append("Agent_ID",$("#Agent_ID").val()),t.append("member_type_id",e.find(".member-type-id").val()),t.append("entity_name",e.find(".member-entity-name").val()),t.append("first_name",e.find(".member-first-name").val()),t.append("last_name",e.find(".member-last-name").val()),t.append("company",e.find(".member-company").val()),t.append("cell_phone",e.find(".member-phone").val()),t.append("email",e.find(".member-email").val()),t.append("address_home_street",e.find(".member-home-street").val()),t.append("address_home_city",e.find(".member-home-city").val()),t.append("address_home_state",e.find(".member-home-state").val()),t.append("address_home_zip",e.find(".member-home-zip").val()),t.append("address_office_street",e.find(".member-office-street").val()),t.append("address_office_city",e.find(".member-office-city").val()),t.append("address_office_state",e.find(".member-office-state").val()),t.append("address_office_zip",e.find(".member-office-zip").val()),t.append("CRMContact_ID",e.find(".member-crm-contact-id").val()),t.append("bright_mls_id",e.find(".member-bright-mls-id").val()),axios.post("/agents/doc_management/transactions/save_member",t,axios_options).then((function(e){reload_member_tab(),toastr.success("Member Successfully Added"),setTimeout((function(){load_details_header()}),500)})).catch((function(e){}))}},window.show_add_member=function(){var e=$("#transaction_type").val(),t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#Referral_ID").val();axios.get("/agents/doc_management/transactions/add_member_html",{params:{transaction_type:e,Listing_ID:t,Contract_ID:n,Referral_ID:i},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#add_member_group").show().trigger("click"),$("#add_member_div").html(e.data),global_tooltip(),$(".cancel-add-member-button").off("click").on("click",(function(){$("#add_member_group").hide(),$(".list-group-item-member").eq(0).trigger("click")})),$(".list-group-item-member").on("click",(function(){$("#add_member_group").hide()}));var t=!0,n=!0;$('.list-group-item-member[data-member-type="Listing Agent"]').length>0&&(t=!1),($('.list-group-item-member[data-member-type="Buyer Agent"]').length>0||$('.list-group-item-member[data-member-type="Renter Agent"]').length>0)&&(n=!1),$("#members_tab_div").find(".member-type-id").find("option").each((function(){"Listing Agent"==$(this).text()?t&&$(this).remove():"Buyer Agent"==$(this).text()&&n&&$(this).remove()}))})).catch((function(e){}))},window.reload_member_tab=function(){var e=$(".list-group-item-member.active").eq();load_tabs("members"),$(".list-group-item-member.active").eq(e).trigger("click")},window.confirm_delete_member=function(e){var t=e.data("member-id");$("#confirm_delete_member_modal").modal(),$("#delete_member_button").off("click").on("click",(function(){delete_member(t),$("#confirm_delete_member_modal").modal("hide")}))},window.delete_member=function(e){var t=$("#transaction_type").val(),n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=new FormData;a.append("id",e),a.append("Listing_ID",n),a.append("Contract_ID",i),a.append("transaction_type",t),axios.post("/agents/doc_management/transactions/delete_member",a,axios_options).then((function(e){reload_member_tab(),load_details_header(),toastr.success("Member Successfully Deleted")})).catch((function(e){}))},window.show_import_modal=function(e){e=$(e),$("#import_contact_modal").modal(),$("#contacts_table").off("click").on("click",".add-contact-row",(function(){e.find(".member-first-name").val($(this).data("contact-first")),e.find(".member-last-name").val($(this).data("contact-last")),e.find(".member-company").val($(this).data("contact-company")),e.find(".member-phone").val($(this).data("contact-phone")),e.find(".member-email").val($(this).data("contact-email")),e.find(".member-home-street").val($(this).data("contact-street")),e.find(".member-home-city").val($(this).data("contact-city")),e.find(".member-home-state").val($(this).data("contact-state")),e.find(".member-home-zip").val($(this).data("contact-zip")),e.find(".member-crm-contact-id").val($(this).data("contact-id")),$("#import_contact_modal").modal("hide"),setTimeout((function(){show_hide_fields()}),500)}))})},4113:()=>{if(document.URL.match(/transaction_details/)){var e=function(){var e=$(this).data("contract-id");$("#confirm_undo_cancel_modal").modal(),$("#undo_cancel_button").off("click").on("click",(function(){n(e)}))},t=function(){var e=$("#Listing_ID").val(),t=$("#Agent_ID").val(),n=new FormData;n.append("Listing_ID",e),n.append("Agent_ID",t),axios.post("/agents/doc_management/transactions/undo_cancel_listing",n,axios_options).then((function(e){"expired"==e.data.expired&&$("#modal_danger").modal("show").find(".modal-body").html('                 <div class="d-flex justify-content-center align-items-center">                     <div><i class="fad fa-exclamation-circle fa-2x text-danger"></i></div>                     <div class="ml-3 text-center">The Listing has passed it expiration date.<br>Please enter the new expiration date.</div>                 </div>                 '),load_tabs("checklist"),load_tabs("details"),load_details_header(),toastr.success("Undo Successful")})).catch((function(e){}))},n=function(e){var t=new FormData,n=$("#Agent_ID").val();t.append("Contract_ID",e),t.append("Agent_ID",n),axios.post("/agents/doc_management/transactions/undo_cancel_contract",t,axios_options).then((function(e){if(e.data.error)return"yes"==$("#for_sale").val()?$("#modal_danger").modal().find(".modal-body").html("The Listing is currently under contract with another Contract. You must release the current Contract before Reactivating this one."):$("#modal_danger").modal().find(".modal-body").html("Another Lease Agreement has already been accepted for this listing. You must cancel the current Lease before Reactivating this one."),!1;load_tabs("checklist"),load_details_header(),toastr.success("Undo Successful"),$("#confirm_undo_cancel_modal").modal("hide")})).catch((function(e){}))},i=function(){var e=$("#Listing_ID").val();axios.get("/agents/doc_management/transactions/check_docs_submitted_and_accepted",{params:{Listing_ID:e}}).then((function(t){var n=!1,i='<div class="d-flex justify-content-center align-items-center p-3"><div><i class="fal fa-check-circle fa-2x text-success"></i></div><div class="text-center ml-3">Your Listing has been successfully canceled.</div></div>';if(1==t.data.listing_accepted)if(1==t.data.listing_expired)$("#modal_success").modal().find(".modal-body").html(i),n=!0;else{if(1!=t.data.listing_withdraw_submitted)return $("#modal_danger").modal().find(".modal-body").html('                             <div class="d-flex justify-content-start align-items-center">                                 <div class="mr-3"><i class="fad fa-exclamation-circle fa-2x text-danger"></i></div>                                 <div class="text-center">Your Listing Agreement is still in effect. You must submit a Listing Withdraw on your checklist before you cancel the Listing.</div>                             </div>'),!1;$("#modal_success").modal().find(".modal-body").html(i),n=!0}else $("#modal_success").modal().find(".modal-body").html(i),n=!0;if(1==n){var a=new FormData;a.append("Listing_ID",e),axios.post("/agents/doc_management/transactions/cancel_listing",a,axios_options).then((function(e){load_details_header(),load_tabs("details")})).catch((function(e){}))}}))},a=function(){var e=$(this),t=e.data("for-sale"),n=e.data("listing-expiration-date")||null,i=new Date,a=new Date(n),r=$("#Contract_ID").val();$(".cancel-contract, .cancel-lease, .expired-listing").removeClass("d-flex").hide(),axios.get("/agents/doc_management/transactions/check_docs_submitted_and_accepted",{params:{Contract_ID:r}}).then((function(e){var s=!1;if("yes"==t)if(n?$(".cancel-contract.has-listing").addClass("d-flex").show():$(".cancel-contract.has-listing").removeClass("d-flex").hide(),1==e.data.contract_submitted){if($(".cancel-contract.docs-not-submitted").removeClass("d-flex").hide(),0==e.data.release_submitted)return $("#modal_danger").modal().find(".modal-body").html('<div class="d-flex justify-content-start align-items-center"><i class="fad fa-exclamation-circle fa-2x text-danger mr-2"></i> <div class="text-center">You must submit a RELEASE for the Sales Contract on the checklist before you can request a cancellation.</div></div>'),!1;s=!0;var l=new FormData;l.append("Contract_ID",r),l.append("status","Cancel Pending"),axios.post("/agents/doc_management/transactions/update_contract_status",l,axios_options).then((function(e){load_details_header(),toastr.success("Cancellation Successfully Submitted")})).catch((function(e){}))}else{if(1==e.data.release_submitted)return $("#modal_danger").modal().find(".modal-body").html('<div class="d-flex justify-content-start align-items-center"><i class="fad fa-exclamation-circle fa-2x text-danger mr-2"></i> <div class="text-center">You must submit a Sales Contract and it must be reviewed before you can submit a release and request a cancellation.</div></div>'),!1;$(".cancel-contract.docs-not-submitted").addClass("d-flex").show()}else n?$(".cancel-lease.has-listing").addClass("d-flex").show():$(".cancel-lease.has-listing").removeClass("d-flex").hide(),1==e.data.contract_submitted?$(".cancel-lease.docs-not-submitted").removeClass("d-flex").hide():$(".cancel-lease.docs-not-submitted").addClass("d-flex").show();n&&(i>a?$(".expired-listing").addClass("d-flex").show():$(".expired-listing").removeClass("d-flex").hide()),0==e.data.our_listing&&$(".has-listing").removeClass("d-flex").hide(),0==s&&($("#save_cancel_contract_button").off("click").on("click",(function(){o(t)})),$("#cancel_contract_modal").modal()),load_details_header()})).catch((function(e){}))},o=function(e){var t=$("#Contract_ID").val(),n="Contract";"no"==e&&(n="Lease");var i=n+" Successfully Canceled",a=new FormData;a.append("Contract_ID",t),a.append("contract_submitted","no"),axios.post("/agents/doc_management/transactions/cancel_contract",a,axios_options).then((function(e){$("#cancel_contract_modal").modal("hide"),load_details_header(),toastr.success(i)})).catch((function(e){}))},r=function(){var e=$("#Referral_ID").val(),t=new FormData;t.append("Referral_ID",e),axios.post("/agents/doc_management/transactions/cancel_referral",t,axios_options).then((function(e){load_details_header(),toastr.success("Referral Successfully Canceled")})).catch((function(e){}))},s=function(){var e=$("#Referral_ID").val(),t=new FormData;t.append("Referral_ID",e),axios.post("/agents/doc_management/transactions/undo_cancel_referral",t,axios_options).then((function(e){load_details_header(),toastr.success("Referral Successfully Reactivated")})).catch((function(e){}))},l=function(){$("#accept_contract_modal").modal(),$("#save_accept_contract_button").off("click").on("click",(function(){$(this).prop("disabled",!0).html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving Details...'),c()})),$(".our-agent-div").hide(),$("#agent_search_div").on("show.bs.collapse",(function(){setTimeout((function(){$("#agent_search").focus().trigger("click")}),500)})),$("#accept_contract_BuyerRepresentedBy").on("change",(function(){$(".agent-details").val(""),$(".buyer-agent-details, .our-agent-div").hide(),$(".bright-search-row").hide(),$("#accept_contract_our_agent").removeClass("required"),"other_agent"==$(this).val()?($(".buyer-agent-details, .bright-search-row").show(),$(".agent-details-required").addClass("required")):"agent"==$(this).val()?($(".buyer-agent-details").show(),$(".agent-details-required").addClass("required"),$(".agent-details").each((function(){$(this).val($(this).data("agent-detail"))}))):"our_agent"==$(this).val()?($(".our-agent-div").show(),$(".agent-details-required").addClass("required"),$("#accept_contract_our_agent").addClass("required").on("change",(function(){if(""==$(this).val())$(".agent-details").val(""),$(".buyer-agent-details").hide();else{$(".buyer-agent-details").show(),$(".agent-details").each((function(){$(this).val($(this).data("agent-detail"))}));var e=$(this).find("option:selected");$("#accept_contract_buyer_agent_company").val(e.data("company")),$("#accept_contract_buyer_agent_first").val(e.data("first")),$("#accept_contract_buyer_agent_last").val(e.data("last")),$("#accept_contract_buyer_agent_phone").val(e.data("phone")),$("#accept_contract_buyer_agent_email").val(e.data("email")),$("#accept_contract_OtherAgent_ID").val(e.data("id"))}}))):($(".buyer-agent-details").hide(),$(".agent-details-required").removeClass("required"))})),$("#accept_contract_using_heritage").on("change",(function(){"yes"==$(this).val()?($(".not-using-heritage").hide(),$("#accept_contract_title_company").val("")):$(".not-using-heritage").show()})),$(".not-using-heritage").hide()},c=function(){$("#accept_contract_contract_price, #accept_contract_earnest_amount").each((function(){"$0"==$(this).val()&&$(this).val("")}));var e=$("#accept_contract_form"),t=validate_form(e),n="Contract";if("no"==$("#for_sale").val()&&(n="Lease"),"yes"==t){var i=$("#accept_contract_buyer_agent_first").val(),a=$("#accept_contract_buyer_agent_last").val(),o=$("#accept_contract_buyer_agent_email").val(),r=$("#accept_contract_buyer_agent_phone").val(),s=$("#accept_contract_buyer_agent_mls_id").val(),l=$("#accept_contract_buyer_agent_company").val(),c=$("#accept_contract_buyer_agent_street").val(),d=$("#accept_contract_buyer_agent_city").val(),u=$("#accept_contract_buyer_agent_state").val(),f=$("#accept_contract_buyer_agent_zip").val(),h=$("#accept_contract_buyer_one_first").val(),p=$("#accept_contract_buyer_one_last").val(),m=$("#accept_contract_buyer_two_first").val(),_=$("#accept_contract_buyer_two_last").val(),v=$("#accept_contract_contract_date").val()||null,g=$("#accept_contract_close_date").val(),y=$("#accept_contract_lease_amount").val()||null,b=$("#accept_contract_contract_price").val()||null,w=$("#accept_contract_using_heritage").val()||null,k=$("#accept_contract_title_company").val()||null,E=$("#accept_contract_earnest_amount").val()||null,x=$("#accept_contract_earnest_held_by").val()||null,D=$("#Listing_ID").val(),C=$("#accept_contract_BuyerRepresentedBy").val(),T=$("#accept_contract_OtherAgent_ID").val(),I=new FormData;I.append("agent_first",i),I.append("agent_last",a),I.append("agent_email",o),I.append("agent_phone",r),I.append("agent_mls_id",s),I.append("agent_company",l),I.append("agent_street",c),I.append("agent_city",d),I.append("agent_state",u),I.append("agent_zip",f),I.append("buyer_one_first",h),I.append("buyer_one_last",p),I.append("buyer_two_first",m),I.append("buyer_two_last",_),I.append("contract_date",v),I.append("close_date",g),I.append("contract_price",b),I.append("lease_amount",y),I.append("using_heritage",w),I.append("title_company",k),I.append("earnest_amount",E),I.append("earnest_held_by",x),I.append("Listing_ID",D),I.append("OtherAgent_ID",T),I.append("BuyerRepresentedBy",C),axios.post("/agents/doc_management/transactions/accept_contract",I,axios_options).then((function(e){$("#accept_contract_modal").modal("hide"),load_tabs("contracts"),load_details_header();var t=e.data.Contract_ID;$("#save_accept_contract_button").html('<i class="fad fa-save mr-2"></i> Save '+n+" Details"),$("#modal_info").modal().find(".modal-body").html('<div class="w-100 text-center">Your '+n+' was successfully added. You will find it in the "'+n+'s" tab<br><br><a class="btn btn-primary" href="/agents/doc_management/transactions/transaction_details/'+t+'/contract">View '+n+"</a></div>")})).catch((function(e){}))}else $("#save_accept_contract_button").html('<i class="fad fa-save mr-2"></i> Save '+n+" Details")},d=function(){var e=$("#Contract_ID").val();axios.get("/agents/doc_management/transactions/merge_listing_and_contract",{params:{Contract_ID:e}}).then((function(e){var t=e.data;t.length>0?($("#merge_with_listing_modal").modal("show"),$(".matching-listings-list-group").html(""),t.forEach((function(e){var t=e.SellerOneFullName;e.SellerTwoFullname&&(t+="<br>"+e.SellerTwoFullname);var n='                         <div class="list-group-item">                             <div class="row">                                 <div class="col-3 d-flex align-items-center">                                     <button class="btn btn-primary btn-lg merge-listing-button" data-listing-id="'+e.Listing_ID+'"><i class="fad fa-exchange-alt mr-2"></i> Merge</button>                                 </div>                                 <div class="col-9">                                     <div class="row text-primary font-10">                                         <div class="col-12 mb-3">                                             '+e.FullStreetAddress+" "+e.City+", "+e.StateOrProvince+" "+e.PostalCode+'                                         </div>                                     </div>                                     <div class="row text-gray">                                         <div class="col-3">                                             <strong>Sellers</strong><br>                                             '+t+'                                         </div>                                         <div class="col-3">                                             <strong>List Date</strong><br>                                             '+e.MlsListDate+'                                         </div>                                         <div class="col-3">                                             <strong>List Price</strong><br>                                             $'+global_format_number(e.ListPrice)+'                                         </div>                                         <div class="col-3 d-flex align-items-center">                                             <a href="/agents/doc_management/transactions/transaction_details/'+e.Listing_ID+'/listing" class="btn btn-primary btn-sm" target="_blank"><i class="fad fa-eye mr-2"></i> View Listing</a>                                         </div>                                     </div>                                 </div>                             </div>                         </div>                     ';console.log(n),$(".matching-listings-list-group").append(n)})),$(".merge-listing-button").off("click").on("click",(function(){var e=$(this).data("listing-id"),t=$("#Contract_ID").val(),n=new FormData;n.append("Listing_ID",e),n.append("Contract_ID",t),axios.post("/agents/doc_management/transactions/save_merge_listing_and_contract",n,axios_options).then((function(e){$("#merge_with_listing_modal").modal("hide"),toastr.success("Listing and Contract Successfully Merged"),load_details_header(),load_tabs("members")})).catch((function(e){console.log(e)}))}))):$("#modal_info").modal().find(".modal-body").html("No matching listings were found.<br><br>The street, city, state and zip must match for both properties.")})).catch((function(e){console.log(e)}))};$((function(){$("html, body").animate({scrollTop:0},500,"swing"),load_tabs("details"),$(document).on("click",".transaction-details-nav-link",(function(){load_tabs($(this).data("tab"))})),$(document).on("click",".process-cancellation-button",(function(){var e=$(this).data("contract-id");window.location="/doc_management/document_review/"+e})),load_details_header(),data_table(10,$("#transfer_table"),[3,"desc"],[0],[],!1,!0,!0,!0,!0),$(document).on("click","#email_agent_general",(function(){var e=$("#email_agent_subject").val().replace("Commission Breakdown Needed - ","");$("#email_agent_subject").val(e),$("#email_agent_modal").modal("show"),$(".checklist-include").addClass("hidden"),$("#send_email_agent_button").off("click").on("click",send_email_agent)}));var e={menubar:!1,statusbar:!1,toolbar:!0,selector:"#email_agent_message",height:250,relative_urls:!1,document_base_url:location.hostname};text_editor(e);var t=null;$("#agent_search").on("keyup",(function(){var e=$(this).val();e.length>3?($(".search-results").html(""),t&&t.cancel(),t=axios.CancelToken.source(),axios.get("/agents/doc_management/transactions/search_bright_agents",{cancelToken:t.token,params:{val:e},headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){var t=e.data;$.each(t,(function(e,t){t.length>0?($.each(t,(function(e,t){var n='                                     <div class="search-result list-group-item" data-agent-first="'+t.MemberFirstName+'" data-agent-last="'+t.MemberLastName+'" data-agent-phone="'+t.MemberPreferredPhone+'" data-agent-email="'+t.MemberEmail+'" data-agent-company="'+t.OfficeName+'" data-agent-mls-id="'+t.MemberMlsId+'" data-agent-street="'+t.OfficeAddress1+'" data-agent-city="'+t.OfficeCity+'" data-agent-state="'+t.OfficeStateOrProvince+'" data-agent-zip="'+t.OfficePostalCode+'">                                         <div class="row">                                             <div class="col-6 col-md-3">                                                 <span class="font-weight-bold">'+t.MemberLastName+", "+t.MemberFirstName+'</span><br><span class="small">'+t.MemberType+" ("+t.MemberMlsId+")<br>"+t.MemberEmail+'                                             </div>                                             <div class="col-6 col-md-3">                                             <span class="font-weight-bold">'+t.OfficeName+'</span><br><span class="small">'+t.OfficeMlsId+'</span>                                            </div>                                             <div class="col-12 col-md-6">                                                 '+t.OfficeAddress1+"<br>"+t.OfficeCity+", "+t.OfficeStateOrProvince+" "+t.OfficePostalCode+"                                             </div>                                         </div>                                     </div>                                 ";$(".search-results").append(n)})),$(".search-results-container").show()):($(".search-results-container").show(),$(".search-results").append('<div class="search-result list-group-item text-danger"><i class="fad fa-exclamation-triangle mr-2"></i> No Matching Results</div>'))})),$(".search-result").off("click").on("click",(function(){var e,t,n,i,a,o,r,s,l,c,d;e=$(this),t=e.data("agent-first"),n=e.data("agent-last"),i=e.data("agent-email"),a=e.data("agent-phone"),o=e.data("agent-mls-id"),r=e.data("agent-company"),s=e.data("agent-street"),l=e.data("agent-city"),c=e.data("agent-state"),d=e.data("agent-zip"),$("#accept_contract_buyer_agent_first").val(t),$("#accept_contract_buyer_agent_last").val(n),$("#accept_contract_buyer_agent_email").val(i),$("#accept_contract_buyer_agent_phone").val(a),$("#accept_contract_buyer_agent_mls_id").val(o),$("#accept_contract_buyer_agent_company").val(r),$("#accept_contract_buyer_agent_street").val(s),$("#accept_contract_buyer_agent_city").val(l),$("#accept_contract_buyer_agent_state").val(c),$("#accept_contract_buyer_agent_zip").val(d),$(".search-results").fadeOut("slow"),$("#agent_search_div").collapse("hide")}))})).catch((function(e){axios.isCancel(e)}))):($(".search-results-container").hide(),$(".search-results").html(""))})),$(document).on("click",".details-list-group .nav-link[data-tab]",(function(){window.get_emailed_docs_interval&&clearInterval(get_emailed_docs_interval),window.in_process_interval&&clearInterval(in_process_interval),window.in_process_esign_interval&&clearInterval(in_process_esign_interval),window.load_esign_in_process_tab&&clearInterval(load_esign_in_process_tab),"documents"==$(this).data("tab")?(window.get_emailed_docs_interval=setInterval(get_emailed_documents,5e3),window.in_process_esign_interval=setInterval(in_process_esign,1e3),window.in_process_interval=setInterval((function(){var e=[];$(".document-div").each((function(){e.push($(this).data("document-id"))})),in_process(e)}),1e3)):"esign"==$(this).data("tab")&&(window.load_esign_in_process_tab=setInterval((function(){load_tab("in_process")}),1e4))})),$(document).on("mouseup",(function(e){var t=$(".search-results-container");t.is(e.target)||0!==t.has(e.target).length||t.hide()}));var n=global_get_url_parameters("tab");""!=n&&$('[data-tab="'+n+'"]').trigger("click")})),window.undo_merge_with_listing=function(){var e=$(this).data("listing-id"),t=$("#Contract_ID").val(),n=new FormData;n.append("Listing_ID",e),n.append("Contract_ID",t),axios.post("/agents/doc_management/transactions/save_undo_merge_listing_and_contract",n,axios_options).then((function(e){$("#merge_with_listing_modal").modal("hide"),toastr.success("Listing and Contract Successfully Separated"),load_details_header(),load_tabs("members")})).catch((function(e){console.log(e)}))},window.load_details_header=function(){var n=$("#Listing_ID").val(),o=$("#Contract_ID").val(),c=$("#Referral_ID").val(),u=$("#transaction_type").val();axios.get("/agents/doc_management/transactions/transaction_details_header",{params:{Listing_ID:n,Contract_ID:o,Referral_ID:c,transaction_type:u},headers:axios_headers_html}).then((function(n){$("#details_header").html(n.data),$('[data-toggle="popover"]').popover({placement:"bottom"}),$("#accept_contract_button").off("click").on("click",l),$("#cancel_contract_button").off("click").on("click",a),$("#cancel_listing_button").off("click").on("click",i),$("#cancel_referral_button").off("click").on("click",r),$(".undo-cancel-listing-button").off("click").on("click",t),$(".undo-cancel-contract-button").off("click").on("click",e),$(".undo-cancel-referral-button").off("click").on("click",s),$("#merge_with_listing_button").off("click").on("click",d),$("#undo_merge_with_listing_button").off("click").on("click",undo_merge_with_listing)})).catch((function(e){}))},window.load_tabs=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$("#Listing_ID").val(),i=$("#Contract_ID").val(),a=$("#Referral_ID").val(),o=$("#Agent_ID").val(),r=$("#Commission_ID").val(),s=$("#transaction_type").val();""==e&&(e="details"),axios.get("/agents/doc_management/transactions/get_"+e,{params:{Listing_ID:n,Contract_ID:i,Referral_ID:a,Agent_ID:o,Commission_ID:r,transaction_type:s},headers:axios_headers_html}).then((function(n){$("#"+e+"_tab").html(n.data),"details"==e?details_init():"members"==e?members_init():"documents"==e?documents_init(t):"esign"==e?esign_init():"checklist"==e?checklist_init():"contracts"==e?contracts_init():"commission"==e?commission_init(r,o):"agent_commission"==e?agent_commission_init():"earnest"==e&&earnest_init(),$(".draggable").draggable({handle:".draggable-handle"}),setTimeout(show_title_fields,500),$("#required_fields_using_heritage").on("change",(function(){show_title_fields()})),global_format_money(),global_tooltip(),global_loading_off()})).catch((function(e){}))},window.show_title_fields=function(){"yes"==$("#required_fields_using_heritage").val()||""==$("#required_fields_using_heritage").val()?($(".not-using-heritage").hide(),$("#required_fields_title_company").val(""),$("#required_fields_title_company").prop("required",!1).removeClass("required")):($(".not-using-heritage").show(),$("#required_fields_title_company").prop("required",!0).addClass("required"))},window.reorder_documents=function(e){var t=0,n=$(".sortable-documents").length-1;$(".sortable-documents").each((function(){var i=$(this).find(".document-div"),a=$(this).data("folder-id"),o={document:[]};i.each((function(){var e,t,n;t=(e=$(this)).data("document-id"),n=e.index(),o.document.push({folder_id:a,document_id:t,document_index:n})}));var r=new FormData;o=JSON.stringify(o),r.append("data",o),axios.post("/agents/doc_management/transactions/reorder_documents",r,axios_options).then((function(i){t==n&&"no"==e&&(toastr.success("Documents Reordered"),$(".folder-div").each((function(){var e=$(this).find(".sortable-documents").find(".document-div").length;$(this).find(".docs-count").text(e)}))),t+=1})).catch((function(e){}))}))},window.listing_options=function(){var e=$("[name=property_sub_type]").val();"Standard"==e||"Short Sale"==e?$(".hoa").show():($(".hoa").hide(),$("[name=hoa_condo]").val("none").attr("required",!1)),"rental"==$("[name=listing_type]").val()?($(".property-sub-type").hide().find("[name=property_sub_type]").val("Standard"),$(".year-built, .hoa").hide(),$("[name=year_built], [name=hoa_condo]").attr("required",!1)):"Standard"==e||"Short Sale"==e?($(".property-sub-type, .year-built, .hoa").show(),$("[name=year_built], [name=hoa_condo]").attr("required",!0)):($(".property-sub-type, .year-built").show(),$("[name=year_built]").attr("required",!0))}}},7954:(e,t,n)=>{var i=n(8849),a=n(1448);document.URL.match(/edit_files/)&&$((function(){function e(){$(".user-field-div").each((function(){n($(this).closest(".field-div-container"),$(this).data("type"))})),$(document).on("click",".field-div",(function(e){!function(e){l();var t=e.closest(".field-div-container");t.addClass("show");var n=e.data("group-id");e.data("category").match(/(checkbox|radio|date|strikeout|highlight)/)?"radio"==e.data("category")?"x"==t.find(".data-div").html()?t.find(".data-div").html(""):($(".group_"+n).closest(".field-div-container").find(".data-div").html(""),$(".group_"+n).closest(".field-div-container").find(".field-input").val(""),t.find(".data-div").html("x"),t.find(".field-input").val("checked")):"checkbox"==e.data("category")?t.find(".data-div").text().match(/x/)?(t.find(".data-div").text(""),t.find(".field-input").val("")):(t.find(".data-div").text("x"),t.find(".field-input").val("checked")):"date"==e.data("category")&&t.find(".field-datepicker").trigger("click"):e.hasClass("inline")&&"number"!=e.data("category")?(t.find(".inline-editor").focus(),tinymce.activeEditor.on("focus",(function(e){t.find(".inline-editor").css({"z-index":5}),tinymce.activeEditor.selection.select(tinyMCE.activeEditor.getBody(),!0),tinymce.activeEditor.selection.collapse(!1)})),tinymce.activeEditor.on("blur",(function(e){t.find(".inline-editor").css({"z-index":1}),t.find(".field-input").val(t.find(".inline-editor").text())}))):"number"==e.data("category")&&(t.find(".field-input").focus(),$(document).on("keydown",(function(e){if("Tab"==e.key)return!1})))}($(this))})),$(".file-image-bg").on("click",(function(){l()})),$("#file_viewer").off("dblclick").on("dblclick",".file-view-page-container.active .file-image-bg",(function(e){!function(e){var t=$(".edit-form-action.active").data("field-type");if(t){l();var i=$(e.target.parentNode),a=o(e,null,"no"),r=a.x,s=a.y,d=a.h,u=a.w,f=Date.now(),h=function(e,t,n,i,a,o,r,s){var l="",c="",d='             <div class="field-handle ui-resizable-handle ui-resizable-e"></div>             <div class="field-handle ui-resizable-handle ui-resizable-w"></div>             ';"highlight"==s&&(d='                 <div class="field-handle ui-resizable-handle ui-resizable-nw"></div>                 <div class="field-handle ui-resizable-handle ui-resizable-ne"></div>                 <div class="field-handle ui-resizable-handle ui-resizable-se"></div>                 <div class="field-handle ui-resizable-handle ui-resizable-sw"></div>                 ');var u="";"user_text"==s?(l="user-field-div textline-div",c='<div class="data-div textline-html inline-editor"></div>                 <input type="hidden" class="field-input user-field-input" data-id="" data-field-id="'+a+'" data-group-id="'+o+'" data-field-type="'+s+'">',u="inline"):"strikeout"==s?(l="user-field-div strikeout-div",c='<div class="data-div strikeout-html"></div>'):"highlight"==s&&(l="user-field-div highlight-div",c='<div class="data-div highlight-html"></div>');return'             <div class="field-div-container show '+s+'" style="position: absolute; top: '+i+"%; left: "+n+"%; height: "+e+"%; width: "+t+'%;">                 <div class="field-div new '+l+" group_"+o+" "+u+'" style="position: absolute; top: 0%; left: 0%; height: 100%; width: 100%;" id="field_'+a+'" data-field-id="'+a+'" data-group-id="'+o+'" data-type="'+s+'" data-category="'+s+'" data-page="'+r+'"></div>                 <div class="field-options-holder w-100">                     <div class="d-flex justify-content-around">                         <div class="btn-group" role="group" aria-label="Field Options">                             <a type="button" class="btn btn-primary field-handle"><i class="fal fa-arrows fa-lg"></i></a>                             <a type="button" class="btn btn-danger remove-field"><i class="fad fa-times-circle fa-lg"></i></a>                         </div>                     </div>                 </div>                 '+d+"                 "+c+"             </div>             "}(d,u,r,s,f,f,$("#active_page").val(),t);$(".field-div-container.show").removeClass("show"),i.append(h);var p=$(".field-div-container.show");o(null,p,"no"),n(p,t),"user_text"==t&&c()}}(e)})),$(document).on("click",".close-field-button",l),$(document).on("click","#save_file_button",r),$(".edit-form-action").on("click",(function(){$(".text-yellow").removeClass("active text-yellow").addClass("text-primary-dark"),$(this).removeClass("text-primary-dark").addClass("active text-yellow")})),$(document).on("click",".remove-field",(function(){$(this).closest(".field-div-container").remove()})),$("#rotate_form_button").length>0&&$(document).on("click",".rotate-form-option",(function(){!function(e){$(".fa-sync-alt").addClass("fa-spin"),global_loading_on("",'<div class="text-white">Rotating Document</div>'),$(".file-view-page-container, .file-view-thumb-container").addClass("fadeOut");var n=$("#file_id").val(),i=$("#file_type").val(),a=$("#Listing_ID").val(),o=$("#Contract_ID").val(),r=$("#Referral_ID").val(),s=$("#transaction_type").val(),l=new FormData;l.append("file_id",n),l.append("file_type",i),l.append("Listing_ID",a),l.append("Contract_ID",o),l.append("Referral_ID",r),l.append("transaction_type",s),l.append("degrees",e),axios.post("/agents/doc_management/transactions/edit_files/rotate_document",l,axios_options).then((function(e){global_loading_off(),$(".fa-sync-alt").removeClass("fa-spin"),t()})).catch((function(e){}))}($(this).data("degrees"))})),$(".field-datepicker").length>0&&$(".field-datepicker").each((function(){var e=$(this).prop("id");window.picker=a("#"+e,{onSelect:function(e,t){var n=t.toLocaleDateString();$("#"+e.el.id).closest(".field-div-container").find("div.data-div").html(n),$("#"+e.el.id).closest(".field-div-container").find(".field-input").val(n)},onShow:function(e){var t=$("#"+e.el.id).closest(".field-div-container"),n=t.find(".clear-datepicker");0==n.length&&t.find(".qs-datepicker").append('<div class="my-2 text-center w-100"><a href="javascript:void(0)" class="clear-datepicker text-danger"><i class="fad fa-times-circle mr-2"></i> Clear</a></div>'),n.on("click",(function(){var e;(e=n).closest(".field-div-container").find(".field-input").val(""),e.closest(".field-div-container").find(".data-div").html("")}))},onHide:function(e){},formatter:function(e,t,n){var i=t.toLocaleDateString();e.value=i},showAllDates:!0})})),c(),$("#file_viewer").on("scroll",(function(){var e="yes";$(".file-view-page-container").each((function(){var t,n,i,a;"yes"==e&&(t=$(this).data("id"),n=$(window).height()/2,a=(i=$(this).offset().top)+$(this).height(),i<n&&a>n&&($(".file-view-page-container").removeClass("active"),$(this).addClass("active"),$("#active_page").val(t),$(".file-view-thumb-container").removeClass("active"),$("#thumb_"+t).addClass("active"),document.getElementById("thumb_"+t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),e="no"))}))})),$('.field-div[data-type="name"], .field-div[data-type="address"], .field-div[data-category="number"]').each((function(){s($(this))})),$(".field-input").each((function(){$(this).data("original-value",$(this).val())})),window.addEventListener("beforeunload",(function(e){var t="no";if($(".field-input").each((function(){"no"==t&&$(this).val()!=$(this).data("original-value")&&(t="yes")})),"yes"==t){var n="You have unsaved changes,are you sure you want to leave this page?";return(e||window.event).returnValue=n,n}return!0}))}function t(){var t=$("#document_id").val();axios.get("/agents/doc_management/transactions/get_edit_file_docs",{params:{document_id:t},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$("#files_div").html(t.data),e()})).catch((function(e){}))}function n(e,t){var n=e.closest(".fields-container"),i={e:".ui-resizable-e",w:".ui-resizable-w"};"highlight"==t&&(i={nw:".ui-resizable-nw",ne:".ui-resizable-ne",se:".ui-resizable-se",sw:".ui-resizable-sw"}),e.draggable({containment:n,handle:".field-handle",cursor:"grab",stop:function(e,t){o(null,$(e.target),"yes")}}),e.resizable({containment:n,handles:i,stop:function(e,t){o(null,$(e.target),"yes")}})}function o(e,t,n){var i,a,o;if(e){i=$(e.target.parentNode),t=$(e.target);var r=e.target.getBoundingClientRect();a=parseInt(Math.round(e.clientX-r.left)),o=parseInt(Math.round(e.clientY-r.top))}else i=t.parent(),a=t.position().left,o=t.position().top;var s=u("x",a,i),l=u("y",o,i);e&&(l-=1.3),h_perc="no"==n?1.3:t.height()/t.parent().height()*100,w_perc="no"==n?15:t.width()/t.parent().width()*100,h_perc=parseFloat(h_perc),w_perc=parseFloat(w_perc);var c=t.find(".field-div");if(c.data("hp",h_perc),c.data("wp",w_perc),c.data("xp",s),c.data("yp",l),t.css({height:h_perc+"%"}),t.css({width:w_perc+"%"}),t.css({left:s+"%"}),t.css({top:l+"%"}),s<0&&t.animate({left:"0%"}).find("field-div").data("wp","0"),s+w_perc>100){var d=100-w_perc;t.animate({left:d+"%"}).find("field-div").data("wp",d)}return l<0&&t.animate({top:"0%"}).find("field-div").data("yp","0"),{h:h_perc,w:w_perc,x:s,y:l}}function r(){var e='Saving <span class="spinner-border spinner-border-sm ml-2"></span>';$(window).width()>768&&(e='<i class="fad fa-save fa-lg"></i><br>Saving <span class="spinner-border spinner-border-sm ml-2"></span>'),$("#save_file_button").prop("disabled",!0).html(e);var t=[];$(".field-input").not(".user-field-input").each((function(){var e={id:$(this).data("id"),value:$(this).val()};t.push(e)})),t=JSON.stringify(t);var n=new FormData;n.append("inputs",t),axios.post("/agents/doc_management/transactions/edit_files/save_edit_system_inputs",n,axios_options).then((function(e){var t=$("#Listing_ID").val(),n=$("#Contract_ID").val(),i=$("#transaction_type").val(),a=$("#Agent_ID").val(),o=$("#file_id").val(),r=[];$(".user-field-div").each((function(){var e=$(this),t=e.data("type"),n={file_id:$("#file_id").val(),create_field_id:e.data("field-id"),field_type:t,hp:e.data("hp"),wp:e.data("wp"),xp:e.data("xp"),yp:e.data("yp"),page:e.data("page"),input_data:""};if("user_text"==t){var i={value:e.closest(".field-div-container").find(".field-input").val()};n.input_data=i}r.push(n)})),r=JSON.stringify(r);var s=new FormData;s.append("Agent_ID",a),s.append("Listing_ID",t),s.append("Contract_ID",n),s.append("transaction_type",i),s.append("file_id",o),s.append("user_fields",r),axios.post("/agents/doc_management/transactions/edit_files/save_edit_user_fields",s,axios_options).then((function(e){!function(){toastr.success("Changes Successfully Saved");var e,t=".system-html, .data-div-radio-check, .highlight-html, .user_textinline";$(t).each((function(){var t=$(this);e=["background","line-height","margin-left","margin-top","padding-left","padding-top","top"],$.each(e,(function(e,n){t.data(n,t.css(n))}))}));var n="12px",i="2px";"a4"==$("#page_size").val()&&(n="11px",i="3px");var a="'Roboto Condensed', sans-serif";$(".data-div.system-html, .textline-html").css({position:"absolute",top:i,left:"0px",width:"100%",overflow:"visible","white-space":"nowrap","font-size":n,color:"black","line-height":"1","padding-top":"0px","padding-left":"0px","font-family":a}),$(".data-div.system-html").not(".inline-editor").css({"text-align":"center"}),$(".inline-editor").css({"font-size":n}),$(".data-div-checkbox").css({display:"block",height:"100%",width:"100%","margin-left":"2px","margin-top":"1px",color:"#000","font-size":"1.4em","line-height":"35%","font-weight":"bold","font-family":a}),$(".data-div-radio").css({"margin-left":"2px","margin-top":"2px",color:"#000","font-size":"1.3em","line-height":"40%","font-weight":"bold","font-family":a}),$(".data-div.highlight-html").css({position:"relative",display:"block",background:"rgba(255, 237, 74,.3)",height:"100%",width:"100% !important"}),$(".data-div.strikeout-html").css({display:"block",position:"absolute",top:"4px",left:"0px",width:"100%",height:"4px",background:"#000000","line-height":"1"});var o=$("#file_id").val(),r=$("#document_id").val(),s=$("#file_name").val(),l=$("#file_type").val(),c=$("#Listing_ID").val(),d=$("#Contract_ID").val(),u=$("#Referral_ID").val(),f=$("#transaction_type").val(),h=".file-image-bg, .field-div, .field-options-holder, .field-handle, .qs-datepicker-container, .field-datepicker, .inputs-container, .field-input",p=new FormData,m=0;$(".file-view-page-container").each((function(){m+=1;var e=$(this),t=e.clone(),n=e.clone(),i="",a="";t.find(h).remove(),n.find(h).remove(),t.find(".field-div-container").not(".highlight").length>0&&((i=$(t.wrap("<div>").parent().html().replace(/\>\s+\</g,"><"))).find(".highlight").remove(),i=i.wrap("<div>").parent().html(),p.append("page_html_top_"+m,i)),n.find(".highlight").length>0&&((a=$(n.wrap("<div>").parent().html().replace(/\>\s+\</g,"><"))).find(".field-div-container").not(".highlight").remove(),a=a.wrap("<div>").parent().html(),p.append("page_html_bottom_"+m,a))})),p.append("page_count",m),p.append("file_id",o),p.append("document_id",r),p.append("file_type",l),p.append("file_name",s),p.append("Listing_ID",c),p.append("Contract_ID",d),p.append("Referral_ID",u),p.append("transaction_type",f),setTimeout((function(){$(t).each((function(){var t=$(this);$.each(e,(function(e,n){t.css(n,t.data(n))}))}))}),1e3),$("#in_process_div").show(),setTimeout((function(){!function(e){var t=new FormData;t.append("document_ids",e),check_in_process=setInterval((function(){axios.post("/agents/doc_management/transactions/in_process",t,axios_options).then((function(e){e.data.in_process.length>0?$("#in_process_div").show():(clearInterval(check_in_process),$("#save_file_button").prop("disabled",!1),$("#in_process_div").hide())})).catch((function(e){}))}),1e3)}([r])}),3e3),$("#save_file_button").html('<span class="d-none d-sm-block"><i class="fad fa-save fa-lg"></i><br></span>Save'),axios_options.header={"content-type":"multipart/form-data"},axios.post("/agents/doc_management/transactions/edit_files/convert_to_pdf",p,axios_options).then((function(e){})).catch((function(e){}))}(),$(".field-input").each((function(){$(this).data("original-value",$(this).val())}))})).catch((function(e){}))})).catch((function(e){}))}function s(e){var t=e.closest(".field-div-container"),n=t.find(".inputs-container"),a=e.data("field-name"),o=e.data("group-id"),r=t.find(".data-div");if("number"==e.data("category")){var s="",l=n.find(".field-input").val();""!=l&&(s=parseInt(l)),$(".group_"+o).each((function(){var e=$(this).closest(".field-div-container");e.find(".field-input").val(l);var t=$(this).data("number-type"),n=e.find(".data-div");""==l?n.html(""):"numeric"==t?n.html(global_format_number(s)):d(o,i(s))}))}else if("name"==e.data("type")){if(1==t.find(".field-input").eq(0).length){var c=t.find(".field-input").eq(0).val(),u=t.find(".field-input").eq(1).val(),f="";f=c,a.match(/Both/)?(f=c,""!=u&&(f+=", "+u)):a.match(/One/)?f=c:a.match(/Two/)&&(f=u),$(".group_"+o).length>0?d(o,f):r.html(f)}}else if("address"==e.data("type")){var h=t.find(".field-input").eq(0).val(),p=t.find(".field-input").eq(1).val(),m=t.find(".field-input").eq(2).val(),_=t.find(".field-input").eq(3).val(),v=t.find(".field-input").eq(4).val(),g="";""!=h&&(a.match(/Full/)?g=h+" "+p+", "+m+" "+_:a.match(/Street/)?g=h:a.match(/City/)?g=p:a.match(/State/)?g=m:a.match(/Zip/)?g=_:a.match(/County/)&&(g=v)),$(".group_"+o).length>0?d(o,g):r.html(g)}}function l(){var e=$(".field-div-container.show");e.length>0&&(!function(e){var t=e.closest(".field-div-container"),n=e.data("field-name"),i=e.data("group-id");if("name"==e.data("type")){var a=t.find(".field-input").eq(0).val(),o=t.find(".field-input").eq(1).val(),r="";["BuyerOrRenterOne","BuyerOrRenterTwo","BuyerOrRenterBoth","SellerOrOwnerOne","SellerOrOwnerTwo","SellerOrOwnerBoth"].forEach((function(e){n.match(e)&&(r=e.replace(/(One|Two|Both)/,""))})),["One","Two","Both"].forEach((function(e){$('[data-field-name="'+r+e+'Name"]').each((function(){var t=$(this).closest(".field-div-container").find(".field-input");t.eq(0).val(a),t.eq(1).val(o),s($('[data-field-name="'+r+e+'Name"]'))}))}))}else if("address"==e.data("type")){var l=t.find(".field-input").eq(0).val(),c=t.find(".field-input").eq(1).val(),d=t.find(".field-input").eq(2).val(),u=t.find(".field-input").eq(3).val(),f=t.find(".field-input").eq(4).val(),h=["Street","City","State","Zip","County"],p="";["BuyerOrRenterOne","BuyerOrRenterTwo","BuyerOrRenterBoth","SellerOrOwnerOne","SellerOrOwnerTwo","SellerOrOwnerBoth","BuyerAgent","ListAgent","Property"].forEach((function(e){n.match(e)&&(p=e)})),h.forEach((function(e){$('[data-field-name="'+p+e+'"]').each((function(){var t=$(this).closest(".field-div-container").find(".field-input");t.eq(0).val(l),t.eq(1).val(c),t.eq(2).val(d),t.eq(3).val(u),t.eq(4).val(f),s($('[data-field-name="'+p+e+'"]'))}))}))}else if("number"==e.data("type")){var m=t.find(".field-input").eq(0).val();$('[data-group-id="'+i+'"]').closest(".field-div-container").find(".field-input").val(m),s($('[data-group-id="'+i+'"]'))}}(e.find(".field-div")),e.removeClass("show"))}function c(){text_editor({selector:".inline-editor",inline:!0,menubar:!1,statusbar:!1,toolbar:!1})}function d(e,t){t=t.trim();var n=$(".group_"+e).data("type");1==$(".group_"+e).not('[data-number-type="numeric"]').length?"number"==n?$(".group_"+e+'[data-number-type="written"]').first().closest(".field-div-container").find(".data-div").html(t):$(".group_"+e).first().closest(".field-div-container").find(".data-div").html(t):($(".group_"+e).not('[data-number-type="numeric"]').closest(".field-div-container").find(".data-div").html(""),$(".group_"+e).not('[data-number-type="numeric"]').each((function(){if(""!=t){var e=.15*String(Math.ceil($(this).width()));if(t.length>e){var n=t.substring(0,e).lastIndexOf(" "),i=t.substring(0,n);$(this).closest(".field-div-container").find(".data-div").html(i);var a=n+1;t=t.substring(a)}else $(this).closest(".field-div-container").find(".data-div").html(t),t=""}})))}function u(e,t,n){return"x"==e?100*parseFloat(t/parseFloat(n.width())):100*parseFloat(t/parseFloat(n.height()))}t(),$(document).on("click",".file-view-thumb-container",(function(){$(".file-view-thumb-container").removeClass("active"),$(this).addClass("active");var e=$(this).data("id");window.location="#page_"+e}))}))},4651:()=>{(document.URL.match(/transaction_details/)||document.URL.match(/document_review/))&&$((function(){var e="";function t(e){var t=e.index();cancel=!1,$(".checklist-item-div.pending").each((function(){var e=$(this);0==cancel&&e.index()>t&&($(".checklist-items-container").scrollTop(0).scrollTop(e.offset().top-250),e.find(".checklist-item-name").trigger("click"),cancel=!0)}))}document.URL.match(/transaction_details/)?e="checklist":document.URL.match(/document_review/)&&(e="review"),$(document).on("click",".delete-note-button",(function(){delete_note($(this))})),$(document).on("click",'#email_agent_modal [data-dismiss="modal"]',(function(){reset_email()})),window.show_form_group=function(){var e=$("#add_checklist_item_form"),t=e.find(".select-form-group");e.find(".form-search").val(""),"all"==t.val()?e.find(".form-group-div, .list-group-header, .form-name").show():(e.find(".list-group-header, .form-name").show(),e.find(".form-group-div").hide(),e.find('[data-form-group-id="'+t.val()+'"]').show())},window.delete_note=function(e){var t=e.data("note-id"),n=new FormData;n.append("note_id",t),axios.post("/doc_management/delete_note",n,axios_options).then((function(t){e.closest(".note-div").fadeOut("slow"),setTimeout((function(){e.closest(".note-div").remove()}),2e3)})).catch((function(e){}))},window.reset_email=function(){var e=$("#email_agent_subject").val().replace(/All\sDocuments\sCompleted\s-\s/,"");$("#email_agent_subject").val(e),$("#docs_complete_message").remove()},window.show_email_agent=function(){$("#email_agent_modal").modal(),axios.get("/agents/doc_management/transactions/get_email_checklist_html",{params:{checklist_id:$("#transaction_checklist_id").val(),transaction_type:$("#transaction_type").val(),url:document.URL},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#email_agent_checklist_details").html(e.data),$(".checklist-include").removeClass("hidden"),$("#send_email_agent_button").off("click").on("click",send_email_agent);text_editor({menubar:!1,statusbar:!1,toolbar:!1,selector:"#email_agent_message"})})).catch((function(e){}))},window.send_email_agent=function(){$("#send_email_agent_button").html('<i class="fas fa-spinner fa-pulse mr-2"></i> Sending Email');var e=$("#email_agent_from").val(),t=$("#email_agent_to").val(),n=$("#email_agent_cc").val(),i=[];i.push({type:"to",address:t}),""!=n&&i.push({type:"cc",address:n});var a=$("#email_agent_subject").val(),o=tinymce.activeEditor.getContent();o+=$("#email_agent_checklist_details").html(),reset_email();var r=new FormData;r.append("from",e),r.append("to_addresses",JSON.stringify(i)),r.append("subject",a),r.append("message",o),axios.post("/send_email",r,axios_options).then((function(e){$("#send_email_agent_button").html('<i class="fad fa-share mr-2"></i> Send Email'),$("#email_agent_modal").modal("hide"),toastr.success("Agent Successfully Emailed")})).catch((function(e){}))},window.save_add_notes=function(){var e=$(this).data("checklist-id"),t=$(this).data("checklist-item-id"),n=$(".notes-input-"+t).val();if(""==n)return $("#modal_danger").modal().find(".modal-body").html("You must enter comments before saving"),!1;var i=new FormData;i.append("notes",n),i.append("checklist_id",e),i.append("checklist_item_id",t),i.append("Listing_ID",$("#Listing_ID").val()),i.append("Contract_ID",$("#Contract_ID").val()),i.append("Referral_ID",$("#Referral_ID").val()),i.append("transaction_type",$("#transaction_type").val()),i.append("Agent_ID",$("#Agent_ID").val()),axios.post("/agents/doc_management/transactions/add_notes_to_checklist_item",i,axios_options).then((function(e){toastr.success("Comments Successfully Added"),get_notes(t),$(".notes-input-"+t).val("")})).catch((function(e){}))},window.get_notes=function(e){var t=$("#Agent_ID").val();axios.get("/doc_management/get_notes",{params:{checklist_item_id:e,Agent_ID:t},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){""!=t.data&&($("#notes_"+e).find(".notes-div").html(t.data),$(".mark-read-button").off("click").on("click",mark_note_read))})).catch((function(e){}))},window.mark_note_read=function(){var e=$(this),t=e.data("note-id"),n=(e.closest(".note-div"),new FormData);n.append("note_id",t),axios.post("/agents/doc_management/transactions/mark_note_read",n,axios_options).then((function(t){var n;e.parent().html('<span class="text-success small"><i class="fal fa-check"></i> Read</span>'),n=$(".mark-read-button").length,$(".property-item.active").find(".todo-count").text(n)})).catch((function(e){}))},window.mark_required=function(t,n,i){var a=new FormData;a.append("checklist_item_id",n),a.append("required",i),axios.post("/agents/doc_management/transactions/mark_required",a,axios_options).then((function(n){var a="",o="",r="";"checklist"==e&&(o='<i class="fad fa-exclamation-circle fa-lg mr-2"></i> ',r='<i class="fal fa-minus-circle fa-lg mr-2"></i> ');var s=(a=t.closest(".checklist-item-div")).find(".status-badge");a.find(".mark-required").removeClass("d-block").removeClass("d-none"),"yes"==i?a.find(".checklist-item-unused").removeClass("checklist-item-unused"):a.find(".checklist-item-name, .status-badge").addClass("checklist-item-unused"),s.text().match(/Applicable/)?(s.removeClass("bg-default-light").addClass("bg-orange").html(o+"Required").attr("title",""),a.find(".mark-required.no").addClass("d-block").next("a").addClass("d-none")):s.text().match(/Required/)&&(s.removeClass("bg-orange").addClass("bg-default-light").html(r+"If Applicable").attr("title",""),a.find(".mark-required.yes").addClass("d-block").prev("a").addClass("d-none")),load_details_header()})).catch((function(e){}))},window.show_remove_checklist_item=function(e,t){$("#confirm_remove_checklist_item_modal").modal(),$("#confirm_remove_checklist_item_button").off("click").on("click",(function(){remove_checklist_item(e,t)}))},window.remove_checklist_item=function(t,n){var i=new FormData;i.append("checklist_item_id",n),axios.post("/agents/doc_management/transactions/remove_checklist_item",i,axios_options).then((function(n){"checklist"==e?load_tabs("checklist"):"review"==e&&t.closest(".list-group-item").fadeOut(),$("#confirm_remove_checklist_item_modal").modal("hide")})).catch((function(e){}))},window.show_add_checklist_item=function(){var e=$(this).data("group-id");$("#add_checklist_item_group_id").val(e),show_form_group(),$(".select-form-group").on("change",(function(){show_form_group()})),$("#add_checklist_item_modal").modal(),$(".form-name").off("click").on("click",(function(e){$(e.target).hasClass("form-link")||(clear_selected_form(),$(this).addClass("selected"),$("#add_checklist_item_name").val(""),$(this).addClass("bg-green-light selected").find(".checked-div").removeClass("d-none").next(".form-name-display").removeClass("text-primary").addClass("text-success"))})),$("#add_checklist_item_name").on("keyup",(function(){""!=$(this).val()&&clear_selected_form()})),$("#save_add_checklist_item_button").off("click").on("click",(function(){save_add_checklist_item(e)}))},window.save_add_checklist_item=function(t){var n=$("#Agent_ID").val(),i=$("#Listing_ID").val()||null,a=$("#Contract_ID").val()||null,o=$("#Referral_ID").val()||null,r=$("#add_checklist_item_checklist_id").val(),s=$(".form-name.selected").data("form-id")||null,l=$("#add_checklist_item_name").val(),c=$("#add_checklist_item_group_id").val(),d=$("#add_checklist_item_form");if("yes"==validate_form(d)){var u=new FormData(d[0]);u.append("Agent_ID",n),u.append("Listing_ID",i),u.append("Contract_ID",a),u.append("Referral_ID",o),u.append("checklist_id",r),u.append("checklist_form_id",s),u.append("add_checklist_item_name",l),u.append("add_checklist_item_group_id",c),axios.post("/agents/doc_management/transactions/save_add_checklist_item",u,axios_options).then((function(t){if(toastr.success("Checklist Item Successfully Added"),"checklist"==e)load_tabs("checklist");else{var n=$("#property_id").val(),i=$("#property_type").val();get_checklist(n,i)}$("#add_checklist_item_modal").modal("hide")})).catch((function(e){}))}},window.clear_selected_form=function(){$(".form-name").removeClass("bg-green-light selected"),$(".form-name-display").removeClass("text-success").addClass("text-primary"),$(".checked-div").addClass("d-none")},window.form_search=function(e){var t=e.val();if(0==t.length){$(".form-group-div").hide(),$(".list-group-header, .form-name").show();var n=$(".select-form-group").val();"all"==n?$(".form-group-div, .list-group-header, .form-name").show():$('[data-form-group-id="'+n+'"]').show().find(".form-name").show()}else $(".form-group-div").show(),$(".list-group-header").hide(),$(".form-name").hide().each((function(){$(this).data("text").match(new RegExp(t,"i"))&&($(this).show(),$(this).closest(".form-group-div").find(".list-group-header").show())}))},window.show_checklist_item_review_status=function(t,n){$("#reject_document_modal").modal(),setTimeout((function(){$("#rejected_reason").focus()}),500),$("#rejected_reason").on("keyup",(function(){if($(this).val().length>2){$(".rejected-reason").hide();var e=new RegExp($(this).val(),"i");$(".rejected-reason").each((function(){$(this).text().match(e)&&$(this).show()}))}else $(".rejected-reason").show()})),$(".rejected-reason").off("click").on("click",(function(){$("#rejected_reason").val($(this).data("reason")),$(".rejected-selected").addClass("d-none"),$(this).find(".rejected-selected").removeClass("d-none"),$("#save_reject_document_button").trigger("click")})),$("#save_reject_document_button").off("click").on("click",(function(){var i=$("#rejected_reason_form");if("yes"==validate_form(i)){"checklist"==e&&global_loading_on("",'<div class="h3 text-white">Updating Checklist Item and Adding To Comments</div>');var a=$("#rejected_reason").val();checklist_item_review_status(t,n,a),$("#reject_document_modal").modal("hide"),$(".rejected-selected").addClass("d-none")}}))},window.checklist_item_review_status=function(n,i,a){var o=n.data("checklist-item-id"),r=null,s=null;set_checklist_item_review_status(o,i,a).then((function(a){if("error"==a)return!1;var l="";"checklist"==e?(l=n.closest(".checklist-item-div"),s=n.closest(".checklist-item-div").find(".delete-doc-button")):l=$(".checklist-item-div.active"),l.removeClass("rejected"),(r=n.closest(".review-options")).find(".item-not-reviewed, .item-rejected, .item-accepted").removeClass("d-flex").addClass("d-none"),r.removeClass("bg-green-light bg-red-light").addClass("bg-light"),l.find(".status-badge").removeClass("bg-danger bg-default bg-success bg-orange bg-blue-light bg-default-light text-white text-primary");var c,d="",u="";if("accepted"==i){if("checklist"==e?(u='<i class="fal fa-check-circle fa-lg mr-2"></i> Complete',s.prop("disabled",!0)):(u="Complete",t(l)),l.removeClass("pending"),r.removeClass("bg-light").addClass("bg-green-light").find(".item-accepted").removeClass("d-none").addClass("d-flex"),d="bg-success text-white","yes"==a.data.complete&&"no"==a.data.release){var f='                                 <div class="d-flex justify-content-start align-items-center">                                     <i class="fal fa-check-circle mr-4 text-success fa-lg"></i>                                     <div>All required documents have been approved!</div>                                 </div>                                 ';f+='<div class="mt-2">',"yes"==a.data.contract&&(f+='                                     <div class="d-flex justify-content-start align-items-center">                                     <i class="fal fa-check-circle mr-4 text-success fa-lg"></i>                                         <div >The Completed/Signed ALTA is now a required item on the checklist</div>                                     </div>                                     '),f+="</div>";var h="You must complete your Commission Breakdown to complete this transaction";"yes"==a.data.contract&&(h="Once the Contract has settled you will need complete your Commission Breakdown to complete this transaction."),("review"==e&&0==$(".checklist-item-div.pending").length||"checklist"==e&&0==$(".checklist-item-div.pending").length&&0==$(".checklist-item-div.rejected").length)&&("checklist"==e&&load_tabs("checklist"),setTimeout((function(){$("#docs_complete_modal").appendTo("body").modal().find(".docs-complete-div").html(f),$(document).on("click",".email-agent-docs-complete",(function(){$("#docs_complete_modal").modal("hide"),reset_email();var e='                                             <div id="docs_complete_message"><br><br>                                                 <table width="600" border="0">';e+='                                                     <tr>                                                         <td style="color: #12eb12; font-size: 22px; width: 35px; text-align: center">&check;</td>                                                         <td>Congratulations, you have successfully submitted all Required Documents!</td>                                                     </tr>',"yes"==a.data.contract&&(e+='                                                     <tr>                                                         <td style="color: #4c9bdb; font-size: 22px; width: 35px; text-align: center">&excl;</td>                                                         <td>Your Completed/Signed ALTA is now a required item on the checklist</td>                                                     </tr>'),"yes"!=a.data.contract&&"yes"!=a.data.lease||(e+='                                                     <tr>                                                         <td style="color: #4c9bdb; font-size: 22px; width: 35px; text-align: center">&excl;</td>                                                         <td>'+h+"</td>                                                     </tr>"),e+="                                                 </table>                                             </div>";var t=$("#email_agent_subject").val();$("#email_agent_subject").val("All Documents Completed - "+t);var n=$("#email_agent_message").html();$("#email_agent_message").html(e+n),setTimeout((function(){show_email_agent()}),100)}))}),500))}}else"rejected"==i?("review"==e&&(r.removeClass("bg-light").addClass("bg-red-light").find(".item-rejected").removeClass("d-none").addClass("d-flex"),d="bg-default text-white",u="Rejected",t(l),setTimeout((function(){get_notes(o),$("#checklist_item_"+o).find(".fa-comment.fa-stack-1x").removeClass("text-blue-light").addClass("text-primary")}),1e3)),l.removeClass("pending").addClass("rejected")):"not_reviewed"==i&&("checklist"==e?(u='<i class="fal fa-minus-circle fa-lg mr-2"></i> Pending',s.prop("disabled",!1)):u="Pending",d="bg-blue-light text-primary",$(".accept-checklist-item-button").length>0&&(d="bg-danger text-white"),r.find(".item-not-reviewed").removeClass("d-none").addClass("d-flex"),l.addClass("pending"));c=$(".pending").length,$(".property-item.active").not(".comment").find(".todo-count").text(c),l.find(".status-badge").addClass(d).html(u).attr("title","")})).catch((function(e){return console.log(e)}))},window.set_checklist_item_review_status=function(t,n,i){var a=$("#Agent_ID").val(),o=$("#Listing_ID").val(),r=$("#Contract_ID").val(),s=$("#Referral_ID").val(),l=$("#transaction_type").val(),c=new FormData;return c.append("Agent_ID",a),c.append("Listing_ID",o),c.append("Contract_ID",r),c.append("Referral_ID",s),c.append("transaction_type",l),c.append("checklist_item_id",t),c.append("action",n),c.append("note",i),axios.post("/agents/doc_management/transactions/set_checklist_item_review_status",c,axios_options).then((function(t){return"error"==t.data.result?($("#modal_danger").modal().find(".modal-body").html("The Listing is currently under contract. You cannot undo this cancellation"),"error"):("checklist"==e&&($(".collapse").collapse("hide"),"rejected"==n&&load_tabs("checklist"),load_details_header(),global_loading_off()),"yes"==t.data.release&&("accepted"==t.data.release_status?(toastr.success("Contract Successfully Released"),"review"==e&&($(".cancel-status").removeClass("bg-danger").addClass("bg-success").find("div").html('<i class="fal fa-check-circle mr-2"></i>                                     <span>                                         Cancellation Complete                                     </span>'),$('.property-item.cancellation[data-id="'+r+'"]').find(".property-item-div").append('<div class="complete">Complete <i class="fal fa-check-circle"></i></div>'))):"not_reviewed"==t.data.release_status&&"review"==e&&($(".cancel-status").removeClass("bg-success").addClass("bg-danger").find("div").html('<i class="fad fa-exclamation-circle mr-2"></i>                                     <span>                                         Cancellation Pending                                     </span>'),$('.property-item.cancellation[data-id="'+r+'"]').find(".complete").remove())),t)})).catch((function(e){}))}}))},8587:()=>{if(document.URL.match(/transactions$/)||document.URL.match(/transactions\?tab=[a-z]+/)){var e=function(e,t){var n=global_user.group;axios.get("/agents/doc_management/transactions/get_transactions",{params:{type:e,status:t},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$("#"+e+"_div").html(t.data);var i=[];"agent"==n&&(i=[2]),"listings"==e||"contracts"==e?data_table("10",$("#"+e+"_div table"),[3,"desc"],[7],i,!0,!0,!0,!0):"referrals"==e&&data_table("10",$("#"+e+"_div table"),[3,"desc"],[5],i,!0,!0,!0,!0),$('#transactions_tabs a[data-toggle="tab"]').on("shown.bs.tab",(function(){$("#"+e+"_div table").DataTable().columns.adjust().responsive.recalc()}))})).catch((function(e){console.log(e)}))};$((function(){""==$("#agent_referral").val()&&(e("listings","active"),e("contracts","active")),e("referrals","active");var t=global_get_url_parameters("tab");""!=t&&$('[data-tab="'+t+'"]').trigger("click"),$("#transactions_tabs .nav-link").on("click",(function(){$(".view-option").first().trigger("click")})),$(".view-option").on("click",(function(){$(".view-option").removeClass("active"),$(this).addClass("active");var t=$("#transactions_tabs .nav-link.active").data("tab");e(t,$(this).data("status"))}))}))}},6803:()=>{function e(e,t,n){$("#uploaderFile"+e).find("span").html(n).prop("class","status text-"+t)}function t(e,t,n,i){n=void 0!==n&&n,i=void 0===i||i;var a=$("#uploaderFile"+e).find("div.progress-bar");a.width(t+"%").attr("aria-valuenow",t),a.toggleClass("progress-bar-striped progress-bar-animated",i),0===t?a.html(""):a.html("Uploading..."),!1!==n&&(a.removeClass("bg-success bg-info bg-warning bg-danger"),a.addClass("bg-"+n))}window.upload_documents=function(){$("#file_upload").dmUploader({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},auto:!1,url:"/agents/doc_management/transactions/upload_documents",extFilter:["jpg","jpeg","png","gif","pdf"],maxFileSize:1e8,extraData:function(){return{Listing_ID:$("#Listing_ID").val(),Contract_ID:$("#Contract_ID").val(),Referral_ID:$("#Referral_ID").val(),transaction_type:$("#transaction_type").val(),Agent_ID:$("#Agent_ID").val(),folder:$("#documents_folder").val()}},onDragEnter:function(){this.addClass("active")},onDragLeave:function(){this.removeClass("active")},onInit:function(){},onComplete:function(){$("#upload_documents_modal").modal("hide"),$(".modal-stack").remove(),load_tabs("documents"),$("#save_upload_documents_button").html('<i class="fal fa-check mr-2"></i> Upload Documents')},onNewFile:function(e,t){!function(e,t){var n='     <li class="media">         <div class="media-body mb-1">             <p class="mb-2 small">                 '+t.name+' - Status: <span class="text-muted">Waiting</span> <a href="javascript: void(0)" data-id="'+e+'" class="cancel-upload float-right text-danger mr-2"><i class="fal fa-times"></i></a>             </p>             <div class="progress mb-1 small">                 <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">                 </div>             </div>             <hr class="my-1" />         </div>     </li>     ';(n=$(n)).prop("id","uploaderFile"+e),n.data("file-id",e),$("#files_queue").find("li.empty").fadeOut(),$("#files_queue").prepend(n)}(e,t)},onBeforeUpload:function(n){e(n,"uploading","Uploading..."),t(n,0,"",!0)},onUploadCanceled:function(n){e(n,"warning","Canceled by User"),t(n,0,"warning",!1)},onUploadProgress:function(e,n){t(e,n)},onUploadSuccess:function(n,i){e(n,"success","Upload Complete"),t(n,100,"success",!1)},onUploadError:function(n,i,a,o){e(n,"danger",o),t(n,0,"danger",!1)},onFallbackMode:function(){console.log("Plugin cant be used here, running Fallback callback","danger")},onFileSizeError:function(e){$("#modal_danger").modal().find(".modal-body").html("File '"+e.name+"' cannot be added: There is a 100MB limit")},onFileExtError:function(e){$("#modal_danger").modal().find(".modal-body").html("Wrong File Type - Only PDFs and Images can be uploaded")}})}},7080:(e,t,n)=>{"use strict";var i=n(9755),a=n.n(i),o=(n(4414),n(6136)),r=n(2965),s=n.n(r),l=n(8515),c=n.n(l),d=n(521),u=n.n(d),f=n(3129),h=n.n(f);window.$=window.jQuery=a();n(9669);n(7193),window.FilePond=o,o.registerPlugin(s()),o.registerPlugin(c()),o.registerPlugin(u()),window.Cropper=h(),n(1689),n(5195),n(4666),n(2247),n(6430),n(2402),n(5065),n(2039),n(3408),n(9480),n(7083),n(8920),n(5136),n(479),n(6347),n(4008),n(9835),n(3130),n(5466),n(6153),n(4113),n(8587),n(9345),n(557),n(8140),n(6394),n(3688),n(5826),n(9524),n(8620),n(6456),n(6214),n(6803),n(4651),n(7954),n(5790),n(6402),n(6398),n(2368),n(159),n(9276),n(9054),n(4380),n(2594),n(8245),n(6297),n(9800),n(2115)},4666:()=>{$((function(){$(document).on("keyup",(function(e){"Enter"==e.key&&$("#login_button").trigger("click")})),$("#login_button").off("click").on("click",(function(e){e.preventDefault();var t=$("#login_form"),n=validate_form(t),i=$("#previous_url").val();if("yes"==n){var a=new FormData(t[0]);axios.post("/login",a,axios_options).then((function(e){""==i||i.match(/login/)||i.replace(/http[s]*:\/\//,"")==location.hostname+"/"?window.location="/dashboard":window.location=i})).catch((function(e){var t=e.response.data.errors.email[0];t.match("credentials do not match our records")&&(t="Your email or password are incorrect"),$("#error_div").removeClass("hidden").find("#error_message").text(t)}))}})),$(document).on("click","#forgot_password_button",(function(){$("#forgot_password_modal").modal("show"),$("#save_forgot_password_button").off("click").on("click",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Sending email...');var e=$("#forgot_password_form"),t=validate_form(e);if($("#reset_error_div").addClass("hidden"),"yes"==t){var n=new FormData(e[0]);axios.post("/password/email",n,axios_options).then((function(e){$("#forgot_password_modal").modal("hide"),$("#modal_success").modal().find(".modal-body").html("An email was just sent with a link to enter your new password"),$("#save_forgot_password_button").html('Reset Password <i class="fal fa-arrow-right ml-2"></i>')})).catch((function(e){var t=e.response.data.errors.email[0];$("#reset_error_div").removeClass("hidden").find("#reset_error_message").text(t),$("#save_forgot_password_button").html('Reset Password <i class="fal fa-arrow-right ml-2"></i>')}))}else $("#save_forgot_password_button").html('Reset Password <i class="fal fa-arrow-right ml-2"></i>')}))})),$("#reset_password_button").off("click").on("click",(function(){var e=$("#reset_password_form"),t=validate_form(e);if($("#reset_error_div").addClass("hidden").html(""),"yes"==t){var n=new FormData(e[0]);axios.post("/password/reset",n,axios_options).then((function(e){window.location="/dashboard"})).catch((function(e){var t=e.response.data.errors.password;t&&($("#reset_error_div").removeClass("hidden"),t.forEach((function(e){$("#reset_error_div").append('<div><i class="fa fa-exclamation-triangle fa-xs mr-2"></i><span>'+e+"</span></div>")})));var n=e.response.data.errors.email;n&&($("#reset_error_div").removeClass("hidden"),n.forEach((function(e){e.match("reset token is invalid")&&(e+='<br><div class="w-100 text-center mt-2">Click below to resend the password reset email<br><a href="javascript:void(0)" class="btn btn-sm btn-primary" id="forgot_password_button">Resend Email</a></div>'),$("#reset_error_div").append('<div><i class="fa fa-exclamation-triangle fa-xs mr-2"></i><span>'+e+"</span></div>")})))}))}}))}))},1689:(e,t,n)=>{window._=n(6486);try{window.Popper=n(8981).default,window.$=window.jQuery=n(9755),n(3734)}catch(e){}window.axios=n(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},2039:()=>{document.URL.match(/calendar/)&&$((function(){var e=document.getElementById("calendar_div"),t=new FullCalendar.Calendar(e,{events:"/calendar_events",initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},themeSystem:"bootstrap",editable:!1,selectable:!0,eventClick:function(e){$(".hide-multiple").show(),function(e,t){var n=function(e){var t=null,n=null,i=null,a=null,o=null,r=null,s=null,l=null,c=e.event?e.event.id:"",d=e.event.title,u=new Date(e.event.start),f=u.getFullYear(),h=parseInt(u.getMonth())+1;h=("0"+h).slice(-2);var p=("0"+u.getDate()).slice(-2),m=e.event.allDay;t=f+"-"+h+"-"+p,n="00"!=u.getHours()?("0"+u.getHours()).slice(-2)+":"+("0"+u.getMinutes()).slice(-2)+":"+"00":"09:00:00";e.event.end?(i=(o=new Date(e.event.end)).getFullYear()+"-"+("0"+(parseInt(o.getMonth())+1)).slice(-2)+"-"+("0"+o.getDate()).slice(-2),a=("0"+o.getHours()).slice(-2)+":"+("0"+o.getMinutes()).slice(-2)+":"+"00"):(i=t,a="10:00:00");e.event.extendedProps.freq&&(r=e.event.extendedProps.freq,s=e.event.extendedProps.interval,l=e.event.extendedProps.until);var _={};return _.event_id=c,_.event_title=d,_.all_day=m,_.start_date=t,_.start_time=n,_.end_date=i,_.end_time=a,_.repeat_frequency=r,_.repeat_interval=s,_.repeat_until=l,_}(t),o=!1,r=Object.values(t.event.extendedProps);r&&r.includes("multiple")&&(o=!0);$("#event_id").val(n.event_id),$("#delete_event_button").data("event-id",n.event_id),$("#event_title").val(n.event_title),$(t.el).hasClass("new-event")&&$("#event_title").val("");if($("#start_date").val(n.start_date),$("#start_time").val(n.start_time),$("#end_date").val(n.end_date),o){var s=new Date(n.end_date+" 00:00:00"),l=(s=new Date(s.setHours(s.getHours()-1))).getFullYear(),c=parseInt(s.getMonth())+1;c=("0"+c).slice(-2);var d=("0"+s.getDate()).slice(-2);$("#end_date").val(l+"-"+c+"-"+d)}$("#end_time").val(n.end_time);var u,f,h="none";n.repeat_frequency&&(h=n.repeat_frequency);o?$("#start_date").val()==$("#end_date").val()?$(".hide-multiple").show():$(".hide-multiple").hide():($(".hide-multiple").show(),$("#repeat_frequency").val(h),$("#repeat_interval").val(n.repeat_interval),$("#repeat_until").val(n.repeat_until),i());0==n.all_day?($("#all_day").prop("checked",!1),$(".end-date").hide(),$(".times").show()):1==n.all_day&&($("#all_day").prop("checked",!0),$(".end-date").show(),$(".times").hide());$("#end_date").prop("min",$("#start_date").val()),$(".event-active").removeClass("event-active shadow"),$(t.el).addClass("event-active shadow");var p=$(t.el).offset().left,m=$(t.el).offset().top,_=$(t.el).width(),v=$("#edit_event_div").width(),g=$("#edit_event_div").height(),y=$(document).width(),b=$(document).height();_>200&&(_=200);p<y/2?f=p+_:p>=y/2&&(f=p-v-35);m<b/2?u=m:m>=b/2&&(u=m-g-10);var w={top:u+"px",left:f+"px"};$("#edit_event_div").hasClass("hidden")?$("#edit_event_div").removeClass("hidden").css(w):$("#edit_event_div").animate(w);$("#cancel_new_event_button").on("click",(function(){$("#edit_event_div").addClass("hidden"),$(".event-active").removeClass("event-active shadow")})),$("#save_event_button").off("click").on("click",(function(){!function(e,t){var n=$("#edit_event_form");if("yes"==validate_form(n)){var i=new FormData(n[0]),a=!!$("#all_day").is(":checked");i.append("all_day",a),axios.post("/calendar_update",i,axios_options).then((function(n){toastr.success("Event Saved"),$("#edit_event_div").addClass("hidden"),$(".event-active").removeClass("event-active shadow"),e.getEventById(t.event.id).remove(),$(".new-event").closest(".fc-daygrid-event-harness").remove(),e.refetchEvents()})).catch((function(e){}))}}(e,t)})),$("#delete_event_button").off("click").on("click",(function(){a($(this).data("event-id"))})),$("#start_time").on("change",(function(){var e=new Date($("#start_date").val()+" "+$(this).val());e=new Date(e.setHours(e.getHours()+1)),end_hours=("0"+e.getHours()).slice(-2),end_minutes=("0"+e.getMinutes()).slice(-2),end_seconds="00",event_end_time=end_hours+":"+end_minutes+":"+end_seconds,$("#end_time").val(event_end_time)})),$("#start_date, #end_date").on("change",(function(e){"start_date"==e.target.id&&$("#end_date").prop("min",$("#start_date").val()),$("#start_date").val()==$("#end_date").val()?$(".hide-multiple").show():$(".hide-multiple").hide()}))}(t,e)},select:function(e){e.startStr!=e.endStr?n(t,e,!0):n(t,e,!1)},dateClick:function(e){if($(".new-event").length>0)return!1;n(t,e,!1)}});function n(e,t,n){var a=(new Date).getTime();1==n?e.addEvent({id:a,title:"New Event",start:t.startStr,end:t.endStr,allDay:!0,color:"green",classNames:["new-event"],extendedProps:["new-event","multiple"]}):e.addEvent({id:a,title:"New Event",start:t.dateStr,allDay:!0,color:"green",classNames:["new-event"],extendedProps:["new-event"]});var o=e.getEventById(a);$("#repeat_frequency").val("none"),i(),$(".new-event .fc-event-title-container").trigger("click"),$(document).on("mousedown",(function(e){if(o){if($(e.target).closest(".fc-daygrid-event").hasClass("new-event"))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;$(e.target).is("#edit_event_div *")||o.remove()}})),$("#cancel_new_event_button").off("click").on("click",(function(){o&&(o.remove(),$("#edit_event_div").addClass("hidden"))})),$("#event_id").val("")}function i(){"none"==$("#repeat_frequency").val()?($(".repeat").hide(),$("#repeat_interval").val("").removeClass("required"),$("#repeat_until").val("")):($(".repeat").show(),$("#frequency_text").text($("#repeat_frequency option:selected").data("text")),$("#repeat_interval").addClass("required"))}function a(e){t.getEventById(e).remove();var n=new FormData;n.append("event_id",e),axios.post("/calendar_delete",n,axios_options).then((function(e){$("#edit_event_div").addClass("hidden"),$(".event-active").removeClass("event-active shadow"),toastr.success("Event Successfully Deleted")})).catch((function(e){console.log(e)}))}t.render(),$(document).on("mousedown",(function(e){$(e.target).is("#edit_event_div *")||$(e.target).is(".fc-daygrid-event-harness *")||$("#edit_event_div").addClass("hidden")})),$("#all_day").on("change",(function(){$("#all_day").is(":checked")?($(".times").hide(),$(".end-date").show(),$("#repeat_interval").removeClass("required")):($(".times").show(),$(".end-date").hide())})),$("#repeat_frequency").on("change",i)}))},5065:()=>{if(document.URL.match(/dashboard/)){$((function(){$(document).on("click",".view-alert-details-button",(function(){var e,t,n;e=$(this).data("type"),t=$(this).data("title"),n=$(this).data("details"),$(".alert-details-item").hide(),$("."+e).show(),$("#alert_details_modal").modal("show"),$("#alert_details_modal_title").html(t),$("#alert_details_modal_details").html(n)})),axios.get("/dashboard/get_transactions").then((function(e){$("#transactions_mod").html(e.data)})).catch((function(e){console.log(e)})),axios.get("/dashboard/get_upcoming_closings").then((function(e){$("#upcoming_closings_mod").html(e.data),data_table("0",$("#upcoming_closings_table"),[1,"asc"],[3],[],!1,!1,!1,!1,!1,!1)})).catch((function(e){console.log(e)})),axios.get("/dashboard/get_admin_todo").then((function(e){$("#admin_todo_mod").html(e.data)})).catch((function(e){console.log(e)})),"agent"==global_user.group&&axios.get("/dashboard/get_commissions").then((function(e){$("#commissions_mod").html(e.data),data_table("0",$("#commissions_table"),[1,"desc"],[],[],!1,!1,!1,!1,!1,!1)})).catch((function(e){console.log(e)}))}))}},9835:()=>{if(document.URL.match(/checklists/)){var e=function(){var e=$(".checklist-data").eq(0).data("location-id");y(e,"listing")},t=function(){var e=$(this).data("location-id"),t=$(this).data("state"),n=new FormData;n.append("checklist_location_id",e),n.append("checklist_type","referral"),n.append("checklist_state",t),url="/doc_management/add_checklist_referral",axios.post(url,n,axios_options).then((function(t){y(e,"referral")})).catch((function(e){}))},n=function(e){var t=e.data("checklist-id"),n=e.data("checklist-location-id"),i=e.data("checklist-type"),a=new FormData;a.append("checklist_id",t),axios.post("/doc_management/duplicate_checklist",a,axios_options).then((function(e){y(n,i)})).catch((function(e){}))},i=function(e){var t=$("#list_div_"+e).find(".checklist-type-option").val();axios.get("/doc_management/get_copy_checklists",{params:{location_id:e,checklist_type:t},headers:axios_headers_html}).then((function(n){$("#copy_checklists_modal").modal(),$("#copy_checklists_div").html(n.data),$("#copy_checklists_location_id").val(e),$("#copy_checklists_checklist_type").val(t),global_tooltip(),$(".export-to-form-group").on("change",(function(){$(this).is(":checked")?$(this).closest(".list-group-item").addClass("bg-green-light"):$(this).closest(".list-group-item").removeClass("bg-green-light")})),$("#save_copy_checklists_button").off("click").on("click",(function(){if(0==$(".export-to-form-group:checked").length)return $("#modal_danger").modal().find(".modal-body").html("You must select at least one region to copy the checklists to"),!1;$("#confirm_copy_modal").modal(),$("#confirm_copy_button").off("click").on("click",(function(){$("#save_copy_checklists_button").prop("disabled",!0).html('<span class="spinner-border spinner-border-sm mr-2"></span> Copying Checklists'),a(e,t)}))}))})).catch((function(e){}))},a=function(t,n){$("#confirm_copy_modal").modal("hide");var i=[];$(".checklists-to-export-id:checked").each((function(){i.push($(this).val())}));var a=[];$(".export-to-form-group:checked").each((function(){a.push($(this).val())}));var o=new FormData;o.append("location_id",t),o.append("checklist_location_ids",a),o.append("checklists_to_copy_ids",i),o.append("checklist_type",n),axios.post("/doc_management/save_copy_checklists",o,axios_options).then((function(i){$("#copy_checklists_modal").modal("hide"),toastr.success("Checklists Copied Successfully"),e(),y(t,n),$("#save_copy_checklists_button").prop("disabled",!1).html('<i class="fal fa-check mr-2"></i> Copy Checklists')})).catch((function(e){}))},o=function(){$(".checklist-items-container").hide(),$(".checklist-type-option").each((function(){var e=$(this).closest(".list-div");if(e.find(".checklist-items-contract").hide(),e.find(".checklist-items-listing").hide(),!$(".referral-tab").hasClass("active")){var t=$(this).val().charAt(0).toUpperCase()+$(this).val().slice(1);e.find(".property-type-div-header").text(t+" Checklists"),"listing"==$(this).val()?e.find(".checklist-items-listing").show():"contract"==$(this).val()&&e.find(".checklist-items-contract").show()}}))},r=function(){$(".sortable-checklist").sortable({placeholder:"bg-orange-sortable",handle:".checklist-handle",stop:function(e,t){var n=$(t.item).parent(".sortable-checklist").children(".checklist-items-container");s(n)}}),$(".sortable-checklist").disableSelection()},s=function(e){var t={checklist:[]};e.each((function(){var e,n,i;n=(e=$(this)).data("checklist-id"),i=e.index(),t.checklist.push({checklist_id:n,checklist_index:i})}));var n=new FormData;t=JSON.stringify(t),n.append("data",t),axios.post("/doc_management/reorder_checklists",n,axios_options).then((function(e){toastr.success("Checklist Reordered")})).catch((function(e){}))},l=function(){$(".list-group-header").each((function(){$(this).next("li").hasClass("ui-sortable-helper")&&$(this).next("li").next("li").hasClass("list-group-header")&&$('<li class="list-group-item list-group-holder w-100 text-danger p-4">No Forms Yet For This Group</li>').insertAfter($(this)),$(".sortable-checklist-items").sortable("refresh")}))},c=function(){var e=$(".form-search").val();if(0==e.length){$(".form-group-div").hide(),$(".list-group-header, .form-name").show();var t=$(".select-form-group").val();"all"==t?$(".form-group-div, .list-group-header, .form-name").show():$('[data-form-group-id="'+t+'"]').show().find(".form-name").show()}else $(".form-group-div").show(),$(".list-group-header").hide(),$(".form-name").hide().each((function(){$(this).data("text").match(new RegExp(e,"i"))&&($(this).show(),$(this).closest(".form-group-div").find(".list-group-header").show())}))},d=function(e){axios.get("/doc_management/get_checklist_items",{params:{checklist_id:e},headers:axios_headers_html}).then((function(e){$("#checklist_items_modal").modal(),$("#checklist_items_div").html(e.data),$("#checklist_items_modal_title").html("Checklist Items | "+$("#checklist_header_val").val()),$(".form-search").on("keyup",c),$(".delete-checklist-item-button").on("click",p),$(".add-to-checklist-button").not("disabled").on("click",h),$("#save_checklist_items_button").off("click").on("click",f),$(".sortable-checklist-items").sortable({handle:".checklist-item-handle",items:".list-group-item",placeholder:"bg-orange-sortable-big",revert:!0,start:function(e,t){setTimeout((function(){l()}),500)},stop:function(e,t){$(".list-group-holder").each((function(){($(this).prev("li").hasClass("checklist-item")||$(this).next("li").hasClass("checklist-item"))&&$(this).remove()})),m(),$(".bg-orange-light").removeClass("bg-orange-light"),$(".checklist-item").each((function(){var e=$(this).prevAll(".list-group-header:first").data("form-group-id");$(this).data("form-group-id",e)}))}}),$(".sortable-checklist-items").disableSelection(),m(),u()})).catch((function(e){}))},u=function(){var e=$(".forms-container"),t=e.find(".select-form-group");e.find(".form-search").val(""),"all"==t.val()?e.find(".form-group-div, .list-group-header, .form-name").show():(e.find(".list-group-header, .form-name").show(),e.find(".form-group-div").hide(),e.find('[data-form-group-id="'+t.val()+'"]').show())},f=function(){var e="yes";$(".checklist-item").each((function(){null==$(this).data("form-group-id")&&($("#modal_danger").modal().find(".modal-body").html("You must add all checklist items to a group"),e="no")}));var t=$("#checklist_items_form");if("yes"==validate_form(t)&&"yes"==e){var n=[],i=$("#checklist_id").val();$(".checklist-item").each((function(e){var t={},a=$(this).data("form-id"),o=$(this).find(".checklist-item-required").prop("name"),r=$('[name="'+o+'"]:checked').val(),s=$(this).data("form-group-id"),l=e;t.checklist_id=i,t.checklist_form_id=a,t.checklist_item_required=r,t.checklist_item_group_id=s,t.checklist_item_order=l,n.push(t)}));var a=new FormData;a.append("checklist_id",i),a.append("checklist_items",JSON.stringify(n)),axios.post("/doc_management/add_checklist_items",a,axios_options).then((function(e){$("#checklist_items_modal").modal("hide"),toastr.success("Checklist Items Saved"),y($("#add_item_checklist_location_id").val(),$("#add_item_checklist_type").val())})).catch((function(e){}))}},h=function(){var e=$(this).data("form-id"),t=$(this).data("text"),n=$(this).data("checklist-group-id");""!=$(this).data("form-loc")&&$(this).data("form-loc");var i=t;t.length>85&&(i=t.slice(0,85)+"..."),$('             <li class="list-group-item checklist-item w-100 pt-3 pb-2 bg-orange-light" data-form-id="'+e+'" data-form-group-id="'+n+'">                 <div class="row">                     <div class="col-8">                         <div class="d-flex justify-content-start align-items-center">                             <div>                                 <i class="fal fa-bars mx-3 text-primary checklist-item-handle ui-sortable-handle"></i>                             </div>                             <div class="text-gray" title="'+t+'"> '+i+'</div>                         </div>                     </div>                     <div class="col-3">                         <div class="d-flex justify-content-start align-items-center">                             <span class="mr-1">Required:</span>                             <input type="radio" class="custom-form-element form-radio checklist-item-required required" name="checklist_item_required_'+e+'" value="yes" data-label="Yes">                             <input type="radio" class="custom-form-element form-radio checklist-item-required required" name="checklist_item_required_'+e+'" value="no" data-label="No">                         </div>                     </div>                     <div class="col-1 d-flex align-items-center">                         <a class="btn btn-sm btn-danger delete-checklist-item-button"><i class="fad fa-trash"></i></a>                     </div>                 </div>             </li>         ').insertAfter($('[data-form-group-id="'+n+'"]').last()),$(".delete-checklist-item-button").on("click",p),axios.get("/doc_management/get_checklist_item_details",{params:{form_id:e}}).then((function(e){m()})).catch((function(e){}))},p=function(){var e=$(this);$("#confirm_remove_file_modal").modal(),$("#confirm_remove_file").on("click",(function(){e.closest("li").remove(),$("#confirm_remove_file_modal").modal("hide"),setTimeout((function(){m(),l()}),100)}))},m=function(){$(".form-name").removeClass("form-selected"),$(".add-to-checklist-button").removeClass("disabled");var e=[];$(".checklist-item").each((function(){e.push($(this).data("form-id"))})),$.map(e,(function(e,t){$('.form-name[data-form-id="'+e+'"]').addClass("form-selected").find(".add-to-checklist-button").addClass("disabled")}))},_=function(){$("#checklist_modal").modal();var e=$(this).closest(".list-div").find(".checklist-type-option").val(),t=$(this).data("location-id"),n=$(this).data("property-type"),i=$(this).data("property-sub-type"),a=$(this).data("state"),o=$(this).data("form-type"),r=$(this).data("sale-rent"),s=$(this).data("represent");$("#checklist_location_id").val(t),$("#checklist_type").val(e),$("#checklist_property_type_id").val(n),$("#checklist_property_sub_type_id").val(i),$("#checklist_sale_rent").val(r),$("#checklist_represent").val(s),"listing"==e&&$("#checklist_represent").val("seller"),$("#checklist_id").val($(this).data("checklist-id")),$("#checklist_state").val(a),$("#form_type").val(o),v(),$("#checklist_modal").on("change",".form-select",(function(e){var t=$(this).attr("id");["checklist_type","checklist_property_type_id","checklist_sale_rent","checklist_property_sub_type_id","checklist_represent"].includes(t)&&v()})),$("#save_checklist_button").off("click").on("click",g)},v=function(){var e=$("#checklist_type"),t=$("#checklist_property_type_id"),n=$("#checklist_sale_rent"),i=$("#checklist_property_sub_type_id"),a=$("#checklist_represent");"listing"==e.val()?a.val("seller").prop("disabled",!0):a.prop("disabled",!1),"Residential"==t.find("option:selected").text()?"rental"==n.val()?i.val("").addClass("hidden").removeClass("required"):i.removeClass("hidden").addClass("required"):i.val("").addClass("hidden").removeClass("required"),"For Sale By Owner"==i.find("option:selected").text()&&(a.val("buyer"),n.val("sale")),"buyer"==a.val()&&e.val("contract")},g=function(){var e=$("#checklist_form");if("yes"==validate_form(e)){var t=new FormData;t.append("checklist_id",$("#checklist_id").val()),t.append("checklist_location_id",$("#checklist_location_id").val()),t.append("checklist_represent",$("#checklist_represent").val()),t.append("checklist_type",$("#checklist_type").val()),t.append("checklist_sale_rent",$("#checklist_sale_rent").val()),t.append("checklist_property_type_id",$("#checklist_property_type_id").val()),t.append("checklist_property_sub_type_id",$("#checklist_property_sub_type_id").val()),t.append("checklist_state",$("#checklist_state").val());var n="/doc_management/edit_checklist";"add"==$("#form_type").val()&&(n="/doc_management/add_checklist"),axios.post(n,t,axios_options).then((function(e){y($("#checklist_location_id").val(),$("#checklist_type").val()),setTimeout((function(){var e=$("#list_div_"+$("#checklist_location_id").val()+"_files").find(".sortable-checklist").children(".checklist-items-container");s(e)}),500)})).catch((function(e){}))}},y=function(e,a){var s={params:{checklist_location_id:e,checklist_type:a},headers:axios_headers_html};axios.get("/doc_management/get_checklists",s).then((function(s){$("#list_div_"+e+"_files").html($(s.data)),$(".checklist-items-container").hide(),$(".checklist-items-"+a).show(),$("#checklist_modal").modal("hide"),"referral"==a?($(".referral-tab-data").find(".non-referral-checklist-div").hide(),$(".referral-tab-data").find(".referral-checklist-div").show()):($(".referral-tab-data").find(".non-referral-checklist-div").show(),$(".referral-tab-data").find(".referral-checklist-div").hide()),$(".add-checklist-button, .edit-checklist-button").off("click").on("click",_),$(".add-referral-checklist-button").off("click").on("click",t),$(".delete-checklist-button").off("click").on("click",b),$(".add-items-button").off("click").on("click",(function(){d($(this).data("checklist-id"))})),$(".duplicate-checklist-button").off("click").on("click",(function(){n($(this))})),$(".copy-checklist-button").off("click").on("click",(function(){i($(this).data("location-id"))})),$(".select-form-group").off("change").on("change",u),$(".checklist-type-option").off("change").on("change",o),r()})).catch((function(e){}))},b=function(){var e=$(this);$("#confirm_delete_checklist_modal").modal(),$("#confirm_delete_checklist").off("click").on("click",(function(){w(e)}))},w=function(e){var t=e.data("checklist-id"),n=e.data("checklist-location-id"),i=e.data("checklist-type"),a=new FormData;a.append("checklist_id",t),axios.post("/doc_management/delete_checklist",a,axios_options).then((function(e){y(n,i),$("#confirm_delete_checklist_modal").modal("hide")})).catch((function(e){}))};$((function(){e();var t=global_get_url_parameters("checklist_id");if(t){d(t);var n=global_get_url_parameters("checklist_location_id"),i=global_get_url_parameters("checklist_type");$("#list_"+n).trigger("click"),$("#list_div_"+n).find(".checklist-type-option").val(i)}$(".referral-tab").on("shown.bs.tab",(function(e){$(".referral-tab-data").find(".non-referral-checklist-div").hide(),$(".referral-tab-data").find(".referral-checklist-div").show(),$(".referral-tab-data").find(".property-type-div-header").text("Referral Checklist")})),$(".checklist-location").not(".loaded").off("click").on("click",(function(){$(this).addClass("loaded");var e=$(this).data("id");y(e,"listing")}))}))}},9054:()=>{if(document.URL.match(/commission/)||document.URL.match(/transaction_details/)){var e=function(){axios.get("/doc_management/commission/get_checks_queue",{headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".commission-checks-queue").html(e.data),data_table("10",$(".checks-queue-table").eq(0),[1,"desc"],[0,7],[],!0,!0,!0,!0),data_table("10",$(".checks-queue-table").eq(1),[1,"desc"],[0,8],[],!0,!0,!0,!0),$(".edit-queue-check-button").off("click").on("click",show_edit_queue_check),$(".delete-check-button").off("click").on("click",show_delete_queue_check),$(".undo-delete-check-button").off("click").on("click",undo_delete_queue_check)})).catch((function(e){}))},t=function(){var e=$("#search_deleted_checks").val();e.length>0&&axios.get("/doc_management/commission/search_deleted_checks",{params:{val:e}}).then((function(e){var t=e.data.checks_in_queue,n=e.data.checks_in,i=t.concat(n);$("#deleted_checks").html(""),i.length>0?($("#deleted_checks_div").collapse("show"),i.forEach((function(e){var t=null!=e.agent_name?e.agent_name:"",n=null!=e.client_name?e.client_name:"",i='                         <tr>                             <td><a href="javascript: void(0)" class="btn btn-sm btn-primary btn-block m-0 undo-delete-queue-check" data-check-id="'+e.id+'" data-type="'+e.type+'"><i class="fad fa-recycle mr-2"></i> Reactivate</a></td>                             <td>'+e.date_received+"</td>                             <td>"+t+"</td>                             <td>"+n+"</td>                             <td>"+e.street+" "+e.city+", "+e.state+" "+e.zip+"</td>                             <td>"+e.check_number+"</td>                             <td>"+e.check_date+"</td>                             <td>$"+e.check_amount+'</td>                             <td><a href="'+e.file_location+'" target="_blank" class="btn btn-sm btn-block m-0 btn-primary"><i class="fad fa-eye mr-2"></i> View Check</a></td>                         ';$("#deleted_checks").append(i)}))):$("#deleted_checks_div").collapse("hide")})).catch((function(e){}))},n="commission";document.URL.match(/details/)?n="details":document.URL.match(/commission_other/)&&(n="other"),$((function(){"commission"==n&&(global_format_money(),get_check_info(),axios.get("/doc_management/commission/get_commissions_pending",{headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".commissions-pending").html(e.data),data_table("10",$(".commissions-pending-table").eq(0),[1,"desc"],[0],[],!0,!0,!0,!0)})).catch((function(e){})),e(),$("#add_check_button").off("click").on("click",(function(){show_fields(),$("#add_check_in_modal").modal("show"),$("#add_check_in_modal").on("hide.bs.modal",(function(){clear_add_check_form()}))})),$("#search_deleted_checks").on("keyup",t),$(document).on("click",".undo-delete-queue-check",undo_delete_queue_check),$(document).on("click","#save_edit_queue_check_button",save_edit_queue_check),data_table("10",$("#deleted_checks_table"),[1,"desc"],[0,8],[],!1,!1,!1,!1)),$(document).on("click","#save_add_check_in_button",save_add_check_in)})),window.get_check_info=function(){$("#check_in_upload").off("change").on("change",(function(){if(""!=$(this).val()){$(this).closest(".form-ele").find("label").addClass("active"),$("#check_in_date").val(""),$("#check_in_amount").val(""),$("#check_in_number").val(""),global_loading_on("",'<div class="h5 text-white">Scanning Check</div>');var e=$("#add_check_in_form"),t=new FormData(e[0]);axios.post("/agents/doc_management/transactions/get_check_details",t,axios_options).then((function(e){e.data.check_date&&($("#check_in_date").val(e.data.check_date),$("#check_in_amount").val(e.data.check_amount),$("#check_in_number").val(e.data.check_number)),$(".check-in-preview-div").html('<div class="border border-primary mt-2 check-preview"><img src="'+e.data.check_location+'" class="w-100"></div>'),global_loading_off();var t=document.getElementById("add_check_in_modal");t.scrollTop=t.scrollHeight})).catch((function(e){}))}}))},window.save_add_check_in=function(){var t,i=null!==(t=$("#Commission_ID").val())&&void 0!==t?t:null;if("commission"==n&&"other"==$("[name=check_in_type]:checked").val()&&""==$("#check_in_client_name").val()&&""==$("#check_in_street").val())return $("#modal_danger").modal("show").find(".modal-body").html("You must enter either the Client's Name or a Street Address"),!1;var a=$("#add_check_in_form");if("yes"==validate_form(a)){$("#save_add_check_in_button").prop("disabled",!0).html('<i class="fas fa-spinner fa-pulse mr-2"></i> Adding Check...');var o=new FormData(a[0]);o.append("page",n),"details"!=n&&"other"!=n||o.append("Commission_ID",i),axios.post("/agents/doc_management/transactions/save_add_check_in",o,axios_options).then((function(t){toastr.success("Check Successfully Added"),"details"==n||"other"==n?(get_checks_in(i),save_commission()):($("#add_check_div").collapse("hide"),clear_add_check_form(),e()),$("#add_check_in_modal").modal("hide"),$("#save_add_check_in_button").prop("disabled",!1).html('<i class="fal fa-check mr-2"></i> Save')})).catch((function(e){}))}},window.show_edit_queue_check=function(){var e=$(this);$("#edit_queue_check_modal").modal("show"),setTimeout((function(){$(".edit-queue-check-preview-div").html('<div class="border border-primary mt-2 check-preview"><img src="'+e.data("image-location")+'" class="w-100"></div>'),$("#edit_queue_commission_id").val(e.data("commission-id")),$("#edit_queue_check_id").val(e.data("check-id")),$("#edit_queue_check_agent_id").val(e.data("check-agent-id")),$("#edit_queue_check_date").val(e.data("check-date")),$("#edit_queue_check_number").val(e.data("check-number")),$("#edit_queue_check_amount").val(e.data("check-amount")),$("#edit_queue_check_date_received").val(e.data("date-received")),$("#edit_queue_check_date_deposited").val(e.data("date-deposited")),$("#edit_queue_check_street").val(e.data("street")),$("#edit_queue_check_city").val(e.data("city")),$("#edit_queue_check_state").val(e.data("state")),$("#edit_queue_check_zip").val(e.data("zip")),$("#edit_queue_check_client_name").val(e.data("client-name")),$("#edit_queue_check_type").val("sale"),$(".other_row").hide(),$(".address").addClass("required").closest(".form-ele").find(".form-select-value-input").addClass("required-form-ele"),e.hasClass("other")&&($("#edit_queue_check_type").val("other"),$(".other_row").show(),$(".address").removeClass("required").closest(".form-ele").find(".form-select-value-input").removeClass("required-form-ele"))}),100)},window.save_edit_queue_check=function(){if("other"==$("#edit_queue_check_type").val()&&""==$("#edit_queue_check_client_name").val()&&""==$("#edit_queue_check_street").val())return $("#modal_danger").modal("show").find(".modal-body").html("You must enter either the Client's Name or a Street Address"),!1;var t=$("#edit_queue_check_form");if("yes"==validate_form(t)){$("#save_edit_queue_check_button").prop("disabled",!0).html('<i class="fas fa-spinner fa-pulse mr-2"></i> Saving Check...');var n=new FormData(t[0]);axios.post("/doc_management/commission/save_edit_queue_check",n,axios_options).then((function(t){toastr.success("Check Successfully Edited"),e(),$("#edit_queue_check_modal").modal("hide"),$("#save_edit_queue_check_button").prop("disabled",!1).html('<i class="fal fa-check mr-2"></i> Save')})).catch((function(e){}))}},window.show_delete_queue_check=function(){var e=$(this).data("check-id"),t=$(this).data("type");$("#confirm_modal").modal("show").find(".modal-body").html('         <div class="d-flex justify-content-start align-items-center">             <div class="mr-3"><i class="fad fa-exclamation-circle fa-2x text-danger"></i></div>             <div class="text-center w-100">Are you sure you want to delete this check?<br>It will be moved to the deleted checks section.</div>         </div>'),$("#confirm_modal").modal().find(".modal-title").html("Delete Check"),$("#confirm_button").off("click").on("click",(function(){save_delete_queue_check(e,t)}))},window.save_delete_queue_check=function(t,n){var i=new FormData;i.append("check_id",t),i.append("type",n),axios.post("/agents/doc_management/transactions/save_delete_check_in",i,axios_options).then((function(t){e(),toastr.success("Check Successfully Deleted")})).catch((function(e){}))},window.undo_delete_queue_check=function(){var t=$(this),n=t.data("check-id"),i=t.data("type"),a=new FormData;a.append("check_id",n),a.append("type",i),axios.post("/agents/doc_management/transactions/undo_delete_check_in",a,axios_options).then((function(n){e(),t.closest("tr").fadeOut(),toastr.success("Check Successfully Reactivated")})).catch((function(e){}))},window.clear_add_check_form=function(){"commission"==n&&($("#add_check_in_form").find("[type=radio]").prop("checked",!1),$(".add-check-in-form-div").hide(),show_fields()),$("#add_check_in_form").find(".custom-form-element").not("[type=radio]").val("").trigger("change"),$(".check-in-preview-div").html(""),$("#check_in_date_received").val(format_date((new Date).getTime()))},window.show_fields=function(){$("[name=check_in_type]").on("change",(function(){$(".add-check-in-form-div").addClass("animate__fadeIn").show(),"other"==$("[name=check_in_type]:checked").val()?($(".other_row").show(),$(".address").removeClass("required").closest(".form-ele").find(".form-select-value-input").removeClass("required-form-ele")):($(".other_row").hide(),$(".address").addClass("required").closest(".form-ele").find(".form-select-value-input").addClass("required-form-ele"))}))}}},6347:()=>{document.URL.match(/create\/add_fields/)&&$((function(){function e(a){var r=a.find(".field-div").data("field-category"),s=a.closest(".field-container");"checkbox"!=r&&"radio"!=r&&function(e){var t=e.data("field-id"),n=e.data("group-id"),a=e.data("field-category");axios.get("/doc_management/get_edit_properties_html",{params:{file_id:$("#file_id").val(),field_id:t,field_category:a,group_id:n},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){var n=e.data,a=$("#field_container_"+t);a.find(".field-div-properties-html").html(n),a.find(".field-div").removeClass("error"),a.find(".dropdown").not(".dropdown-input").on("mouseenter",(function(){$(this).addClass("show").find(".dropdown-menu").first().addClass("show")})).on("mouseleave",(function(){$(this).removeClass("show").find(".dropdown-menu").first().removeClass("show")})),a.find(".dropdown-input").on("click",(function(e){e.stopImmediatePropagation(),e.preventDefault(),$(this).addClass("show").find(".dropdown-menu").first().addClass("show")})).on("mouseleave",(function(){$(this).removeClass("show").find(".dropdown-menu").first().removeClass("show")})),$(".save-field-properties-button").on("click",(function(){!function(e){var t=e.closest(".field-div-container"),n=e.data("group-id"),i=e.data("field-id"),a=e.data("field-category"),o=t.find(".common-field-name").val(),r=t.find(".custom-field-name").val();if(""==o&&""==r)return t.find(".alert.alert-danger").removeClass("hide").addClass("show").find(".error-message").html("You must enter either the<br>Shared Field Name or Custom Name"),t.find("input").on("change",(function(){t.find(".alert.alert-danger").removeClass("show").addClass("hide")})),!1;if("number"==a&&0==t.find(".number-type:checked").length)return t.find(".alert.alert-danger").removeClass("hide").addClass("show").find(".error-message").html("You must select either<br>Written or Numeric"),t.find("input").on("change",(function(){t.find(".alert.alert-danger").removeClass("show").addClass("hide")})),!1;var s=t.find(".common-field-id").val(),l=t.find(".common-field-type").val(),c=t.find(".common-field-sub-group-id").val();if("checkbox"!=a&&"radio"!=a&&(t.find("input").each((function(){$(this).data("default-value",$(this).val())})),$(".group_"+n).each((function(){$(this).data("commonname",o).data("customname",r).removeClass("error");var e=$(this).closest(".field-div-container");e.find(".field-name-display-div").text(r+o),e.find(".common-field-name-input, .common-field-name").val(o).data("default-value",o),e.find(".common-field-id").val(s).data("default-value",s),e.find(".common-field-type").val(l).data("default-value",l),e.find(".common-field-sub-group-id").val(c).data("default-value",c),e.find(".custom-field-name").val(r).data("default-value",r)})),"number"==a)){var d=t.find(".number-type");d.data("default-value",""),d.filter(":checked").data("default-value","checked"),"numeric"==d.filter(":checked").val()&&$(".group_"+n).each((function(){$(this).prop("id")!="field_"+i&&($(this).closest(".field-div-container").find(".number-type").prop("checked",!1).data("default-value",""),$(this).closest(".field-div-container").find("[value=written]").prop("checked",!0).data("default-value","checked"))}))}t.find(".alert.alert-success").removeClass("hide").addClass("show"),t.find("input").on("change",(function(){t.find(".alert.alert-success").removeClass("show").addClass("hide")}))}($(this))})),a.find(".field-name").on("click",(function(){var e=$(this).text(),t=$(this).data("field-id"),n=$(this).data("field-type"),i=$(this).data("field-sub-group-id");a.find(".custom-field-name").val(""),a.find(".common-field-name-input, .common-field-name").val(e),a.find(".common-field-id").val(t),a.find(".common-field-type").val(n),a.find(".common-field-sub-group-id").val(i),setTimeout((function(){$(".dropdown-input, .dropdown-menu").removeClass("show")}),100)})),a.find(".custom-field-name").on("change",(function(){""!=$(this).val()&&(a.find(".common-field-name-input, .common-field-name").val(""),a.find(".common-field-id").val(""),a.find(".common-field-type").val(""),a.find(".common-field-sub-group-id").val(""))})),a.find(".field-data-name").on("keyup",o),$(".clear-common-field-name").on("click",(function(){$(this).closest(".edit-properties-div").find(".common-field-name-input, .common-field-name").val(""),setTimeout((function(){$(".dropdown-input, .dropdown-menu").removeClass("show")}),200)})),$(".close-field-options").on("click",(function(){i()})),$(".custom-field-name").on("keyup",(function(){$(this).val(ucwords($(this).val()))}))})).catch((function(e){}))}(a.find(".field-div"));var l="";"checkbox"!=r&&"radio"!=r||(l="4 / 4"),"checkbox"!=r&&"radio"!=r&&(a.resizable({containment:s,handles:{e:".ui-resizable-e",w:".ui-resizable-w"},aspectRatio:l,stop:function(e,t){n(null,$(e.target),r,"yes")}}),a.find(".field-div-options").hide()),a.draggable({containment:s,handle:".field-handle",cursor:"grab",stop:function(e,t){n(null,$(e.target),r,"yes")}}),"date"!=r&&a.find(".add-field-button").off("click").on("click",(function(){!function(a,o){i();var r,s,l,c,d,u,f=a.find(".field-div").data("group-id");"radio"!=o&&"checkbox"!=o&&(r=a.find(".common-field-name").val(),s=a.find(".common-field-id").val(),l=a.find(".common-field-type").val(),c=a.find(".common-field-sub-group-id").val());d=a.find(".custom-field-name").val(),"number"==o&&(u=a.find(".number-type:checked").val());var h=n(null,a,o,"yes"),p=h.x,m=h.y,_=h.h,v=h.w;if(m+=1.5*_,parseFloat(m)+parseFloat(_)>99)return toastr.error("Field must be on the page"),!1;field_id=Date.now();var g=t(_,v,p,m,field_id,f,$("#active_page").val(),o);a.closest(".field-container").append(g);var y=$(".field-div-container.show");n(null,y,o,"no"),e(y),"checkbox"!=o&&setTimeout((function(){y.find(".field-div").data("group-id",f).addClass("group_"+f),$(".group_"+f).removeClass("standard").addClass("group"),"radio"!=o&&(y.find(".field-name-display-div").text(d+r),y.find(".common-field-name-input, .common-field-name").val(r).data("default-value",r),y.find(".common-field-id").val(s).data("default-value",s),y.find(".common-field-type").val(l).data("default-value",l),y.find(".common-field-sub-group-id").val(c).data("default-value",c)),y.find(".custom-field-name").val(d).data("default-value",d),"number"==o&&("numeric"==u||$(".group_"+f).closest(".field-div-container").find(".number-type[value=numeric]:checked").length>0)&&y.find(".number-type[value=written]").prop("checked",!0).data("default-value","checked"),y.find(".field-div-options").show()}),200)}(a,r)})),$(".mini-slider-option").off("click").on("click",(function(){!function(e){var t="up"==e.data("direction")?"-":"+",i=e.closest(".field-div-container"),a=e.closest(".field-div").data("field-category");i.css({top:t+"=.05%"}),setTimeout((function(){n(null,i,a,"yes")}),10)}($(this))}))}function t(e,t,n,i,a,o,r,s){var l='             <div class="ui-resizable-handle ui-resizable-e focused field-div-options"></div>             <div class="ui-resizable-handle ui-resizable-w focused field-div-options"></div>             ',c="",d="",u="",f="",h=n>50?"right":"",p='             <div class="field-div-properties bg-white border shadow pt-0 pb-2 px-2  '+h+'">                 <div class="field-div-properties-html"></div>             </div>             ';if("textline"==s||"number"==s)c="textline-div standard",d='<div class="textline-html"></div>';else if("radio"==s){l="",c="radio-div standard",d='<div class="radio-html"></div>';var m=(o/1.2348).toFixed(6),_=function(e,t){var n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(n=e.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(",")+", "+t+")";throw new Error("Bad Hex")}(m="#"+(m=m.slice(-6)).replace(/1/,"f").replace(/7/,"b").replace(/4/,"d").replace(/9/,"a"),"0.4");console.log(_),f="background: "+_+"; border-radius: 50%; border: 1px solid "+m+";",p=""}else"checkbox"==s?(l="",c="checkbox-div standard",d='<div class="checkbox-html"></div>',p=""):"date"==s&&(c="textline-div standard",d='<div class="textline-html"></div>',u="hidden");return'             <div class="field-div-container show" id="field_container_'+a+'" style="position: absolute; top: '+i+"%; left: "+n+"%; height: "+e+"%; width: "+t+"%; "+f+'">                 <div class="field-div '+c+" group_"+o+'" id="field_'+a+'" data-field-id="'+a+'" data-group-id="'+o+'" data-field-category="'+s+'" data-page="'+r+'">                     <div class="field-name-display-div"></div>                 </div>                 <div class="field-div-options">                     <a type="button" href="javascript: void(0)" class="btn btn-danger mx-0 remove-field '+h+'"><i class="fal fa-ban fa-lg mr-1"></i> Delete</a>                     <div class="d-flex justify-content-start field-div-controls '+h+'">                         <a type="button" href="javascript: void(0)" class="btn btn-primary ml-0 mr-1 field-handle"><i class="fal fa-arrows fa-lg"></i></a>                         <a type="button" href="javascript: void(0)" class="btn btn-primary ml-0 mr-1 mini-slider-option" data-direction="up"><i class="fal fa-arrow-up fa-lg"></i></a>                         <a type="button" href="javascript: void(0)" class="btn btn-primary ml-0 mr-1 mini-slider-option" data-direction="down"><i class="fal fa-arrow-down fa-lg"></i></a>                         <a type="button" href="javascript: void(0)" class="btn btn-primary mx-0 add-field-button '+u+'"><i class="fal fa-plus fa-lg"></i></a>                     </div>                     '+p+"                 </div>                 "+l+"                 "+d+"             </div>             "}function n(e,t,n,i){var o,r,s;if(e){o=$(e.target.parentNode),t=$(e.target);var l=e.target.getBoundingClientRect();r=parseInt(Math.round(e.clientX-l.left)),s=parseInt(Math.round(e.clientY-l.top))}else o=t.parent(),r=t.position().left,s=t.position().top;var c,d,u=a("x",r,o),f=a("y",s,o),h=1.3;"radio"!=n&&"checkbox"!=n||(h=1.1),e&&(f-=h),"radio"==n||"checkbox"==n?(c=1.1,d=1.45):(c=1.3,d="no"==i?15:t.width()/t.parent().width()*100),c=parseFloat(c),d=parseFloat(d);var p=t.find(".field-div");if(p.data("hp",c),p.data("wp",d),p.data("xp",u),p.data("yp",f),u<0&&t.animate({left:"0%"}).find("field-div").data("wp","0"),u+d>100){var m=100-d;t.animate({left:m+"%"}).find("field-div").data("wp",m)}return f<0&&t.animate({top:"0%"}).find("field-div").data("yp","0"),setTimeout((function(){t.find(".remove-field, .dropdown, .field-div-properties, .field-div-controls").removeClass("right"),u>50&&t.find(".remove-field, .dropdown, .field-div-properties, .field-div-controls").addClass("right")}),300),{h:c,w:d,x:u,y:f}}function i(){var e=$(".field-div-container.show"),t=e.find(".field-div"),n=e.find(".field-div").data("field-category");e.find('input[type="text"], input[type="hidden"]').each((function(){$(this).val($(this).data("default-value"))})),"number"==n&&e.find('input[type="radio"]').each((function(){"checked"==$(this).data("default-value")&&$(this).prop("checked",!0)})),e.removeClass("show").find(".field-div-options").hide();var i="no",a=e.find(".common-field-name").val(),o=e.find(".custom-field-name").val();""==a&&""==o&&(i="yes"),"number"==n&&0==e.find(".number-type:checked").length&&(i="yes"),t.removeClass("error"),"yes"==i&&t.addClass("error")}function a(e,t,n){return"x"==e?100*parseFloat(t/parseFloat(n.width())):100*parseFloat(t/parseFloat(n.height()))}function o(){var e=$(this),t=e.closest(".field-div-container");""!=e.val()?axios.get("/doc_management/get_custom_names",{params:{val:e.val()}}).then((function(e){t.find(".dropdown-results-div").html(""),e.data.custom_names.forEach((function(e){t.find(".dropdown-results-div").append('<a href="javascript: void(0)" class="list-group-item field-name-result">'+e.field_name_display+"</a>")})),t.find(".custom-name-results").show(),$(".field-name-result").on("click",(function(){var e=$(this).closest(".field-div-container").find(".edit-properties-div");e.find(".form-input.field-data-name").val($(this).text()),e.find(".custom-name-results").hide()}))})).catch((function(e){})):t.find(".custom-name-results").hide(),$(document).on("mouseup",(function(e){0===$(e.target).closest(".custom-name-results").length&&$(".custom-name-results").hide()}))}$(".field-div").length>0&&($(".field-div").each((function(){e($(this).closest(".field-div-container"))})),$(".field-div").each((function(){var e=$(this).data("group-id");$(".group_"+e).length>1&&$(".group_"+e).removeClass("standard").addClass("group")}))),$(document).on("click",".field-wrapper",(function(){$(".field-wrapper").removeClass("active"),$(this).addClass("active"),$("#active_field").val($(this).data("type"))})),$(document).on("click",".field-div",(function(){i(),$(this).closest(".field-div-container").addClass("show").find(".field-div-options").show()})),$(document).on("click",".remove-field",(function(){$(this).closest(".field-div-container").remove()})),$(".field-select-container div, .file-image").on("click",(function(){i()})),$("#save_add_fields").off("click").on("click",(function(){if($(".field-div.error").length>0){var e=$(".field-div.error:first"),t=e.prop("id");return document.getElementById(t).scrollIntoView(),$(".file-view").scrollTop($(".file-view").scrollTop()-125),e.trigger("click").parent().find(".save-field-properties-button").trigger("click"),toastr.error("All Fields Must Be Complete"),!1}$("#save_add_fields").html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving');var n=[];if($(".field-div").length>0)$(".field-div").each((function(){var e,t,i,a,o,r=$(this),s=r.closest(".field-div-container"),l=r.data("field-id"),c=r.data("field-category"),d=null!==(e=s.find(".common-field-name").val())&&void 0!==e?e:null,u=null!==(t=s.find(".common-field-id").val())&&void 0!==t?t:null,f=null!==(i=s.find(".common-field-type").val())&&void 0!==i?i:null,h=null!==(a=s.find(".common-field-sub-group-id").val())&&void 0!==a?a:null,p=s.find(".custom-field-name").val(),m=null!==(o=s.find(".number-type:checked").val())&&void 0!==o?o:null;field_data={file_id:$("#file_id").val(),field_id:l,group_id:r.data("group-id"),field_category:c,common_field_type:f,common_field_id:u,common_field_sub_group_id:h,common_field_name:d,custom_field_name:p,number_type:m,page:r.data("page"),left_perc:r.data("xp"),top_perc:r.data("yp"),height_perc:r.data("hp"),width_perc:r.data("wp")},n.push(field_data)}));else{var i={};i.file_id=$("#file_id").val(),n.push(i)}$.ajax({type:"POST",url:"/doc_management/save_add_fields",data:{data:JSON.stringify(n)},success:function(e){"published"==e.error?$("#modal_danger").modal("show").find(".modal-body").html("This form has already been published. It can no longer be edited"):toastr.success("Fields Successfully Saved"),$("#save_add_fields").html('<i class="fad fa-save mr-2"></i> Save')}})})),$(".delete-page-button").on("click",(function(){var e=$(this).data("page-number"),t=$(this).data("file-id");$("#page_div_"+e).next(".file-view-page-info").fadeOut("slow").remove(),$("#page_"+e+", #page_div_"+e+", #thumb_"+e).fadeOut("slow").remove();var n=new FormData;n.append("page",e),n.append("file_id",t),axios.post("/doc_management/delete_page",n,axios_options).then((function(e){toastr.success("Page Successfully Removed")})).catch((function(e){}))})),$(".file-view-thumb-container").on("click",(function(e){$(".file-view-thumb-container").removeClass("active"),$(this).addClass("active");var t=$(this).data("id");$("#active_page").val(t),window.location="#page_"+t})),$("#file_viewer").on("scroll",(function(){var e="yes";$(".file-view-page-container").each((function(){var t,n,i,a;"yes"==e&&(t=$(this).data("id"),n=$(window).height()/2,a=(i=$(this).offset().top)+$(this).height(),i<n&&a>n&&($(".file-view-page-container").removeClass("active"),$(this).addClass("active"),$("#active_page").val(t),$(".file-view-thumb-container").removeClass("active"),$("#thumb_"+t).addClass("active"),document.getElementById("thumb_"+t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),e="no"))}))})),$("#file_viewer").off("dblclick").on("dblclick",".file-view-page-container.active .file-image",(function(a){var o=$("#active_field").val(),r=$("#active_page").val();if(""!=o){i();var s=$(a.target.parentNode),l=n(a,null,o,"no"),c=l.x,d=l.y,u=l.h,f=l.w,h=Date.now(),p=t(u,f,c,d,h,h,r,o);s.append(p);var m=$(".field-div-container.show");n(null,m,o,"no"),e(m),m.find(".field-div-options").show()}}))}))},4008:()=>{if(document.URL.match(/create\/upload\/files/)){var e=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=$("#list_div_"+e+"_files"),o={params:{form_group_id:e,state:n,order:i},headers:axios_headers_html};axios.get("/doc_management/get_form_group_files",o).then((function(e){a.html($(e.data)),$(".upload-file-button").off("click").on("click",(function(){T(a)})),$(".add-non-form-item-button").off("click").on("click",(function(){x(a)})),t(),$("#upload_file_button").off("click").on("click",I);var n=a.find(".activate-upload");v(n),$(".add-edit-button").on("click",(function(){$(".uploads-list").removeClass("bg-orange-light"),$(this).closest(".uploads-list").addClass("bg-orange-light")}))})).catch((function(e){}))},t=function(){$(".edit-upload").off("click").on("click",(function(){E($(this))})),$(".duplicate-upload").off("click").on("click",(function(){b($(this))})),$(".publish-upload").off("click").on("click",(function(){g($(this))})),$(".activate-upload").off("click").on("click",(function(){_($(this))})),$(".delete-upload").off("click").on("click",(function(){w($(this))})),$(".manage-upload").off("click").on("click",(function(){n($(this).data("id"),$(this).data("form-group-id"))})),$(".uploads-filter-published, .uploads-filter-active").off("change").on("change",(function(){v($(this))})),$(".uploads-filter-sort").off("change").on("change",(function(){m($(this))})),global_tooltip(),$(".form-group-item").off("click").on("click",(function(){$(this).hasClass("last")?($(".add-non-form-item-button").show(),$(".upload-file-button").hide()):($(".add-non-form-item-button").hide(),$(".upload-file-button").show()),$(".form-search").val(""),$(".uploads-list").show();var t=$(this).data("id"),n=$("#list_div_"+t+"_files");if(!n.html().match(/\</)){var i=n.data("form-group-id"),a=n.data("state"),o=$("#list_div_"+i).find(".uploads-filter-sort").val();e(i,a,o)}}))},n=function(e,t){$("#form_manage_modal").modal(),axios.get("/doc_management/get_manage_upload_details",{params:{form_id:e,form_group_id:t},headers:axios_headers_html}).then((function(n){$("#form_manage_div").html(n.data);var a=$("#manage_form_state").val(),o=$("#manage_form_name").val();$(".select-form-button").off("click").on("click",(function(){p(t,a,e,o,$(this).data("form-id"),$(this).data("form-name"))})),$("#remove_from_checklist_button").off("click").on("click",(function(){h(e,o,t,a)})),$("#add_to_checklists_button").off("click").on("click",(function(){i(e,o,t,a)})),global_tooltip()})).catch((function(e){}))},i=function(e,t,n,i){$("#checklist_type_modal").modal(),$("#checklist_type_button").on("click",(function(){var o=$("#add_form_checklist_type").val(),r=$("#checklist_type_form");"yes"==validate_form(r)&&($("#checklist_type_modal").modal("hide"),setTimeout((function(){a(e,t,n,i,o)}),200))}))},a=function(e,t,n,i,a){$("#add_to_checklists_modal").modal(),$("#add_form_to_checklists_div").html('<div class="loader-gif"></div>'),axios.get("/doc_management/get_add_to_checklists_details",{params:{form_id:e,checklist_type:a},headers:axios_headers_html}).then((function(a){setTimeout((function(){$("#add_form_to_checklists_div").html(a.data),$("#add_to_checklists_form_name").text(t),$("#add_to_checklists_table").DataTable({paging:!1,aaSorting:[],searching:!1,info:!1,columnDefs:[{orderable:!1,targets:[0,1,9]}]}),u(),$(".checklist-item-checkbox").on("change",(function(){r($(this))})),$("#save_add_to_checklists_button").off("click").on("click",(function(){c(i,e,n)})),$(".checklist-filter").on("change",l),$("#filter_selected").on("change",o),$("#select_all_checklists").on("click",s)}),2e3)})).catch((function(e){}))},o=function(){"selected"==$(this).val()?($(".checklist-items-tr").hide(),$(".checklist-item-checkbox:checked").closest(".checklist-items-tr").show()):($(".checklist-items-tr").show(),$(".checklist-item-checkbox:checked").closest(".checklist-items-tr").hide())},r=function(e){if(e.is(":checked")){e.closest("tr").addClass("bg-blue-light").find(".show-checklist-items-collapsible-div").show()}else e.closest("tr").removeClass("bg-blue-light").find(".show-checklist-items-collapsible-div").hide();$(".collapse").collapse("hide"),$(".show-checklist-items-collapsible").text("Show Checklist Items").addClass("btn-primary").removeClass("btn-success");var t=e.closest("td").next("td").find(".checklist-items-collapsible"),n=e.closest("td").next("td").find(".show-checklist-items-collapsible");if(console.log(t.length,n.length,t.find("li").length),0==t.find("li").length){var i=n.data("checklist-id"),a=n.data("file-id");axios.get("/doc_management/add_form_get_checklist_items",{params:{checklist_id:i,file_id:a},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){t.html(e.data),d()})).catch((function(e){}))}},s=function(){$("#select_all_checklists").is(":checked")?$(".filter-active").find(".checklist-item-checkbox").each((function(){$(this).prop("checked",!0),r($(this))})):$(".filter-active").find(".checklist-item-checkbox").each((function(){$(this).prop("checked",!1),r($(this))}))},l=function(){$("#select_all_checklists").prop("checked",!1),$(".checklist-items-tr").show().addClass("filter-active"),$(".checklist-filter").each((function(){var e=$(this).val(),t=$(this).data("type");""!=e&&$(".checklist-items-tr").each((function(){$(this).data(t)!=e&&$(this).hide().removeClass("filter-active")}))}))},c=function(t,i,a){var o=$("#add_to_checklists_form");if("yes"==validate_form(o)){$("#save_add_to_checklists_button").html('<span class="spinner-border spinner-border-sm"></span> Saving');var r=$(".checklist-items-tr"),s={checklist:[]},l=[];r.each((function(){var e,t,n;if(n="",(t=(e=$(this)).find(".checklist-item-checkbox")).is(":checked"))if(n=t.val(),0==e.find(".order-checklist-item-sortable").length)l.push(n);else{var i=e.find(".order-checklist-item-sortable").prevAll(".list-group-header:first").data("form-group-id"),a=e.find(".order-checklist-item").index(e.find(".order-checklist-item-sortable"));s.checklist.push({checklist_id:n,checklist_order:a,checklist_group_id:i})}})),s=JSON.stringify(s);var c=$("#add_to_checklist_file_id").val(),d=$(".checklist-item-required").val(),u=new FormData;u.append("checklists",s),u.append("file_id",c),u.append("required",d),u.append("checklist_ids_keep",l),axios.post("/doc_management/save_add_to_checklists",u,axios_options).then((function(o){$("#add_to_checklists_modal").modal("hide"),$("#add_form_to_checklists_div").html("");var r=$("#list_div_"+a).find(".uploads-filter-sort").val();e(a,t,r),setTimeout((function(){n(i,a)}),100),toastr.success("Form Successfully Added To Checklists"),$("#save_add_to_checklists_button").html('<i class="fal fa-check mr-2"></i> Save')})).catch((function(e){}))}},d=function(){$(".checklist-items-sortable").sortable({handle:".order-checklist-item-sortable-handle",placeholder:"bg-orange-sortable",stop:function(e,t){f(),$(t.item).closest("tr").addClass("bg-blue-light")}})},u=function(){$(".show-checklist-items-collapsible").off("click").on("click",(function(){$(".checklist-items-collapsible").collapse("hide"),"Show Checklist Items"==$(this).text()?($(".show-checklist-items-collapsible").text("Show Checklist Items").addClass("btn-primary").removeClass("btn-success"),$(this).text("Hide Checklist Items").removeClass("btn-primary").addClass("btn-success")):$(this).text("Show Checklist Items").addClass("btn-primary").removeClass("btn-success")})),$(".checklist-items-sortable").disableSelection()},f=function(){$(".order-checklist-item").each((function(){$(this).find(".checklist-item-order").text($(this).index()+1)}))},h=function(t,n,i,a){$("#remove_form_modal").modal(),$("#remove_form_name").text(n),$("#confirm_remove_from_checklist_button").off("click").on("click",(function(){var n=new FormData;n.append("form_id",t),axios.post("/doc_management/remove_upload",n,axios_options).then((function(t){$("#remove_form_modal").modal("hide");var n=$("#list_div_"+i).find(".uploads-filter-sort").val();e(i,a,n),$("#form_manage_modal").modal("hide"),toastr.success("Form Successfully Removed")})).catch((function(e){}))}))},p=function(t,n,i,a,o,r){$("#replace_form_modal").modal(),$("#replace_old_form").text(a),$("#replace_new_form").text(r),$("#confirm_replace_form_button").off("click").on("click",(function(){var a=new FormData;a.append("old_form_id",i),a.append("new_form_id",o),axios.post("/doc_management/replace_upload",a,axios_options).then((function(i){$("#replace_form_modal").modal("hide");var a=$("#list_div_"+t).find(".uploads-filter-sort").val();e(t,n,a),$("#form_manage_modal").modal("hide"),toastr.success("Form Successfully Replaced")})).catch((function(e){}))}))},m=function(t){var n=t.val(),i=t.closest(".list-div"),a=i.find(".form-group-id").val(),o=i.find(".form-group-state").val();e(a,o,n)},_=function(t){var n=t.data("id"),i=t.data("form-group-id"),a=$("#list_div_"+i).find(".uploads-filter-sort").val(),o=t.data("state"),r=t.data("active"),s=new FormData;s.append("upload_id",n),s.append("active",r),axios.post("/doc_management/activate_upload",s).then((function(t){var n;e(i,o,a),n="yes"==r?"Form Activated Successfully":"Form Deactivated Successfully",toastr.success(n)})).catch((function(e){}))},v=function(e){var t=e.closest(".list-div");t.find(".uploads-list").show();var n=t.find(".uploads-filter-active").val(),i=t.find(".uploads-filter-published").val();t.find(".uploads-filter-active").prop("disabled",!1),"published"==i?(t.find(".notpublished").hide(),"active"==n?t.find(".published.notactive").hide():"notactive"==n&&t.find(".published.active").hide()):"notpublished"==i?(t.find(".published").hide(),t.find(".uploads-filter-active").val("all").prop("disabled",!0)):"active"==n?(t.find(".uploads-list").show(),t.find(".notactive").hide()):"notactive"==n&&(t.find(".uploads-list").hide(),t.find(".published.notactive").show())},g=function(e){var t=e.data("id"),n=e.data("form-group-id"),i=e.data("state");$("#confirm_publish_modal").modal(),$("#confirm_publish").off("click").on("click",(function(){y(t,n,i)}))},y=function(t,n,i){var a=$("#list_div_"+n).find(".uploads-filter-sort").val(),o=new FormData;o.append("upload_id",t),axios.post("/doc_management/publish_upload",o).then((function(t){$("#confirm_publish_modal").modal("hide"),e(n,i,a),toastr.success("Form Published Successfully")})).catch((function(e){}))},b=function(t){var n=t.data("id"),i=t.data("form-group-id"),a=$("#list_div_"+i).find(".uploads-filter-sort").val(),o=t.data("state"),r=new FormData;r.append("upload_id",n),axios.post("/doc_management/duplicate_upload",r).then((function(t){e(i,o,a),toastr.success("Form Duplicated Successfully")})).catch((function(e){}))},w=function(e){var t=e.data("id"),n=e.data("form-group-id"),i=e.data("state");$("#confirm_delete_modal").modal(),$("#confirm_delete").off("click").on("click",(function(){k(t,n,i)}))},k=function(t,n,i){var a=$("#list_div_"+n).find(".uploads-filter-sort").val(),o=new FormData;o.append("upload_id",t),axios.post("/doc_management/delete_upload",o).then((function(t){$("#confirm_delete_modal").modal("hide"),e(n,i,a),toastr.success("Form Deleted Successfully")})).catch((function(e){}))},E=function(e){var t=e.data("id");axios.get("/doc_management/get_upload_details",{params:{upload_id:t}}).then((function(e){var n=!1;"yes"==e.data.published&&(n=!0);var i=e.data.file_name_orig,a=e.data.file_name_display,o=e.data.form_group_id,r=e.data.state,s=e.data.helper_text,l=e.data.form_categories,c=e.data.form_tags,d=e.data.checklist_group_id;$("#edit_form_name").text(i),$("#edit_file_name_display").val(a),$("#edit_form_group_id").val(o).prop("disabled",n).data("form-group-id",o),$("#edit_state").val(r).prop("disabled",n),$("#edit_helper_text").val(s),$("#edit_form_tags").val(c),$("#edit_checklist_group_id").val(d).prop("disabled",n),l=l.split(","),$("#edit_form_categories").find("option").prop("selected",!1),$.each(l,(function(e,t){$("#edit_form_categories").find('option[value="'+t+'"]').prop("selected",!0)})),setTimeout((function(){$("#edit_form_categories").trigger("change")}),200),$("#edit_file_id").val(t),$("#edit_file_modal").modal(),$("#save_edit_file_button").off("click").on("click",C)})).catch((function(e){}))},x=function(e){$("#add_item_no_form_modal").modal();var t=e.data("state"),n=e.data("form-group-id");$("#no_form_form_group_id").val(n),$("#no_form_state").val(t),$("#no_form_form_categories").val(""),$("#no_form_form_tags").val(""),$("#no_form_checklist_group_id").val(""),$("#save_add_item_no_form_button").off("click").on("click",D),$("#no_form_form_group_id").on("change",(function(){$("#no_form_state").val(e.find("option:selected").data("state"))}))},D=function(){var t=$("#add_item_no_form_form");if("yes"==validate_form(t)){var n=$("#no_form_form_group_id").val(),i=$("#list_div_"+n).find(".uploads-filter-sort").val(),a=$("#no_form_state").val();$("#save_add_item_no_form_button").prop("disabled",!0).html('<span class="spinner-border spinner-border-sm"></span> Saving');var o=new FormData(t[0]);axios.post("/doc_management/save_add_non_form",o).then((function(t){$("#add_item_no_form_modal").modal("hide"),e(n,a,i),$("#save_add_item_no_form_button").prop("disabled",!1).html('<i class="fad fa-upload mr-2"></i> Save Details'),toastr.success("Item Added Successfully"),$("#list_"+n).trigger("click")})).catch((function(e){}))}},C=function(){var t=$("#edit_file_form");if("yes"==validate_form(t)){var n=$("#edit_form_group_id").val(),i=$("#edit_form_group_id").data("form-group-id"),a=$("#list_div_"+n).find(".uploads-filter-sort").val(),o=$("#edit_state").val();$("#save_edit_file_button").prop("disabled",!0).html('<span class="spinner-border spinner-border-sm"></span> Saving');var r=new FormData(t[0]);axios.post("/doc_management/save_file_edit",r).then((function(t){$("#edit_file_modal").modal("hide"),e(n,o,a),""!=i&&e(i,o,a),$("#save_edit_file_button").prop("disabled",!1).html('<i class="fad fa-upload mr-2"></i> Save Details'),toastr.success("Upload Edited Successfully")})).catch((function(e){}))}},T=function(e){$("#add_upload_modal").modal(),$("#form_name").html("");var t=e.data("state"),n=e.data("form-group-id");$("#form_group_id").val(n),$("#state").val(t),$("#form_categories").val(""),$("#form_tags").val(""),$("#checklist_group_id").val(""),$(".show-forms-button").hide(),setTimeout((function(){$("#file_upload").off("change").on("change",(function(){if(""!=$(this).val()){global_loading_on("",'<div class="h5 text-white">Scanning Upload</div>');var e=$("#upload_file_form"),t=new FormData(e[0]);axios.post("/doc_management/get_upload_text",t,axios_options).then((function(e){$("#upload_preview").html('<embed src="'+e.data.upload_location+'#view=FitW" width="100%" height="100%">'),$(".form-names").fadeIn("slow"),$("#form_names").html(""),$("#form_names_div").collapse("show"),$("#form_name").html('<h5 class="text-orange">Select and/or Edit Form Name</h5>'),e.data.titles.forEach((function(e){var t='                             <div class="d-flex justify-content-start align-items-center title-option w-100">                                 <div><a href="javascript: void(0)" class="btn btn-primary add-title">Select</a></div>                                 <div class="w-100"><input type="text" class="custom-form-element form-input" value="'+e+'" data-label=""></div>                             </div>                             ';$("#form_names").append(t)})),$(".add-title").on("click",(function(){$(".show-forms-button").show();var e=$(this).closest(".title-option").find("input").val();$("#file_name_display, #helper_text").val(e),$("#file_name_display").on("change",(function(){$("#helper_text").val()==e&&$("#helper_text").val($("#file_name_display").val())})),$("#form_names_div").collapse("hide")})),global_loading_off()})).catch((function(e){}))}})),$("#form_group_id").on("change",(function(){$("#state").val(e.find("option:selected").data("state"))}))}),500)},I=function(){if("yes"==validate_form($("#upload_file_form"))){var t=$("#form_group_id").val(),n=$("#state").val(),i=$("#list_div_"+t).find(".uploads-filter-sort").val();$("#upload_file_button").prop("disabled",!0).html('<span class="spinner-border spinner-border-sm"></span> Uploading');var a=new FormData($("#upload_file_form")[0]);axios_options.header={"content-type":"multipart/form-data"},axios.post("/doc_management/upload_file",a,axios_options).then((function(a){$("#add_upload_modal").modal("hide"),$("#file_name_display, #file_upload, #form_categories, #form_tags, #checklist_group_id").val(""),e(t,n,i),$("#upload_file_button").prop("disabled",!1).html('<i class="fad fa-upload mr-2"></i> Upload Form'),$("#upload_preview").html(""),$("#helper_text").val("")})).catch((function(e){}))}};$((function(){!function(){var t=$(".forms-data").eq(0),n=t.data("form-group-id"),i=t.data("state"),a=$("#list_div_"+n).find(".uploads-filter-sort").val();e(n,i,a)}(),$("#file_name_display").on("keyup change",(function(){$(this).val(ucwords($(this).val()))})),$(".form-search").on("keyup change",(function(){!function(e){var t=e.closest(".list-div"),n=e.val();if(n.length>0){var i=new RegExp(n,"i");t.find(".uploads-list").each((function(){$(this).data("form-name").match(i)?$(this).show():$(this).hide()}))}else $(".uploads-list").show()}($(this))})),$(document).on("click",".show-checklist-items-collapsible",(function(){var e=$(this).closest("td").prev("td").find("input");r(e)}))}))}},2594:()=>{if(document.URL.match(/active_earnest/)){var e=function(e){$.each(["pending","active","missing","waiting"],(function(n,i){axios.get("/doc_management/get_earnest_deposits",{params:{account_id:e,tab:i},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(n){n.data||"all"==e&&window.location.reload(),$("#"+i+"_content").html(n.data),"missing"==i?data_table("25",$(".earnest-table."+i),[6,"desc"],[0,1,10,11],[],!0,!0,!0,!0,!0):data_table("25",$(".earnest-table."+i),[5,"desc"],[0],[],!0,!0,!0,!0,!0),$(".save-earnest-notes-button").off("click").on("click",(function(){var e=$(this).data("earnest-id"),n=$(".earnest-notes-"+e).val();t(e,n)}))})).catch((function(e){console.log(e)}))}))},t=function(e,t){var i=new FormData;i.append("Earnest_ID",e),i.append("notes",t),axios.post("/agents/doc_management/transactions/save_add_earnest_notes",i,axios_options).then((function(t){n(e),$(".earnest-notes-"+e).val("")})).catch((function(e){console.log(e)}))},n=function(e){axios.get("/agents/doc_management/transactions/get_earnest_notes",{params:{Earnest_ID:e}}).then((function(t){$("#earnest_notes_div_"+e).html(t.data)})).catch((function(e){console.log(e)}))},i=function(e){$(".email-agents-div").addClass("d-none"),"show"==e&&$(".email-agents-div").removeClass("d-none")};$((function(){e("all"),$(".earnest-deposit-account").on("change",(function(){e($(this).val())})),$(document).on("change",".check-all",(function(){$(this).is(":checked")?$(".deposit-input").prop("checked",!0):$(".deposit-input").prop("checked",!1)})),$(document).on("change",".deposit-input, .check-all",(function(){$(".deposit-input:checked").length>0?(i("show"),$("button.email-agent").prop("disabled",!0)):(i("hide"),$("button.email-agent").prop("disabled",!1))})),$(document).on("click",".email-agent",(function(){$(this).hasClass("single")&&$(this).closest("tr").find("td input[type=checkbox]").prop("checked",!0),$("#email_agents_missing_earnest_modal").modal("show");var t=[];$(".deposit-input:checked").each((function(){t.push($(this).data("contract-id"))})),$("#contract_ids").val(t.join()),$("#email_agents_missing_earnest_modal").on("hide.bs.modal",(function(){$(".deposit-input, .check-all").prop("checked",!1),i("hide"),$("button.email-agent").prop("disabled",!1)})),$("#send_email_agents_missing_earnest_button").off("click").on("click",(function(){var t=$("#email_agents_missing_earnest_form");if("yes"==validate_form(t)){$("#email_agents_missing_earnest_modal").modal("hide"),toastr.success("Emails Successfully Sent!");var n=$("#email_agent_earnest_subject").val(),i=tinyMCE.activeEditor.getContent(),a=$("#contract_ids").val(),o=new FormData;o.append("subject",n),o.append("message",i),o.append("contract_ids",a),axios.post("/doc_management/email_agents_missing_earnest",o,axios_options).then((function(t){e("all")})).catch((function(e){console.log(e)}))}}))})),$(document).on("click",".delete-earnest-note-button",(function(){var e=$(this).data("earnest-id"),t=$(this).data("note-id"),i=new FormData;i.append("note_id",t),axios.post("/agents/doc_management/transactions/delete_note",i,axios_options).then((function(t){n(e)})).catch((function(e){console.log(e)}))}));text_editor({menubar:!1,statusbar:!1,height:370,selector:"#email_agent_earnest_message",toolbar:"undo redo | styleselect | bold italic | forecolor backcolor | align outdent indent |"})}))}},4380:()=>{document.URL.match(/balance_earnest/)&&$((function(){t(),n(),$(document).on("click",".refresh-accounts-button",(function(){var e;e=$(".earnest-totals-tab.active").index(),$(".earnest-checks-container").hide(),$(".earnest-totals-container").html('<div class="list-group-item p-5 text-center text-gray"><i class="fas fa-spinner fa-pulse fa-2x"></i></div>'),t(e),n(),$(".earnest-checks-container").show()})),$("#earnest_search_input").on("keyup",(function(){var e;(e=$(this).val()).length>2?axios.get("/doc_management/search_earnest_checks",{params:{value:e},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#earnest_search_results").hide().html(""),e.data.match(/earnest-search-results/)&&($("#earnest_search_results").show().html(e.data),$(document).on("mouseup",(function(e){var t=$(".earnest-search-div");t.is(e.target)||0!==t.has(e.target).length||($("#earnest_search_results").hide().html(""),$("#earnest_search_input").val(""))})))})).catch((function(e){console.log(e)})):$("#earnest_search_results").hide().html("")}));var e={menubar:!1,statusbar:!1,toolbar:!0,selector:"#bounced_check_message",height:450,relative_urls:!1,remove_script_host:!0,document_base_url:location.hostname};function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;axios.get("/doc_management/get_earnest_totals",{headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$(".earnest-totals-container").html(t.data),e&&$(".earnest-totals-tab").eq(e).trigger("click"),$(".earnest-totals-tab").on("click",(function(){$("html, body").animate({scrollTop:0},200,"swing")}))})).catch((function(e){console.log(e)}))}function n(){axios.get("/doc_management/get_earnest_checks",{headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".earnest-checks-container").html(e.data),data_table("10",$(".earnest-checks-table-in"),[1,"desc"],[0,7,8],[],!0,!0,!0,!1),data_table("10",$(".earnest-checks-table-out"),[1,"desc"],[0,7],[],!0,!0,!0,!1),data_table("10",$(".earnest-checks-table-in-recent"),[1,"desc"],[0,7,8],[],!0,!0,!0,!0),data_table("10",$(".earnest-checks-table-out-recent"),[1,"desc"],[0,7],[],!0,!0,!0,!0),$(".cleared-checkbox").on("change",(function(){!function(e){var n=e.closest(".check-row").find(".cleared-checkbox").not(e);n&&n.prop("checked",!1);var i=new FormData,a=e.data("check-id"),o=e.data("check-type"),r=e.data("earnest-id"),s="";$(".earnest-totals-tab.active").find(".account-total-amount").html('<i class="fas fa-spinner fa-pulse"></i>'),e.closest(".check-row").removeClass("cleared bounced"),e.is(":checked")&&(s=e.val(),e.closest(".check-row").addClass(s));i.append("check_id",a),i.append("status",s),i.append("check_type",o),axios.post("/agents/doc_management/transactions/clear_bounce_earnest_check",i,axios_options).then((function(e){var n=new FormData;if(n.append("Earnest_ID",r),axios.post("/agents/doc_management/transactions/save_earnest_amounts",n,axios_options).then((function(e){toastr.success("Check Status Updated"),setTimeout((function(){t($(".earnest-totals-tab.active").index())}),100)})).catch((function(e){})),"bounced"==s){var i=e.data.check,a=i.property,o=i.agent,l=o.email,c=e.data.link,d=a.BuyerOneFirstName+" "+a.BuyerOneLastName;""!=a.BuyerTwoFirstName&&(d+="and "+a.BuyerTwoFirstName+" "+a.BuyerTwoFirstName);var u=a.FullStreetAddress+" "+a.City+", "+a.StateOrProvince+" "+a.PostalCode,f=a.Contract_ID,h="                     Hello "+o.first_name+",<br><br>                         The earnest deposit for the following property has bounced.<br><br>                         "+u+"<br><br>                         Buyers: "+d+"<br>                         Check Amount: "+global_format_number_with_decimals(i.check_amount)+'<br><br>                         <span style="color: #900">Please call the office immediately to resolve this issue.</span><br><br>                         <a href="'+c+'" target="_blank">View Transaction</a>                     ';$("#bounced_check_notification_modal").modal("show");var p=$("#bounced_check_message").val();tinymce.get("bounced_check_message").setContent(h+p),$("#send_bounced_check_notification_button").on("click",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Sending Email...');var e=tinymce.get("bounced_check_message").getContent(),t=new FormData;t.append("agent_email",l),t.append("bounced_check_message",e),t.append("property_address",u),t.append("Contract_ID",f),axios.post("/agents/doc_management/transactions/notify_agent_bounced_earnest",t,axios_options).then((function(e){$("#bounced_check_notification_modal").modal("hide"),toastr.success("Agent Successfully Notified"),$("#send_bounced_check_notification_button").html('<i class="fad fa-share mr-2"></i> Send Message')})).catch((function(e){console.log(e)}))}))}})).catch((function(e){}))}($(this))}))})).catch((function(e){console.log(e)}))}text_editor(e)}))},479:()=>{document.URL.match(/notifications/)&&$((function(){text_editor({selector:".notification-text-editor",inline:!0,menubar:!1,statusbar:!1,toolbar:"backcolor forecolor | bold italic underline"}),$(".list-group").sortable({handle:".list-group-handle",stop:function(e,t){var n=[];$(".list-group-item").each((function(){var e=$(this).data("config-id"),t=$(this).index();n.push({config_id:e,order:t})})),n=JSON.stringify(n);var i=new FormData;i.append("items",n),axios.post("/doc_management/reorder_notifications",i,axios_options).then((function(e){toastr.success("Reorder Successfully")})).catch((function(e){}))}}),$(".save-config-button").on("click",(function(){var e=$(this).data("type"),t=$(this).closest(".notification-container"),n=$(this).data("config-id"),i=t.find('.notification-text-editor[data-field="title"]').html(),a=t.find('.notification-text-editor[data-field="description"]').html(),o="",r="",s="",l="",c="";"notification"==e?(o=t.find(".emails").val(),l=t.find(".notify-checkbox-email:checked").val()||"",c=t.find(".notify-checkbox-text:checked").val()||""):"number"==e?r=t.find(".number").val():"on_off"==e&&(s=t.find(".on-off").val(),l=t.find(".notify-checkbox-email:checked").val()||"",c=t.find(".notify-checkbox-text:checked").val()||"");var d=new FormData;d.append("config_id",n),d.append("title",i),d.append("description",a),d.append("emails",o),d.append("notify_by_email",l),d.append("notify_by_text",c),d.append("number",r),d.append("on_off",s),axios.post("/doc_management/save_notifications",d,axios_options).then((function(e){toastr.success("Changes Successfully Saved")})).catch((function(e){console.log(e)}))}))}))},7083:()=>{document.URL.match(/common_fields/)&&$((function(){function e(){axios.get("/doc_management/resources/get_common_fields",{headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$("#common_fields_div").html(e.data);text_editor({selector:".common-field-input",inline:!0,menubar:!1,statusbar:!1,toolbar:!1,plugins:"save"}),$(".sortable-fields").sortable({handle:".sortable-handle",stop:function(e,t){var n=$(t.item),i=[];n.closest(".sortable-fields").find(".common-field-input-container").each((function(){var e=$(this).data("field-id"),t=$(this).index();i.push({field_id:e,order:t})})),i=JSON.stringify(i);var a=new FormData;a.append("fields",i),axios.post("/doc_management/resources/reorder_common_fields",a,axios_options).then((function(e){toastr.success("Reorder Successfully")})).catch((function(e){}))}}),$(".sortable-fields").disableSelection()})).catch((function(e){}))}e(),$(document).on("focus",".common-field-input, .common-field-input-value, .form-select-search-input",(function(){$(".save-edit-common-field-button").hide(),$(this).closest(".common-field-input-container").find(".save-edit-common-field-button").show()})),$(document).on("click",".form-ele *",(function(){$(".save-edit-common-field-button").hide(),$(this).closest(".common-field-input-container").find(".save-edit-common-field-button").show()})),$(document).on("click",".save-edit-common-field-button",(function(){var e=$(this).data("id"),t=$(this).closest(".common-field-input-container");!function(e,t,n,i,a,o){var r=new FormData;r.append("id",e),r.append("field_name",t),r.append("field_type",n),r.append("group_id",i),r.append("sub_group_id",a),r.append("db_column_name",o),axios.post("/doc_management/resources/save_edit_common_field",r,axios_options).then((function(e){toastr.success("Field Successfully Saved")})).catch((function(e){}))}(e,t.find(".common-field-input-value").text(),t.find(".field-type").val(),t.find(".group-id").val(),t.find(".sub-group-id").val(),t.find(".field-name-db").val())})),$(document).on("click","#save_add_common_field_button",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving'),function(t,n,i,a,o){var r=new FormData;r.append("field_name",t),r.append("field_type",n),r.append("group_id",i),r.append("sub_group_id",a),r.append("db_column_name",o),axios.post("/doc_management/resources/save_add_common_field",r,axios_options).then((function(t){toastr.success("Field Successfully Added"),e(),$("#add_common_field_collapse").collapse("hide").find("input, select").val(""),$("#save_add_common_field_button").html('<i class="fad fa-save mr-2"></i> Save')})).catch((function(e){}))}($("#field_name").val(),$("#field_type").val(),$("#group_id").val(),$("#sub_group_id").val(),$("#db_column_name").val())}))}))},9480:()=>{function e(e,t,n,i,a,o,r,s,l){var c='     <li class="list-group-item" data-resource-id="'+e+'" data-resource-type="'+t+'">         <div class="resource-div-details">     ';c+='             <i class="fas fa-sort mr-2 mt-1 list-item-handle float-left"></i>             <span class="edit-resource-title list-item-handle float-left">     ',""!=a&&(c+='             <div class="resource-color-square mr-2 float-left" style="background-color: '+a+'"></div>         ');var d=n;if(""!=i&&(d=i+" | "+n),""!=l&&(d=d+" | "+l),c+="             "+d+'</span >             <a href="javascript: void(0)" class="delete-deactivate-resource-button text-danger float-right ml-3" data-resource-id="'+e+'" data-resource-name="'+n+'" data-action="delete"><i class="fal fa-ban fa-lg"></i></a>             <a href="javascript: void(0)" class="edit-resource-button text-primary float-right" data-resource-type="'+t+'"><i class="fad fa-edit fa-lg"></i></a>         </div>         <div class="resource-div-edit container-fluid">             <form>                 <div class="row py-3">                     <div class="col-4 px-1">                         <input type="text" class="custom-form-element form-input edit-resource-input" value="'+n+'" data-default-value="'+n+'" data-label="Resource Name">                     </div>     ',""!=i){c+='                     <div class="col px-1">                         <select class="custom-form-element form-select edit-resource-state form-select-no-cancel form-select-no-search required" data-label="State" data-default-value="'+i+'">                             <option value=""></option>         ';var u=active_states.split(",");$.each(u,(function(e,t){var n="";i==t&&(n="selected"),c+='<option value="'+t+'" '+n+">"+t+"</option>"})),c+="                         </select>                     </div>         "}if(""!=o){c+='                     <div class="col px-1">                         <select class="custom-form-element form-select edit-resource-association form-select-no-cancel form-select-no-search required" data-label="Association" data-default-value="'+o+'">                             <option value=""></option>         ';var f="";"yes"==o&&(f="selected"),c+='<option value="yes" '+f+">Yes</option>",f="","no"==o&&(f="selected"),c+='<option value="no" '+f+">No</option>",c+="                         </select>                     </div>         "}if(""!=r){c+='                     <div class="col px-1">                         <select class="custom-form-element form-select edit-resource-addendums form-select-no-cancel form-select-no-search required" data-label="Addenda" data-default-value="'+r+'">                             <option value=""></option>         ';var h="";"yes"==r&&(h="selected"),c+='<option value="yes" '+h+">Yes</option>",h="","no"==r&&(h="selected"),c+='<option value="no" '+h+">No</option>",c+="                         </select>                     </div>         "}if(""!=s){c+='                     <div class="col px-1">                         <select class="custom-form-element form-select edit-resource-form-group-type form-select-no-cancel form-select-no-search required" data-label="Form Type" data-default-value="'+s+'">                             <option value=""></option>         ';var p="";"listing"==s&&(p="selected"),c+='<option value="listing" '+p+">Listing</option>",p="","contract"==s&&(p="selected"),c+='<option value="contract" '+p+">Listing</option>",p="","both"==s&&(p="selected"),c+='<option value="both" '+p+">Both</option>",c+="                         </select>                     </div>         "}return""!=a&&(c+='                     <div class="col px-1">                         <input type="color" class="custom-form-element form-input-color   edit-resource-color colorpicker" value="'+a+'" data-default-value="'+a+'" data-label="Tag Color">                     </div>         '),""!=l&&(c+='                     <div class="col px-1">                         <input type="text" class="form-input" value="'+l+'" data-default-value="'+l+'" data-label="County Abbr">                     </div>         '),""!=resource_account_number&&(c+='                     <div class="col px-1">                         <input type="text" class="form-input" value="'+resource_account_number+'" data-default-value="'+resource_account_number+'" data-label="Account #">                     </div>         '),c+='                     <div class="col-1 pl-2">                         <a href="javascript: void(0)" class="save-edit-resource-button" data-resource-id="'+e+'" data-resource-type="'+t+'"><i class="fad fa-save text-primary fa-2x mt-3"></i></a>                     </div>                     <div class="col-1 px-1">                         <a href="javascript: void(0)" class="close-edit-resource-button"><i class="fal fa-times text-danger fa-2x mt-3"></i></a>                     </div>                 </div>             </form>         </div>     </li>     '}function t(e,t,n,i,a){e.slideUp("fast"),t.show(),n.val(""),i&&i.val(""),a.hide(),e.find("input, select").each((function(){$(this).val($(this).data("default-value"))}))}function n(){$(".resource-div-details").show(),$(".resource-div-edit").hide(),$(".resource-input").each((function(){$(this).val($(this).data("default-value"))}))}document.URL.match("/resources$")&&$((function(){$(".sortable").sortable({placeholder:"bg-orange-sortable",handle:".list-item-handle",start:function(){n()},stop:function(e,t){var n=$(t.item).parent("ul").children("li"),i={resource:[]};n.each((function(){var e,t,n;t=(e=$(this)).data("resource-id"),n=e.index(),i.resource.push({resource_id:t,resource_index:n})}));var a=new FormData;i=JSON.stringify(i),a.append("data",i),axios.post("/doc_management/resources/reorder",a,axios_options).then((function(e){toastr.success("Resource Reordered")})).catch((function(e){}))}}),$(".sortable").disableSelection(),$(".add-resource-button").off("click").on("click",(function(){!function(n){var i=n.data("resource-type"),a=n.closest(".resource-div"),o=a.find(".add-resource-div"),r=a.find(".add-resource-button"),s=a.find(".cancel-add-resource-button"),l=a.find(".add-resource-save-button"),c=o.find(".add-resource-input"),d="",u="",f="",h="",p="",m="",_="",v="",g="",y="",b="",w="",k="",E="";o.find(".add-resource-state").length>0&&(d=o.find(".add-resource-state")),o.find(".add-resource-color").length>0&&(f=o.find(".add-resource-color")),o.find(".add-resource-association").length>0&&(p=o.find(".add-resource-association")),o.find(".add-resource-addendums").length>0&&(_=o.find(".add-resource-addendums")),o.find(".add-resource-form-group-type").length>0&&(g=o.find(".add-resource-form-group-type")),o.find(".add-resource-county-abbr").length>0&&(b=o.find(".add-resource-county-abbr")),o.find(".add-resource-account-number").length>0&&(k=o.find(".add-resource-account-number")),t(o,r,c,d,s);var x=a.find(".list-group");r.hide(),s.show().on("click",(function(){o.slideUp("fast"),r.show(),c.val(""),d&&d.val(""),f&&f.val(f.data("default-value")),p&&p.val(""),_&&_.val(""),g&&g.val(""),b&&b.val(""),k&&k.val(""),s.hide(),t(o,r,c,d,s)})),$(document).on("mousedown",(function(e){$(e.target).is(".add-resource-div *")||t(o,r,c,d,s)})),o.slideDown("fast"),c.focus(),l.off("click").on("click",(function(){if("yes"==validate_form(o.find("form"))){var t=new FormData,n=c.val();d&&(u=d.val()),f&&(h=f.val()),p&&(m=p.val()),_&&(v=_.val()),g&&(y=g.val()),b&&(w=b.val()),k&&(E=k.val()),t.append("resource_type",i),t.append("resource_name",n),t.append("resource_state",u),t.append("resource_color",h),t.append("resource_association",m),t.append("resource_addendums",v),t.append("resource_form_group_type",y),t.append("resource_county_abbr",w),t.append("resource_account_number",E),axios.post("/doc_management/resources/add",t,axios_options).then((function(t){s.trigger("click"),toastr.success("Resource Added Successfully");var a=e(t.data,i,n,u,h,m,v,y,w);$(a).appendTo(x)})).catch((function(e){}))}}))}($(this))})),$(".edit-resource-button").off("click").on("click",(function(){!function(e){n(),e.data("resource-type");var t=e.closest(".resource-div-details"),i=t.next(".resource-div-edit"),a=i.find(".edit-resource-input"),o="";i.find(".edit-resource-state").length>0&&(o=i.find(".edit-resource-state"));var r="";i.find(".edit-resource-color").length>0&&(r=i.find(".edit-resource-color"));var s="";i.find(".edit-resource-association").length>0&&(s=i.find(".edit-resource-association"));var l="";i.find(".edit-resource-addendums").length>0&&(l=i.find(".edit-resource-addendums"));var c="";i.find(".edit-resource-form-group-type").length>0&&(c=i.find(".edit-resource-form-group-type"));var d="";i.find(".edit-resource-county-abbr").length>0&&(d=i.find(".edit-resource-county-abbr"));var u="";i.find(".edit-resource-account-number").length>0&&(u=i.find(".edit-resource-account-number"));var f=i.find(".save-edit-resource-button"),h=i.find(".close-edit-resource-button");t.hide(),i.show(),f.off("click").on("click",(function(){!function(e,t,n,i,a,o,r,s,l,c,d,u){var f=e.data("resource-id"),h=c.find(".edit-resource-title"),p=t.val(),m="";n&&(m=n.val());var _,v="";i&&(v=i.val(),_=e.closest(".list-group-item").find(".resource-color-square"));var g="";a&&(g=a.val());var y="";o&&(y=o.val());var b="";r&&(b=r.val());var w="";s&&(w=s.val());var $="";l&&($=l.val());var k="";if("yes"==validate_form(d.find("form"))){var E=new FormData;E.append("resource_id",f),E.append("resource_name",p),E.append("resource_state",m),E.append("resource_color",v),E.append("resource_association",g),E.append("resource_addendums",y),E.append("resource_form_group_type",b),E.append("resource_county_abbr",w),E.append("resource_account_number",$),axios.post("/doc_management/resources/edit",E,axios_options).then((function(e){c.show(),d.hide(),t.data("default-value",p),n&&(n.data("default-value",m),k=m+" | "),k+=p,s&&(s.data("default-value",w),k+=" | "+w),h.html(k),v&&_.css("background-color",v),a&&a.data("default-value",g),o&&o.data("default-value",y),toastr.success("Resource Edited Successfully")})).catch((function(e){}))}}($(this),a,o,r,s,l,c,d,u,t,i)})),h.on("click",(function(){!function(e,t,n,i,a,o,r,s,l){e.show(),t.hide(),n.val(n.data("default-value")),i&&i.val(i.data("default-value")),s&&s.val(s.data("default-value")),a&&a.val(a.data("default-value")),o&&o.val(o.data("default-value"))}(t,i,a,o,s,l,0,r)}))}($(this))})),$(".delete-deactivate-resource-button").off("click").on("click",(function(){!function(e){var t=$(e).data("action");$("#confirm_delete_deactivate_resource_modal").modal();var n,i,a=e.data("resource-name");$(".delete-deactivate-resource-file-name").text(a),"delete"==t&&(n="Are you sure you want to permanently delete this resource?",i="Delete Resource"),$(".confirm-delete-deactivate-resource-text").text(n),$("#confirm_delete_deactivate_resource_modal_title").text(i),$("#confirm_delete_deactivate_resource").on("click",(function(){!function(e,t){var n=e.data("resource-id"),i=new FormData;i.append("resource_id",n),i.append("action",t),axios.post("/doc_management/resources/delete_deactivate",i,axios_options).then((function(n){$(e).closest(".list-group-item").remove(),toastr.success("Resource "+t+"d successfully"),$("#confirm_delete_deactivate_resource_modal").modal("hide")})).catch((function(e){}))}(e,t)}))}($(this))}))}))},159:()=>{if(document.URL.match(/document_review/)){var e=function(){if(""!=$(this).val()){var e=new RegExp($(this).val(),"i");$(".property-list-header, .property-item").hide(),$(".address-div").each((function(){$(this).text().match(e)&&$(this).closest(".property-item").show()})),$(".property-list-header").each((function(){var e=$(this),t=e.data("cat"),n=$('[data-cat="'+t+'"]'),i=!1;n.each((function(){"block"==$(this).css("display")&&(i=!0)})),i&&e.show()}))}else $(".property-list-header, .property-item").show()},t=function(){$(".property-list-header, .property-item").show(),$("#search_properties").val("")},n=function(){$(".list-group-item.property-item.active").index()==$(".list-group-item.property-item").last().index()?$(".next-button").hide():$(".next-button").show()},i=function(){$(".checklist-items-container").addClass("animate__animated animate__fadeOut").hide(),$(".documents-div").children().addClass("animate__animated animate__bounceOutDown"),$(".documents-div").html('<div class="h1 text-primary w-100 text-center mt-5 pt-5"><i class="fal fa-arrow-left mr-2"></i> To Begin Select A Property</div>'),$(".details-div").children().addClass("animate__animated animate__fadeOut"),t()},a=function(){var e=$(this).val();$(".review-image-div").css({width:e+"%"})};$((function(){$(".page-wrapper").removeClass("toggled").css({overflow:"hidden"}),$(".show-sidebar").css({"z-index":"3"}),$(".property-item").off("click").on("click",(function(){$(".documents-div").children().addClass("animate__animated animate__bounceOutDown"),$(".details-div").children().addClass("animate__animated animate__fadeOut"),global_loading_on("",'<div class="h4 text-white">Loading Checklist Documents...</div>');var e,t=$(this).data("id"),i=$(this).data("type");get_checklist(t,i),function(e,t){axios.get("/doc_management/get_details",{params:{id:e,type:t}}).then((function(e){$(".details-div").html(e.data),$("#EarnestHeldBy, #UsingHeritage").on("change",(function(){var e=$("#Contract_ID").val(),t=$("#EarnestHeldBy").val(),n=$("#UsingHeritage").val(),i=new FormData;i.append("Contract_ID",e),i.append("EarnestHeldBy",t),i.append("UsingHeritage",n),axios.post("/doc_management/save_earnest_and_title_details",i,axios_options).then((function(e){toastr.success("Changes Successfully Saved")})).catch((function(e){console.log(e)}))}))})).catch((function(e){}))}(t,i),e=$(this),$(".property-item").removeClass("active").addClass("list-group-item-action"),e.addClass("active").removeClass("list-group-item-action"),n()})),$("#close_checklist_button").off("click").on("click",i),$(".next-button").off("click").on("click",(function(){next_property()})),$("#search_properties").on("keyup",e),$("#cancel_search_properties").on("click",t),$("#review_contract_id").val()>0&&$('.cancellation[data-id="'+$("#review_contract_id").val()+'"]').trigger("click")})),window.next_property=function(){var e=$(".property-item.active").index();cancel=!1;$(".property-item").each((function(){0==cancel&&$(this).index()>e&&($(this).trigger("click"),cancel=!0,$(this).index())})),n()},window.get_checklist=function(e,t){$("#add_checklist_item_modal").modal("hide"),axios.get("/doc_management/get_checklist",{params:{id:e,type:t},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(i){$(".checklist-items-div").html(i.data),$(".checklist-items-container").removeClass("animate__fadeOut").show(),$(".checklist-item-name").off("click").on("click",(function(e){if($(this).hasClass("active"))return!1;var t,i,o=$(this).closest(".checklist-item-div");$(".checklist-item-div.active").removeClass("active").find(".checklist-item-name").removeClass("active"),o.addClass("active").find(".checklist-item-name").addClass("active"),t=$(this).data("checklist-item-id"),i=$(this).data("checklist-item-name"),axios.get("/doc_management/get_documents",{params:{checklist_item_id:t,checklist_item_name:i},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".checklist-item-docs-div").remove(),$(".documents-div").html(e.data).show(),$(".checklist-item-notes-div").collapse("hide"),$(".documents-list").hide(),$(".list-group-item.checklist-item-div").find(".documents-list").html(""),$(".checklist-item-docs-div").length>0&&$(".list-group-item.checklist-item-div.active").find(".documents-list").show().append('<div class="font-weight-bold text-primary border-bottom mb-2 pb-1">Documents</div>').append($(".checklist-item-docs-div")).find(".document-link").on("click",(function(){var e=$(this).data("document-id");$(".review-image-container").scrollTop(0),$(".review-image-container").animate({scrollTop:$("#document_"+e).offset().top-70},"fast")})),$(".accept-checklist-item-button, .reject-checklist-item-button, .undo-accepted, .undo-rejected").data("checklist-item-id",t),$(".accept-checklist-item-button").off("click").on("click",(function(){checklist_item_review_status($(this),"accepted",null)})),$(".reject-checklist-item-button").off("click").on("click",(function(){show_checklist_item_review_status($(this),"rejected")})),$(".undo-accepted, .undo-rejected").off("click").on("click",(function(){checklist_item_review_status($(this),"not_reviewed",null)})),$(".next-button").off("click").on("click",(function(){next_property()})),$(".email-agent-button").off("click").on("click",(function(){reset_email(),show_email_agent()})),text_editor({menubar:!1,statusbar:!1,toolbar:!1}),$("#zoom").slider({formatter:function(e){return e+"%"}}),$("#zoom").on("input change",a),$("#scroll_up").off("click").on("click",(function(){document.querySelector(".review-image-container").scrollBy({top:-500,left:0,behavior:"smooth"})})),$("#scroll_down").off("click").on("click",(function(e){document.querySelector(".review-image-container").scrollBy({top:500,left:0,behavior:"smooth"})})),n()})).catch((function(e){}))})),$(".notes-div").each((function(){get_notes($(this).data("checklist-item-id"))}));var o="",r=!1;if($(".checklist-item-div.pending").length>0||$(".checklist-item-div.notes-unread").length>0){var s="1000",l="1000";$(".checklist-item-div.pending").length>0&&(s=$(".checklist-item-div.pending").eq(0).index()),$(".checklist-item-div.notes-unread").length>0&&(l=$(".checklist-item-div.notes-unread").eq(0).index()),s<l?o=$(".checklist-item-div.pending"):(o=$(".checklist-item-div.notes-unread"),r=!0)}else o=$(".checklist-item-div");o.eq(0).find(".checklist-item-name").trigger("click"),setTimeout((function(){r&&o.eq(0).find(".checklist-item-notes-div").collapse("show")}),1e3),function(e){var t=e.prop("id");$(".checklist-items-container").scrollTop(0),$(".checklist-items-container").animate({scrollTop:$("#"+t).offset().top-150},"fast")}(o),$(".notes-toggle").off("click").on("click",(function(){$(this).closest(".checklist-item-div").find(".checklist-item-name").trigger("click")})),$(".modal").each((function(){$(this).appendTo("body")})),$(".mark-required").off("click").on("click",(function(){mark_required($(this),$(this).data("checklist-item-id"),$(this).data("required"))})),$(".remove-checklist-item").off("click").on("click",(function(){show_remove_checklist_item($(this),$(this).data("checklist-item-id"))})),$(".add-checklist-item-button").off("click").on("click",show_add_checklist_item),$(".save-notes-button").off().on("click",save_add_notes),$("#property_id").val(e),$("#property_type").val(t),setTimeout((function(){global_loading_off()}),1500)})).catch((function(e){}))}}},6297:()=>{if(document.URL.match(/employees/)){var e=function(e,t){e.getCroppedCanvas({width:300,height:400,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}),e.getCroppedCanvas().toBlob((function(i){var a=new FormData,o=$("#id").val(),r=$("#emp_type").find("option:selected").data("type");a.append("cropped_image",i),a.append("emp_id",o),a.append("emp_type",r),axios.post("/employees/save_cropped_upload",a,axios_options).then((function(i){e.destroy(),$("#crop_modal").modal("hide"),$("#photo_location").attr("src",i.data.path),$(".has-photo").removeClass("hidden"),$(".no-photo").addClass("hidden"),t.removeFiles(),$("#save_crop_button").html('<i class="fad fa-save mr-2"></i> Save'),n(r,"yes")})).catch((function(e){console.log(e)}))}),"image/png")},t=function(){var e=$("#id").val(),t=$("#emp_type").find("option:selected").data("type"),i=new FormData;i.append("emp_id",e),i.append("emp_type",t),axios.post("/employees/delete_photo",i,axios_options).then((function(e){$("#photo_location").attr("src",""),$(".has-photo").addClass("hidden"),$(".no-photo").removeClass("hidden"),n(t,"yes")})).catch((function(e){console.log(e)}))},n=function(e,t){axios.get("/employees/get_employees",{params:{emp_type:e,active:t}}).then((function(t){$("#"+e+"_div").html(t.data),data_table(25,$(".employees-table"),[1,"asc"],[0,6],[],!0,!0,!0,!0,!0,!1)})).catch((function(e){}))},i=function(e){$("#edit_employee_modal").find("input, select").val("").trigger("change"),$("#edit_employee_modal").modal("show"),$(".agent-docs-div").html(""),$(".edit-div").addClass("hidden"),$(".add-div").addClass("hidden"),e?($(".edit-div").removeClass("hidden"),$("#edit_employee_modal_title").html('Edit Employee - <span class="text-gray">'+e.data("first_name")+" "+e.data("last_name")+"</span>"),$.each(e.data(),(function(e,t){"photo_location"!=e&&$("#"+e).val(t)})),""!=e.data("photo_location")?($("#photo_location").attr("src",e.data("photo_location")),$(".has-photo").removeClass("hidden"),$(".no-photo").addClass("hidden")):($(".has-photo").addClass("hidden"),$(".no-photo").removeClass("hidden")),$("#email_orig").val(e.data("email")),$(".edit-col").show(),o()):($(".add-div").removeClass("hidden"),$("#edit_employee_modal_title").text("Add Employee"),$(".edit-col").hide()),$("#save_edit_employee_button").off("click").on("click",a)},a=function(){var e=$("#edit_employee_form");if("yes"==validate_form(e)){var t=$("#emp_type").find("option:selected").data("type"),i=new FormData(e[0]);axios.post("/employees/save_employee",i,axios_options).then((function(e){if("error"==e.data.status&&"exists"==e.data.message)return $("#modal_danger").modal().find(".modal-body").html("The email address is already being used by another user."),!1;$("#edit_employee_modal").modal("hide"),toastr.success("Employee Successfully Saved"),n(t,"yes"),""==$("#id").val()&&($("#employee_saved_modal").modal("show"),$("#employee_saved_button").on("click",(function(){$("#employee_saved_modal").modal("hide"),setTimeout((function(){var t=e.data.emp_id;$('.edit-employee-button[data-id="'+t+'"]').trigger("click")}),500)})))})).catch((function(e){}))}},o=function(){var e=$("#id").val(),t=$("#emp_type").find("option:selected").data("type");axios.get("/employees/get_docs",{params:{emp_id:e,emp_type:t}}).then((function(e){$(".agent-docs-div").html(e.data),$(".delete-doc-button").off("click").on("click",(function(){r($(this).data("doc-id"),"no")})),$(".restore-doc-button").off("click").on("click",(function(){r($(this).data("doc-id"),"yes")}))})).catch((function(e){console.log(e)}))},r=function(e,t){var n=new FormData,i=$("#emp_type").find("option:selected").data("type");n.append("doc_id",e),n.append("emp_type",i),n.append("active",t),axios.post("/employees/delete_doc",n,axios_options).then((function(e){o()})).catch((function(e){console.log(e)}))};$((function(){n("in_house","yes"),n("transaction_coordinator","yes"),$(document).on("click","#add_employee_button",(function(){i(null)})),$(document).on("click",".edit-employee-button",(function(){i($(this))})),$(document).on("click",".delete-image-button",t),$("#show_active").on("change",(function(){n($(".employee-nav-link.active").data("type"),$(this).val())}));var a=document.getElementById("agent_photo_file"),r=FilePond.create(a);r.setOptions({allowImagePreview:!1,server:{process:{url:"/filepond_upload"}},labelIdle:'Drag & Drop here or<br><span class="filepond--label-action"> Browse </span>',onpreparefile:function(t,n){var i=new Image;i.src=URL.createObjectURL(n),i.id="crop_image";var a=i.naturalWidth,o=i.naturalHeight;$("#crop_modal").find(".crop-container").html(i),function(t,n,i){$("#crop_modal").modal("show"),$("#crop_modal").on("hidden.bs.modal",(function(){i.removeFiles()}));var a=document.querySelector("#crop_image"),o=new Cropper(a,{aspectRatio:3/4,minContainerHeight:n,minContainerWidth:t,minCanvasHeight:n,minCanvasWidth:t});$("#save_crop_button").off("click").on("click",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving Image...'),e(o,i)})),$("#crop_modal").on("hidden.bs.modal",(function(){i.removeFiles()}))}(a,o,r)},onprocessfile:function(e,t){}});var s=document.getElementById("agent_docs_file"),l=FilePond.create(s);l.setOptions({allowImagePreview:!1,multiple:!0,server:{process:{url:"/employees/docs_upload",onerror:function(e){return e.data},ondata:function(e){return e.append("emp_id",$("#id").val()),e.append("emp_type",$("#emp_type option:selected").data("type")),e}}},labelIdle:'Drag & Drop here or <span class="filepond--label-action"> Browse </span>',onprocessfiles:function(){l.removeFiles(),o()}}),$(".filepond--credits").hide()}))}},5790:()=>{(document.URL.match(/esign$/)||document.URL.match(/esign_show_sent/))&&$((function(){if(document.URL.match(/esign_show_sent$/)){$("#modal_success").modal().find(".modal-body").html("Your Documents Were Successfully Sent For Signatures"),history.pushState(null,null,"/esign");var e=0,t=setInterval((function(){n("in_process"),5==++e&&window.clearInterval(t)}),1e3)}function n(e){var t=$("#envelope_id").val();axios.get("/esign/get_"+e,{params:{envelope_id:t},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(t){$("#"+e+"_div").html(t.data),"drafts"==e?(data_table("10",$("#drafts_table"),[4,"desc"],[0,5],[],!1,!0,!0,!0,!0),$(".delete-draft-button").off("click").on("click",(function(){!function(e){var t=e.data("envelope-id"),i=new FormData;i.append("envelope_id",t),axios.post("/esign/delete_draft",i,axios_options).then((function(t){e.closest("tr").fadeOut(),n("deleted_drafts"),setTimeout((function(){e.closest("tr").remove()}),800)})).catch((function(e){console.log(e)}))}($(this))}))):"deleted_drafts"==e?(data_table("10",$("#deleted_drafts_table"),[4,"desc"],[0],[],!1,!0,!0,!0,!0),$(".restore-draft-button").off("click").on("click",(function(){!function(e){var t=e.data("envelope-id"),i=new FormData;i.append("envelope_id",t),axios.post("/esign/restore_draft",i,axios_options).then((function(e){n("deleted_drafts"),n("drafts")})).catch((function(e){console.log(e)}))}($(this))})),setTimeout((function(){$(".show-deleted-drafts").addClass("hidden"),$("#deleted_drafts_count").val()>0?$(".show-deleted-drafts").removeClass("hidden"):$("#deleted_drafts_div").collapse("hide")}),200)):"in_process"==e?(data_table("10",$("#in_process_table"),[4,"desc"],[5],[],!1,!0,!0,!0,!0),$(".cancel-envelope-button").off("click").on("click",(function(){i($(this))})),$(".resend-envelope-button").off("click").on("click",(function(){a($(this))}))):"completed"==e?data_table("10",$("#completed_table"),[4,"desc"],[0,5],[],!1,!0,!0,!0,!0):"templates"==e?(data_table("10",$("#templates_table"),[4,"desc"],[0,5],[],!1,!0,!0,!0,!0),$(".delete-template-button").off("click").on("click",(function(){var e,t,i;e=$(this),t=e.data("template-id"),(i=new FormData).append("template_id",t),axios.post("/esign/delete_template",i,axios_options).then((function(t){e.closest("tr").fadeOut(),n("deleted_templates"),setTimeout((function(){e.closest("tr").remove()}),800)})).catch((function(e){console.log(e)}))}))):"deleted_templates"==e?(data_table("10",$("#deleted_templates_table"),[4,"desc"],[0],[],!1,!0,!0,!0,!0),$(".restore-template-button").off("click").on("click",(function(){var e,t,i;e=$(this),t=e.data("template-id"),(i=new FormData).append("template_id",t),axios.post("/esign/restore_template",i,axios_options).then((function(e){n("deleted_templates"),n("templates")})).catch((function(e){console.log(e)}))})),setTimeout((function(){$(".show-deleted-templates").addClass("hidden"),$("#deleted_templates_count").val()>0?$(".show-deleted-templates").removeClass("hidden"):$("#deleted_templates_div").collapse("hide")}),200)):"system_templates"==e?(data_table("10",$("#system_templates_table"),[3,"desc"],[0,4],[],!1,!0,!0,!0,!0),$(".delete-system-template-button").off("click").on("click",(function(){var e,t,i;e=$(this),t=e.data("template-id"),(i=new FormData).append("template_id",t),axios.post("/esign/delete_system_template",i,axios_options).then((function(t){e.closest("tr").fadeOut(),n("deleted_system_templates"),setTimeout((function(){e.closest("tr").remove()}),800)})).catch((function(e){console.log(e)}))}))):"deleted_system_templates"==e?(data_table("10",$("#deleted_system_templates_table"),[3,"desc"],[0],[],!1,!0,!0,!0,!0),$(".restore-system-template-button").off("click").on("click",(function(){var e,t,i;e=$(this),t=e.data("template-id"),(i=new FormData).append("template_id",t),axios.post("/esign/restore_system_template",i,axios_options).then((function(e){n("deleted_system_templates"),n("system_templates")})).catch((function(e){console.log(e)}))})),setTimeout((function(){$(".show-deleted-system-templates").addClass("hidden"),$("#deleted_system_templates_count").val()>0?$(".show-deleted-system-templates").removeClass("hidden"):$("#deleted_system_templates_div").collapse("hide")}),200)):"canceled"==e&&data_table("10",$("#canceled_table"),[4,"desc"],[0],[],!1,!0,!0,!0,!0)})).catch((function(e){console.log(e)}))}function i(e){$("#confirm_cancel_modal").modal("show"),$("#confirm_cancel_button").off("click").on("click",(function(){$("#confirm_cancel_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Cancelling'),envelope_id=e.data("envelope-id"),e.find("i").addClass("fa-spin");var t=new FormData;t.append("envelope_id",envelope_id),axios.post("/esign/cancel_envelope",t,axios_options).then((function(e){setTimeout((function(){n("in_process"),n("canceled"),$("#confirm_cancel_modal").modal("hide")}),1e3),toastr.success("Signature Request Canceled")})).catch((function(e){console.log(e)}))}))}function a(e){$("#resend_envelope_modal").modal("show"),$("#resend_envelope_button").off("click").on("click",(function(){$("#resend_envelope_button").html('<span class="spinner-border spinner-border-sm mr-2"></span> Resending'),envelope_id=e.data("envelope-id"),singer_id=e.data("signer-id"),e.find("i").addClass("fa-spin");var t=new FormData;t.append("envelope_id",envelope_id),t.append("singer_id",singer_id),axios.post("/esign/resend_envelope",t,axios_options).then((function(e){n("in_process"),$("#resend_envelope_modal").modal("hide"),$("#resend_envelope_button").html('<i class="fal fa-check mr-2"></i> Confirm</a>'),"document_deleted"==e.data.status?$("#modal_info").modal().find(".modal-body").html("The document you were trying to send was already canceled. It may have expired or been declined by a signer. It has been moved to the Canceled folder"):toastr.success("Signature Request Resent")})).catch((function(e){console.log(e)}))}))}setInterval((function(){n("in_process")}),5e3),n("in_process"),$("#esign_tabs .nav-link").on("click",(function(){n($(this).data("tab")),"drafts"==$(this).data("tab")?n("deleted_drafts"):"templates"==$(this).data("tab")?n("deleted_templates"):"system_templates"==$(this).data("tab")&&n("deleted_system_templates")}))}))},6398:()=>{function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(document.URL.match(/esign_add_documents/)||document.URL.match(/esign_add_template_documents/))&&$((function(){function t(){var t=$("#is_template").val(),n=$("#from_upload").val(),i="";if("yes"==t){var a=$(".template-name-div");if("yes"!=validate_form(a))return!1;i=$("#template_name").val()}$("#create_envelope_button").prop("disabled",!0).html('Adding Documents <span class="spinner-border spinner-border-sm ml-2"></span>'),$(".notification").removeClass("hidden");var o=$("#Listing_ID").val()>0?$("#Listing_ID").val():0,r=$("#Contract_ID").val()>0?$("#Contract_ID").val():0,s=$("#Referral_ID").val()>0?$("#Referral_ID").val():0,l=$("#transaction_type").val(),c=$("#Agent_ID").val(),d=$("#User_ID").val(),u=[];$(".upload-li").each((function(){var t,n,i,a,o,r,s=(e(r={template_id:null!==(t=$(this).data("template-id"))&&void 0!==t?t:0,upload_id:null!==(n=$(this).data("upload-id"))&&void 0!==n?n:0,document_id:null!==(i=$(this).data("document-id"))&&void 0!==i?i:0,template_applied_id:null!==(a=$(this).data("template-applied-id"))&&void 0!==a?a:0,file_type:$(this).data("file-type"),file_name:$(this).data("file-name")},"document_id",null!==(o=$(this).data("document-id"))&&void 0!==o?o:0),e(r,"file_location",$(this).data("file-location")),r);u.push(s)})),u=JSON.stringify(u);var f=new FormData;f.append("is_template",t),f.append("from_upload",n),f.append("template_name",i),f.append("Listing_ID",o),f.append("Contract_ID",r),f.append("Referral_ID",s),f.append("transaction_type",l),f.append("Agent_ID",c),f.append("User_ID",d),f.append("file_data",u),axios.post("/esign/esign_create_envelope",f,axios_options).then((function(e){window.location="/esign/esign_add_signers/"+e.data.envelope_id+"/"+e.data.is_template+"/"+e.data.template_id})).catch((function(e){console.log(e)}))}$("#esign_file_upload").off("change").on("change",(function(){if(""!=$("#esign_file_upload").val()){global_loading_on("",'<div class="h5 text-white">Adding Documents</div>');var e=$("#upload_form"),t=new FormData(e[0]);axios_options.header={"content-type":"multipart/form-data"},axios.post("/esign/upload",t,axios_options).then((function(e){$("#esign_file_upload").val(""),e.data.docs_to_display.forEach((function(e){var t=e.file_name,n=e.file_location,i=e.image_location,a="";"no"==$("#is_template").val()&&(a='                             <div class="ml-sm-3 mr-4 template-status">                                 <a href="javascript: void(0)" class="btn btn-sm btn-primary show-apply-template-button"><i class="fal fa-plus mr-2 fa-lg"></i> Add Template</a>                             </div>                             ');var o='                         <li class="list-group-item upload-li" data-file-location="'+n+'" data-file-type="user" data-file-name="'+t+'" data-template-id="" data-template-applied-id="">                             <div class="d-sm-flex justify-content-between align-items-center">                                 <div class="d-flex justify-content-start align-items-center">                                     <div class="file-preview mr-4 file-handle">                                         <i class="fal fa-bars text-primary fa-lg"></i>                                     </div>                                     <div class="file-preview mr-2 file-handle d-none d-sm-inline-block">                                         <img src="'+i+'" style="height: 60px">                                     </div>                                     <div>                                         <a href="'+n+'" target="_blank">'+shorten_text(t,35)+'</a>                                     </div>                                 </div>                                 <div class="d-flex justify-content-end align-items-center mt-2 mt-sm-0">                                     '+a+'                                     <div class="ml-2 pl-3 border-left">                                         <a href="javascript: void(0)" class="remove-upload-button"><i class="fal fa-times text-danger fa-2x"></i></a>                                     </div>                                 </div>                             </div>                         </li>                         ';$("#uploads_div").append(o)})),$(".upload-li").data("index",$(this).index()),$("#uploads_div li").length>0&&($("#uploads_container").removeClass("hidden"),$(".next-div").removeClass("hidden"),global_loading_off())})).catch((function(e){}))}})),$(document).on("click",".remove-upload-button",(function(){$(this).closest("li").fadeOut("slow"),setTimeout((function(){$(this).closest("li").remove()}),800)})),$(document).on("click","#create_envelope_button",t),$(document).on("click",".show-apply-template-button",(function(e){var t,n;t=$(this),n=t.closest(".upload-li"),$("#add_template_modal").modal("show"),$(document).on("click",".apply-template-button",(function(){var e=$(this).data("template-id");n.data("template-applied-id",e),$("#add_template_modal").modal("hide");var t='                 <div class="no-wrap teplate-applied">                     <span class="text-success"><i class="fal fa-check mr-2"></i> <span class="font-8">Template Applied</span></span>                     <br>                     <div class="d-flex justify-content-end edit-template-options">                     <a href="javascript: void(0)" class="show-apply-template-button small">Edit <i class="fad fa-pencil ml-1"></i></a>                     <a href="javascript: void(0)" class="remove-template-button small text-danger ml-3">Remove <i class="fal fa-times ml-1"></i></a>                     </div>                 </div>                 ';n.find(".template-status").html(t)}))})),$(document).on("click",".remove-template-button",(function(e){var t,n;t=$(this),(n=t.closest(".upload-li")).data("template-applied-id",""),n.find(".edit-template-options").remove(),$(".template-applied").html('<a href="javascript: void(0)" class="btn btn-sm btn-primary show-apply-template-button"><i class="fal fa-plus mr-2 fa-lg"></i> Add Template</a>')})),$("#uploads_div").sortable({handle:".file-handle"}),data_table("10",$("#templates_table"),[1,"asc"],[0],[],!1,!0,!0,!0),"yes"==$("#from_upload").val()&&(t(),global_loading_on("",'<h4 class="text-white">Importing Documents...</h4>'))}))},2368:()=>{document.URL.match(/esign_add_fields/)&&$((function(){$(document).on("click",".file-view-thumb-container",(function(){$(".file-view-thumb-container").removeClass("active"),$(this).addClass("active");var e=$(this).data("id");window.location="#page_"+e})),$(document).on("click",".field-div",(function(){$(this).hasClass("show")||(l(),$(this).addClass("show"),$(this).find(".form-select-dropdown").hasClass("active")||$(this).find(".form-select-dropdown").addClass("active"))})),t(),$(window).on("resize",t),$("#file_viewer").on("scroll",(function(){var e="yes";$(".file-view-page-container").each((function(){var t,n,i,a,o;"yes"==e&&(t=$(this).data("id"),n=$(this).data("page"),i=$(window).height()/2,o=(a=$(this).offset().top)+$(this).height(),a<i&&o>i&&($(".file-view-page-container").removeClass("active"),$(this).addClass("active"),$("#active_page").val(n),$(".file-view-thumb-container").removeClass("active"),$("#thumb_"+t).addClass("active"),document.getElementById("thumb_"+t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),e="no"))}))})),$("#file_viewer").off("dblclick").on("dblclick",".file-view-page-container.active .file-image-bg",(function(e){!function(e){var t=$(".edit-form-action.active").data("field-type"),n=$(".file-view-page-container.active").data("document-id"),i=$("#is_template").val();if(t){l();var a=$(e.target.parentNode),c=s(e,null,"no",t),d=c.x_perc,u=c.y_perc,f=c.h_perc,h=c.w_perc,p=Date.now(),m="";"signature"==t&&(m=parseInt(Date.now())+1),$(".field-div.show").removeClass("show");var _=r(f,h,d,u,p,$("#active_page").val(),t,n,p,i);a.append(_);var v="";"signature"==t&&(v=r(parseFloat(f)-1,12,parseFloat(d)+19,parseFloat(u)+1,m,$("#active_page").val(),"date",n,p,i),a.append(v));var g=$('.field-div.show[data-field-type="'+t+'"]'),y="";"signature"==t&&(y=$('.field-div.show[data-field-type="date"]'));var b=g.find('.signer-select-option[data-name="'+$("#active_signer").val()+'"]');"yes"==i&&(b=g.find('.signer-select-option[data-template-role="'+$("#active_signer").val()+'"]')),0==b.length&&(b=g.find(".signer-select-option:first")),b.prop("selected",!0);var w=b.data("name");"yes"==i&&(w=b.data("template-role"));var k="",E="",x="";if("signature"==t){var D=g.find('.signer-select-option[data-name="'+$("#active_signer").val()+'"]');if(0==D.length&&(D=g.find(".signer-select-option:first")),D.prop("selected",!0),E=D.data("name"),"yes"==i){var C=y.find('.signer-select-option[data-template-role="'+$("#active_signer").val()+'"]');0==C.length&&(C=g.find(".signer-select-option:first")),C.prop("selected",!0),E=C.data("template-role")}}if("signature"==t)k='<div class="field-div-details"><i class="fad fa-signature mr-2"></i> <span class="field-div-name">'+w+"</span></div>",x='<div class="field-div-details"><i class="fad fa-calendar mr-2"></i> <span class="field-div-name">'+E+"</span></div>";else if("initials"==t){k='<span class="field-div-name">'+w.match(/\b(\w)/g).join("")+"</span>"}else"date"==t?k='<div class="field-div-details"><i class="fad fa-calendar mr-2"></i>  <span class="field-div-name">'+w+"</span></div>":"name"==t?k='<div class="field-div-details"><span class="field-div-name">'+w+"</span></div>":"text"==t&&(k='<div class="field-div-details"><span class="field-div-name">Text</span></div>');g.find(".field-html").html(k),"signature"==t&&y.find(".field-html").html(x),s(null,g,"no",t),o(g,t),"signature"==t&&(s(null,y,"no","date"),o(y,"date"),$('.field-div.show[data-field-type="date"]').removeClass("show")),setTimeout((function(){g.find(".form-select-dropdown").addClass("active")}),100)}}(e)})),$(".edit-form-action").off("click").on("click",(function(){$(".text-yellow").removeClass("active text-yellow").addClass("text-primary-dark"),$(this).removeClass("text-primary-dark").addClass("active text-yellow")})),$(".file-image-bg").on("click",(function(){l()})),$(document).on("click",".close-field-button",l),$(document).on("click","#save_as_draft_button",(function(){$("#draft_modal").modal("show");var e=$("#saved_draft_name").val();""!=$("#property_address").val()&&(e=$("#property_address").val());$("#draft_name").val(e),$("#save_draft_button").off("click").on("click",i)})),$(document).on("click","#save_as_template_button",(function(){$("#template_modal").modal("show"),$("#save_template_button").off("click").on("click",n)})),$(document).on("click","#send_for_signatures_button",(function(){if($(".field-div").length>0){$("#send_for_signatures_modal").modal("show");var e=$("#saved_draft_name").val();""!=$("#property_address").val()&&(e=$("#property_address").val()),$("#envelope_subject").val(e),$("#save_send_for_signatures_button").off("click").on("click",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Sending...');var e=$("#send_for_signatures_form");"yes"==validate_form(e)&&(a(),$("#send_for_signatures_modal").modal("hide"),global_loading_on("",'<h4 class="text-white loading-text">Preparing documents...</h4>'),setTimeout((function(){$(".loading-text").append("<br><br>Sending documents...")}),4e3),setTimeout((function(){$(".loading-text").append("<br><br>Still working, please wait until done...")}),8e3))}))}else toastr.error("You must add signature fields before sending")})),$(document).on("click",".remove-field",(function(){$(this).closest(".field-div").remove()})),$(document).on("change",".signature-required",(function(){$(this).is(":checked")?$(this).closest(".field-div").addClass("required"):$(this).closest(".field-div").removeClass("required")})),$(document).on("click",".edit-signers-button",(function(){n(),window.location="/esign/esign_add_signers/0/yes/"+$("#template_id").val()})),"yes"==$("#is_template").val()?$("#active_signer").val($(".signer-select-option:first").data("template-role")):""!=$(".signer-select-option:first").val()&&$("#active_signer").val($(".signer-select-option:first").val()),$(document).on("change",".signer-select",(function(){var e=$(this);setTimeout((function(){!function(e){var t=e.closest(".field-div").data("field-type"),n=e.data("connector-id"),i=e.find("option:selected").val();"yes"==$("#is_template").val()&&(i=e.find("option:selected").data("name"));var a=i;if("initials"==t){var o=i.match(/\b(\w)/g);a=o.join("")}$('[data-connector-id="'+n+'"]').each((function(){$(this).val(i),$(this).closest(".field-div").find(".field-div-name").text(a)})),$("#active_signer").val(i)}(e)}),10)})),$(document).on("keyup change",".text-input",(function(){var e,t;e=$(this),t=e.val(),e.closest(".field-div").find(".field-html.text").text(t)})),setTimeout((function(){$(".field-div").each((function(){s(null,$(this),"yes",$(this).data("field_type")),o($(this),$(this).data("field_type"))}))}),500);var e=$("#saved_template_name").val();function t(){var e=$(window);$(".file-view-page-container").each((function(){var t=$(this).data("height"),n=$(this).data("width");t=1.2*parseFloat(t),n=1.2*parseFloat(n),e.width()<=1e3&&(t=parseFloat(t)*e.height()/1e3,n=parseFloat(n)*e.width()/1e3),console.log(t,n),$(this).css({height:t+"pt",width:n+"pt"})}))}function n(){var e=$("#template_form");if("yes"==validate_form(e)){a("no","yes");var t=$("#template_id").val(),n=$("#template_name").val();$("#saved_template_name").val(n);var i=new FormData;i.append("template_id",t),i.append("template_name",n),axios.post("/esign/save_as_template",i,axios_options).then((function(e){$("#modal_success").modal().find(".modal-body").html('Your template was successfully saved. You can find your saved Templates on your Esign Dashboard in the "templates" tab. <div class="w-100 mt-4 text-center"><a href="/esign" class="btn btn-primary">Go To Esign Dashboard <i class="fal fa-arrow-right ml-2"></i></a></div>'),$("#template_modal").modal("hide")})).catch((function(e){}))}}function i(){var e=$("#draft_form");if("yes"==validate_form(e)){a("yes","no");var t=$("#envelope_id").val(),n=$("#draft_name").val();$("#saved_draft_name").val(n);var i=new FormData;i.append("envelope_id",t),i.append("draft_name",n),axios.post("/esign/save_as_draft",i,axios_options).then((function(e){$("#modal_success").modal().find(".modal-body").html('Your draft was successfully saved. You can find your saved Drafts on your Esign Dashboard in the "Drafts" tab. <div class="w-100 mt-4 text-center"><a href="/esign" class="btn btn-primary">Go To Esign Dashboard <i class="fal fa-arrow-right ml-2"></i></a></div>'),$("#draft_modal").modal("hide")})).catch((function(e){}))}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$("#envelope_id").val(),i=$("#template_id").val(),a=$("#envelope_subject").val(),o=$("#envelope_message").val(),r=[],s=[];$(".file-view-page-container").each((function(){s.push($(this).data("document-id"))})),s=s.filter(global_array_unique);var l="yes";if($(".field-div").length>0&&$(".field-div").each((function(){var e,t,n,i=$(this),a=i.data("field-id"),o=i.data("field-type"),s=i.data("document-id"),c=null!==(e=i.find(".signer-select option:selected").data("signer-id"))&&void 0!==e?e:null,d=i.find(".signer-select").val(),u=null!==(t=i.find(".text-input").val())&&void 0!==t?t:null,f=i.find(".signature-required"),h="0";"text"!=o?f.is(":checked")&&(h="1"):""==u&&($("#field_"+a).trigger("click"),document.getElementById("field_"+a).scrollIntoView(),$(".file-view").scrollTop($(".file-view").scrollTop()-250),$("#send_for_signatures_modal").modal("hide"),$("#modal_danger").modal().find(".modal-body").html("The Text Input is required"),$("#save_send_for_signatures_button").html('Send <i class="fad fa-share-all ml-2"></i>'),l="no"),u&&(d="OWNER");var p={document_id:s,field_id:a,field_type:o,signer_id:null!=c?c:null,signer:null!==(n=d)&&void 0!==n?n:null,field_value:null!=u?u:null,required:h,page:i.data("page"),left_perc:i.data("xp"),top_perc:i.data("yp"),height_perc:i.data("hp"),width_perc:i.data("wp")};r.push(p)})),"yes"==l){var c=JSON.stringify(r),d=new FormData;d.append("envelope_id",n),d.append("template_id",i),d.append("subject",a),d.append("message",o),d.append("document_ids",s),d.append("fields",c),d.append("is_draft",e),d.append("is_template",t),axios.post("/esign/esign_send_for_signatures",d,axios_options).then((function(n){"error"==n.data.status?$("#modal_danger").modal().find(".modal-body").html("There was an error sending the documents for signatures. Please try again."):e||t||setTimeout((function(){window.location="/esign_show_sent"}),1e3)})).catch((function(e){}))}}function o(e,t){var n=e.closest(".fields-container");e.draggable({containment:n,handle:".field-handle",cursor:"grab",stop:function(e,t){s(null,$(e.target),"yes")}});var i=50;"date"==t&&(i=25),e.resizable({containment:n,handles:{nw:".ui-resizable-nw",ne:".ui-resizable-ne",se:".ui-resizable-se",sw:".ui-resizable-sw"},maxHeight:i,minHeight:25,minWidth:30,stop:function(e,t){s(null,$(e.target),"yes")}})}function r(e,t,n,i,a,o,r,s,l,c){var d=$("#signer_options_html").html();"yes"==c&&(d=$("#signer_options_template_html").html());var u="",f="",h="";return"text"==r?(u='                 <input type="hidden" class="signature-required" value="no">                 <input type="text" class="custom-form-element form-input text-input" data-label="Enter Text">                 ',h="text"):f='                 <input type="checkbox" class="custom-form-element form-checkbox signature-required" value="yes" checked data-label="Required">                 <select class="custom-form-element form-select form-select-no-search form-select-no-cancel signer-select" data-connector-id="'+l+'">                     '+d+"                 </select>                 ",'             <div class="field-div required show" style="position: absolute; top: '+i+"%; left: "+n+"%; height: "+e+"%; width: "+t+'%;" id="field_'+a+'" data-field-id="'+a+'" data-field-type="'+r+'" data-page="'+o+'" data-document-id="'+s+'">                 <div class="field-html '+h+' w-100 text-primary"></div>                 <div class="field-options-holder">                     <div class="d-flex justify-content-around">                         <div class="btn-group" role="group" aria-label="Field Options">                             <a type="button" class="btn btn-primary field-handle ml-0 pt-2"><i class="fal fa-arrows fa-lg"></i></a>                             <a type="button" class="btn btn-danger remove-field pt-2"><i class="fad fa-times-circle fa-lg"></i></a>                         </div>                     </div>                 </div>                 <div class="select-signer-div font-9 p-2">                     '+ucwords(r)+"<br>                     "+f+"                     "+u+'                 </div>                 <div class="field-handle ui-resizable-handle ui-resizable-nw"></div>                 <div class="field-handle ui-resizable-handle ui-resizable-ne"></div>                 <div class="field-handle ui-resizable-handle ui-resizable-se"></div>                 <div class="field-handle ui-resizable-handle ui-resizable-sw"></div>             </div>             '}function s(e,t,n,i){var a,o,r;if(e){a=$(e.target.parentNode),t=$(e.target);var s=e.target.getBoundingClientRect();o=parseInt(Math.round(e.clientX-s.left)),r=parseInt(Math.round(e.clientY-s.top))}else a=t.parent(),o=t.position().left,r=t.position().top;var l=c("x",o,a),d=c("y",r,a),u=2.7,f=15;if("signature"==i?f=18:"initials"==i?(u=2,f=3):"date"==i?(u=1.8,f=12):"name"==i?u=2.2:"text"==i&&(u=1.7),e&&(d-=u),h_perc="no"==n?u:(t.height()+2)/t.parent().height()*100,w_perc="no"==n?f:(t.width()+2)/t.parent().width()*100,h_perc=parseFloat(h_perc).toFixed(2),w_perc=parseFloat(w_perc).toFixed(2),t.data("hp",h_perc),t.data("wp",w_perc),t.data("xp",l),t.data("yp",d),l<0&&t.animate({left:"0%"}).data("wp","0"),l+w_perc>100){var h=100-w_perc;t.animate({left:h+"%"}).data("wp",h)}return d<0&&t.animate({top:"0%"}).data("yp","0"),setTimeout((function(){t.find(".field-options-holder, .select-signer-div").removeClass("right"),l>50&&t.find(".field-options-holder, .select-signer-div").addClass("right")}),10),{h_perc,w_perc,x_perc:l,y_perc:d}}function l(){var e=$(".field-div.show");e.length>0&&e.removeClass("show")}function c(e,t,n){return"x"==e?(100*parseFloat(t/parseFloat(n.width()))).toFixed(2):(100*parseFloat(t/parseFloat(n.height()))).toFixed(2)}$("#template_name").val(e)}))},6402:()=>{document.URL.match(/esign_add_signers/)&&$((function(){function e(e){$("."+e+"-item").each((function(){var t=$(this).index();$(this).find("."+e+"-count").text(t)}))}$(".add-signer-fields").find(".add-signer-field").on("change",(function(){""!==$(this).val()&&$(".signer-select").val("").trigger("change")})),$(".add-recipient-fields").find(".add-recipient-field").on("change",(function(){""!==$(this).val()&&$(".recipient-select").val("").trigger("change")})),$(document).on("click",".quick-add",(function(){["Seller One","Seller Two","Buyer One","Buyer Two"].forEach((function(t){var n='                 <div class="list-group-item signer-item d-flex justify-content-between align-items-center text-gray w-100" data-name="" data-email="" data-role="'+(t.match(/Seller/)?"Seller":"Buyer")+'" data-template-role="'+t+'">                     <div class="row d-flex align-items-center w-100">                         <div class="col-1 user-handle"><i class="fal fa-bars text-primary fa-lg"></i></div>                         <div class="col-1"><span class="signer-count font-11 text-orange"></span></div>                         <div class="col-3 font-weight-bold hidden"></div>                         <div class="col-2">'+t+'</div>                         <div class="col-4 hidden"></div>                     </div>                     <div class="pl-3"><button type="button" class="btn btn-danger remove-user" data-type="signer"><i class="fal fa-times fa-lg"></i></button></div>                 </div>';$(".signers-container").append(n).sortable({handle:".user-handle",stop:function(){e("signer")}})})),$(".next-div").removeClass("hidden"),e("signer")})),$(document).on("click",".save-add-user",(function(){!function(t){var n,i,a,o,r="",s="",l="",c="required",d="no";"yes"==$("#is_template").val()?(a=(n=$(".add-template-"+t+"-fields")).find(".add-"+t+"-role").val(),i=n.find(".add-"+t+"-role").val().replace(/\s(One|Two)/,""),l="hidden",c="",o=a):($("."+t+"-select").length>0&&""!=$("."+t+"-select").val()?n=$("."+t+"-select-fields"):(n=$(".add-"+t+"-fields"),d="yes"),$(".add-"+t+"-field").removeClass("required"),n.find(".add-"+t+"-field").addClass("required"),r=n.find(".add-"+t+"-name").val(),(s=n.find(".add-"+t+"-email").val()).length>25&&(s=s.substring(0,25)+"..."),o=i=n.find(".add-"+t+"-role").val());if("yes"==validate_form(n)){$("#add_"+t+"_div").collapse("hide");var u='                 <div class="list-group-item '+t+'-item d-flex justify-content-between align-items-center text-gray w-100" data-name="'+r+'" data-email="'+s+'" data-role="'+i+'" data-template-role="'+a+'">                     <div class="row d-flex align-items-center w-100">                         <div class="col-1 user-handle"><i class="fal fa-bars text-primary fa-lg"></i></div>                         <div class="col-1"><span class="'+t+'-count font-11 text-orange"></span></div>                         <div class="col-3 '+l+' font-weight-bold">'+r+'</div>                         <div class="col-3">'+o+'</div>                         <div class="col-4 '+l+'"><input type="text" class="custom-form-element form-input signer-email '+c+'" data-type="'+t+'" value="'+s+'" data-label="Email"></div>                     </div>                     <div class="pl-3"><button type="button" class="btn btn-danger remove-user" data-type="'+t+'"><i class="fal fa-times fa-lg"></i></button></div>                 </div>';$("."+t+"s-container").append(u).sortable({handle:".user-handle",stop:function(){e(t)}}),$(".add-"+t+"-field").removeClass("required").val(""),"yes"==d&&$(".add-"+t+"-role").val("Other"),e(t),$(".next-div").removeClass("hidden")}}($(this).data("type"))})),$(document).on("click",".remove-user",(function(){var t,n;t=$(this),n=t.data("type"),t.closest("."+n+"-item").fadeOut("slow"),setTimeout((function(){t.closest("."+n+"-item").remove(),e(n),$("."+n+"-item").length>0?$(".next-div").removeClass("hidden"):$(".next-div").addClass("hidden")}),400)})),$(document).on("keyup",".signer-email",(function(){var e=$(this).data("type");$(this).closest("."+e+"-item").data("email",$(this).val())})),$("#add_signer_div").on("shown.bs.collapse",(function(){$(".add-signer-role").addClass("required")})),$("#add_signer_div").on("hidden.bs.collapse",(function(){$(".add-signer-role").removeClass("required")})),$(document).on("click","#add_fields_button",(function(){var e=$(".page-esign-add-signers");if("yes"==validate_form(e)){$("#add_fields_button").prop("disabled",!0).html('Adding Signers <span class="spinner-border spinner-border-sm ml-2"></span>');var t=$("#envelope_id").val(),n=$("#template_id").val(),i=$("#is_template").val(),a=[],o=0;$(".signer-item").each((function(){var e,t={order:o,id:null!==(e=$(this).data("id"))&&void 0!==e?e:null,name:$(this).data("name"),email:$(this).data("email"),role:$(this).data("role"),template_role:$(this).data("template-role")};a.push(t),o+=1})),a=JSON.stringify(a);var r=[];o=0,$(".recipient-item").each((function(){var e,t={order:o,id:null!==(e=$(this).data("id"))&&void 0!==e?e:null,name:$(this).data("name"),email:$(this).data("email"),role:$(this).data("role"),template_role:$(this).data("template-role")};r.push(t),o+=1})),r=JSON.stringify(r);var s=new FormData;s.append("is_template",i),s.append("envelope_id",t),s.append("template_id",n),s.append("signers_data",a),s.append("recipients_data",r),axios.post("/esign/esign_add_signers_to_envelope",s,axios_options).then((function(e){window.location="/esign/esign_add_fields/"+e.data.envelope_id+"/"+i+"/"+n})).catch((function(e){console.log(e)}))}})),$(".signer-recipient-select").off("change").on("change",(function(){var e=$(this).data("type");if(""!=$(this).val()){$(".add-"+e+"-fields").find(".add-"+e+"-field").val("").trigger("change");var t=$(this).find("option:selected");$("."+e+"-select-fields").removeClass("hidden"),$("."+e+"-select-fields").find(".add-"+e+"-name").val(t.data("name")),$("."+e+"-select-fields").find(".add-"+e+"-email").val(t.data("email")),$("."+e+"-select-fields").find(".add-"+e+"-role").val(t.data("member-type"))}else $("."+e+"-select-fields").addClass("hidden"),$("."+e+"-select-fields").find(".add-"+e+"-field").val("").trigger("change")})),$(".signers-container").sortable({handle:".user-handle",stop:function(){e("signer")}}),e("signer"),$(".recipients-container").sortable({handle:".user-handle",stop:function(){e("recipient")}}),e("recipient"),$(".collapse").on("shown.bs.collapse",(function(){$("#add_fields_button").prop("disabled",!0)})),$(".collapse").on("hidden.bs.collapse",(function(){$("#add_fields_button").prop("disabled",!1)}))}))},2247:(e,t,n)=>{var i=n(3999);function a(e){var t=e.closest(".form-ele"),n=(t.find("select"),e.next(".form-select-dropdown")),i=n.find(".form-select-options-div");$(".form-select-value-input").removeClass("form-select-value-input-focus"),t.find(".form-select-li").removeClass("hidden");var a=n.find(".form-select-li.active");a.length>0&&setTimeout((function(){i.scrollTop(0),i.scrollTop(a.position().top-40)}),10),0==t.find("select").prop("disabled")&&(n.hasClass("active")?(n.removeClass("active"),""==e.val()&&e.prev("label").removeClass("active")):(o(),n.addClass("active"),e.addClass("form-select-value-input-focus"),n.find(".form-select-search-input").focus()))}function o(){$(".form-select-dropdown.active").length>0&&($(".form-select-dropdown.active").removeClass("active").find(".form-select-search-input").val("").trigger("change"),$(".form-select-value-input-focus").removeClass("form-select-value-input-focus"),$(".form-select-value-input").each((function(){""==$(this).val()?$(this).prev("label").removeClass("active"):$(this).prev("label").addClass("active")})),$(".form-select-li.matched").removeClass("matched").show(),$(".form-select-matched-option").removeClass("form-select-matched-option"))}function r(e,t,n){if(""!=t){var i=.12;0==n&&(i=.12);var a=Math.round(parseInt(e.width())*i);t.length>a&&(t=t.substring(0,a)+"..."),e.val(t).trigger("change")}}function s(e,t){var n=[];e.find('input[type="checkbox"]:checked').each((function(){n.push($(this).data("text"))}));var i="";n.length>0&&(i=n.join(", ")),""!=i?t.closest(".form-ele").find(".form-select-label").addClass("active"):t.closest(".form-ele").find(".form-select-label").removeClass("active"),r(t,i,!0)}setInterval((function(){$(".custom-form-element").each((function(){0==$(this).closest(".form-ele").length&&form_elements()}))}),100),function(e){var t=e.fn.val;e.fn.val=function(){var n;arguments.length>0&&(n=t.apply(this,[]));var i=t.apply(this,arguments);return arguments.length>0&&n!=t.apply(this,[])&&e(this).change(),i}}(jQuery),$(document).on("change",".custom-form-element",(function(){if(!$(this).hasClass("form-input-checkbox")){var e=$(this).closest(".form-ele").find("label");""!=$(this).val()?e.addClass("active"):e.removeClass("active"),$(this).hasClass("form-select")&&$(this).val()!=$(this).next(".form-select-wrapper").find(".form-select-value-input").val()&&select_refresh($(this),null)}})),$(document).on("focus","input.custom-form-element, textarea.custom-form-element",(function(e){$(this).hasClass("form-input-file")||(e.stopImmediatePropagation(),$(this).next("label").addClass("active"),o())})),$(document).on("blur",".custom-form-element",(function(){""==$(this).val()&&$(this).next("label").removeClass("active")})),$(document).on("change",".custom-file-input",(function(){var e=$(this).val().split("\\").pop();""!=$(this).val()?($(this).siblings(".custom-file-label").addClass("selected").html(e),$(this).siblings(".form-input-label").addClass("active")):($(this).siblings(".custom-file-label").removeClass("selected").html(""),$(this).siblings(".form-input-label").removeClass("active"))})),window.form_elements=function(){["form-input","form-textarea","form-select","form-checkbox","form-radio","form-input-file","form-input-color"].map((function(e,t){$("."+e).each((function(){t+=1;var n=$(this),i="multiple"==n.attr("multiple")||1==n.attr("multiple");if(0==n.closest(".form-ele").length){var a=Math.floor(1e15*Math.random())+1e10;$("#"+a).length>0&&(console.log("ERROR: There are multiple elements with the same id"),a+=t);var l="input_"+a;null!=n.attr("id")?l=n.attr("id"):n.attr("id",l);var c="";""!=n.val()&&(c="active");var d=n.data("label"),u="";d||(d="",u="hidden"),d.match(/='/)&&(d=d.replace(/'/g,'"'));var f=n.hasClass("form-small")?"form-small":"",h=n.hasClass("form-large")?"form-large":"",p=n.hasClass("date-field")?"date-field":"";$(document).width()<576&&(h="",$(".form-large").removeClass("form-large"));var m=n.hasClass("form-wide")?"form-wide":"";if(n.show(),"form-input"==e||"form-textarea"==e)n.wrap('<div class="form-ele '+f+" "+h+'"></div>').parent(".form-ele").append('<label for="'+l+'" class="'+e+"-label "+c+" "+f+" "+h+" "+p+" "+u+'">'+d+"</label>");else if("form-input-file"==e)n.addClass("custom-file-input"),n.wrap('<div class="form-ele custom-file '+f+" "+h+'"></div>').parent(".form-ele").append('<label for="'+l+'" class="'+e+"-label "+c+" "+f+" "+h+" "+u+' custom-file-label"></label><label for="'+l+'" class="form-input-label '+c+'">'+d+"</label>");else if("form-checkbox"==e)n.wrap('<div class="form-ele"><div class="pretty p-svg p-smooth"></div></div>').parent(".pretty").append('<div class="state p-success"><svg class="svg svg-icon" viewBox="0 0 20 20"><path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path></svg><label for="'+l+'" class="form-check-label '+e+"-label "+c+'">'+d+"</label></div>");else if("form-radio"==e)n.wrap('<div class="form-ele pretty p-default p-thick p-round p-smooth"></div>').parent(".form-ele").append('<div class="state p-primary-o"><label for="'+l+'" class="form-check-label '+e+"-label "+c+'">'+d+"</label></div>");else if("form-input-color"==e){var _=$(this).val(),v="add-resource-color";$(this).hasClass("edit-resource-color")&&(v="edit-resource-color");var g='                         <div class="form-ele">                             <div class="colorpicker-div d-flex justify-content-between">                                 <div class="colorpicker-text">'+d+'</div>                                 <label class="colorpicker-label"><input type="color" class="'+v+' colorpicker" value="'+_+'" data-default-value="'+_+'"></label>                             </div>                         </div>                         ',y=n.parent();n.remove(),y.html(g)}else if("form-select"==e){n.wrap('<div class="form-ele '+f+" "+h+' select"></div>');var b=n.parent();n.hide();var w="";1==n.prop("disabled")&&(w="disabled");var k="";""==w&&(k='<div class="form-select-value-cancel"><i class="fal fa-times"></i></div>');var E='                         <div class="form-select-wrapper">                             '+k+'                             <label class="'+e+"-label "+f+" "+h+" "+u+'" for="select_value_'+a+'">'+d+'</label>                             <input type="text" class="form-select-value-input caret '+w+'" id="select_value_'+a+'" readonly '+w+'>                             <div class="form-select-dropdown shadow '+m+'">                         ';E+='                                 <div class="form-select-search-div">                                     <input type="text" class="form-select-search-input" placeholder="Search">                                 </div>                             ',E+='                                 <div class="form-select-options-div">                                     <ul class="form-select-ul"></ul>                                 </div>                             </div >                         </div>                         ',b.append(E);var x=b.find(".form-select-value-input"),D="";n.children("option").map((function(e,t){var n=(t=$(t)).prop("value");if(""!=n){var o="",r=t.text();1!=t.prop("selected")&&"selected"!=t.prop("selected")||(o="active",D=r);var s=r,l="";if(i){var c="checked"==t.prop("selected")||1==t.prop("selected")?"checked":"";s='                                     <div class="mt-1 mb-1 pretty p-default p-pulse">                                         <input type="checkbox" class="form-check-input select-checkbox" id="check_'+a+"_"+e+'" data-index="'+e+'" data-value="'+n+'" data-text="'+r+'" '+c+'>                                         <div class="state p-primary-o">                                             <label class="form-check-label" for="check_'+a+"_"+e+'">'+r+"</label>                                         </div>                                     </div >                                     ",l="form-check-input-multiple"}var d='<li class="form-select-li '+o+" "+l+'" data-index="'+e+'" data-value="'+n+'" data-text="'+r+'">'+s+"</li>";b.find(".form-select-ul").append(d)}})),""!=n.val()&&(i||x.val(D).trigger("change"),n.hasClass("form-select-no-cancel")||(""==b.find(".form-select-value-input").val()?(b.find(".form-select-value-input").addClass("caret"),b.find(".form-select-value-cancel").hide()):(b.find(".form-select-value-input").removeClass("caret"),b.find(".form-select-value-cancel").show())),b.find("label").addClass("active")),i&&(b.find(".form-select-dropdown").append('<div class="w-100 form-select-save-div"><div class="d-flex d-flex justify-content-center p-0"><a href="javascript: void(0)" class="form-select-multiple-save btn btn-primary btn-sm">Close</a></div></div>'),$(".form-select-multiple-save").on("click",(function(){setTimeout((function(){o()}),100)})),s(b,x)),n.hasClass("form-select-no-cancel")||b.find(".form-select-value-cancel").on("click",(function(){n.val("").find("option").attr("selected",!1),n.trigger("change"),b.find(".form-select-value-input").val("").trigger("change"),b.find("label").removeClass("active"),b.find("li").removeClass("active"),b.find(".form-select-value-cancel").hide(),b.find(".form-select-value-input").addClass("caret"),b.find(".form-check-input").prop("checked",!1),o()})),n.hasClass("form-select-no-search")&&b.find(".form-select-search-div, .form-select-search-input").css({opacity:"0",height:"0px"}),function(e,t,n,i){var a=e.find(".form-select-search-input");a.on("keydown",(function(a){"Tab"==a.key&&(e.find(".form-select-matched-option").length>0&&(a.preventDefault(),i?($(".form-select-matched-option input").prop("checked",!0),n.find("option").eq($(".form-select-matched-option").data("index")).attr("selected",!0),$(".form-select-matched-option").addClass("active"),s(e,t)):e.find(".form-select-matched-option").trigger("click"),n.hasClass("form-select-no-cancel")||(t.siblings(".form-select-value-cancel").show(),e.find(".form-select-value-input").removeClass("caret"))),o())})),a.on("keyup",(function(t){a.val().length>0?(search_regex=new RegExp(a.val(),"i"),e.find(".matched").removeClass("matched form-select-matched-option"),e.find(".form-select-li.active").removeClass("active"),n.hasClass("form-select-no-search")||e.find(".form-select-li").addClass("hidden"),e.find(".form-select-li").each((function(){$(this).data("text").match(search_regex)?$(this).addClass("matched").removeClass("hidden"):($(this).removeClass("matched"),n.hasClass("form-select-no-search")||$(this).addClass("hidden"))})),e.find(".matched").first().addClass("form-select-matched-option")):(e.find(".form-select-li").show(),e.find(".form-select-matched-option").removeClass("form-select-matched-option"))}))}(b,x,n,i),b.find(".form-select-li").on("click",(function(){if($(this).hasClass("form-check-input-multiple"))set_multiple_select($(this));else{o();var e=$(this),t=e.data("value"),i=e.data("text"),a=e.closest(".form-ele").find(".form-select-value-input"),s=e.closest(".form-ele").find(".form-select-dropdown"),l=e.closest(".form-ele").find(".form-select");$(".form-select-matched-option").removeClass("form-select-matched-option"),a.val(i),r(a,i,!1),a.trigger("change"),b.find("label").addClass("active"),s.find(".form-select-li").removeClass("active"),e.addClass("active"),l.val(t)}n.hasClass("form-select-no-cancel")||(x.siblings(".form-select-value-cancel").show(),b.find(".form-select-value-input").removeClass("caret"))}))}if("form-checkbox"!=e&&"form-radio"!=e&&(n.hasClass("required")&&("form-select"==e?$(this).next("div").find(".form-select-value-input").addClass("required-form-ele"):"form-input-file"==e&&$(this).next("label").addClass("required-form-ele")),n.hasClass("datepicker"))){n.prop("readonly",!0);var C=n.closest(".form-ele");n.closest(".form-ele").append('<div class="form-datepicker-cancel"><i class="fal fa-times fa-xs"></i></div><div class="datepicker-div"><i class="fad fa-calendar-alt fa-xs"></i></div>'),show_cancel_date(C,n),n.on("change",(function(){show_cancel_date(C,n)})),""!=n.val()&&C.find("label").addClass("active")}}}))})),$("input[type=color]").length>0&&($("input[type=color]").each((function(){var e=$(this).val();$(this).parent(".colorpicker-label").css({background:e}).parent(".colorpicker-div").css({border:"1px solid "+e}).find(".colorpicker-text").css({color:e})})),$("input[type=color]").on("change",(function(){var e=$(this).val();$(this).parent(".colorpicker-label").css({background:e}).parent(".colorpicker-div").css({border:"1px solid "+e}).find(".colorpicker-text").css({color:e})})),$(".colorpicker-text").on("click",(function(){$(this).next("label").trigger("click")}))),$(".form-select-value-input").on("focus",(function(e){e.stopImmediatePropagation(),$(this).addClass("form-select-value-input-focus"),a($(this))})),$(".form-select-value-input").off("mousedown").on("mousedown",(function(e){e.preventDefault(),$(this).addClass("form-select-value-input-focus"),a($(this))})),$(".form-ele").removeClass("hidden"),$(".custom-form-element.hidden").each((function(){$(this).closest(".form-ele").addClass("hidden")}))},window.set_multiple_select=function(e){var t=e.closest(".form-ele"),n=t.find(".form-select"),i=t.find(".form-select-ul"),a=t.find(".form-select-value-input");i.find(".form-select-li").removeClass("active"),n.find("option").prop("selected",!1),i.find(".form-check-input:checked").each((function(){var e=$(this),t=e.data("index");e.closest("li").addClass("active"),n.find("option").eq(t).prop("selected",!0)})),""==n.val()&&(n.closest(".form-ele").find(".form-select-value-cancel").hide(),i.find(".form-select-value-input").addClass("caret"),a.val("")),n.on("blur",(function(){$(this).trigger("change")})),s(i,a)},window.show_cancel_date=function(e,t){""==t.val()?(e.find(".form-datepicker-cancel").hide(),1==t.closest(".field-div-container").find("div.data-div").length&&t.closest(".field-div-container").find("div.data-div").html("")):e.find(".form-datepicker-cancel").show().on("click",(function(){t.val("").trigger("change"),e.find(".form-datepicker-cancel").hide(),e.find("label").removeClass("active")}))},$(document).on("mousedown",(function(e){var t=$(".form-select-wrapper");t.is(e.target)||0!==t.has(e.target).length||o()})),window.validate_form=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="yes";$(".invalid-label").removeClass("invalid-label"),$(".invalid-input").removeClass("invalid-input");var a="no";if(e.find(".required").each((function(){var e,t,o=$(this);if(o.hasClass("form-radio"))e=o.closest(".form-ele"),t="invalid invalid-radio",radio_name=o.prop("name"),0==$('[name="'+radio_name+'"]:checked').length?(e.addClass(t),n="no"):e.removeClass(t);else if(o.hasClass("form-input-file"))e=o,t="invalid invalid-input",""==o.val()?(e.addClass(t),e.next("label").addClass("invalid-label invalid-input"),n="no"):e.removeClass(t);else if(o.hasClass("form-input")||o.hasClass("form-textarea"))e=o,t="invalid invalid-input",""==o.val()?(e.addClass(t),e.next("label").addClass("invalid-label"),n="no"):e.removeClass(t),"email"==o.attr("type")&&(i.validate(o.val())||(e.addClass(t),e.next("label").addClass("invalid-label"),n="no",a="yes"));else if(o.hasClass("form-select")){e=o.next("div").find(".form-select-value-input"),t="invalid invalid-input";var r="no";o.prop("multiple")?o.find("option:selected").length>0&&o.find("option:selected").val().length>0&&(r="yes"):(""!=o.val()||o.find("option:selected").length>0&&""!=o.val())&&(r="yes"),"no"==r?(console.log(e),e.addClass(t),e.prev("label").addClass("invalid-label"),n="no"):e.removeClass(t)}else console.log("ERROR - form_elements.js",o.attr("id"),o.attr("class"));e.on("change",(function(){""!=e.val()&&(e.removeClass(t),e.prev("label").removeClass("invalid-label"),e.next("label").removeClass("invalid-label"),o.prev("input").removeClass("invalid-input"))}))})),"no"==n){var o=e.find(".invalid").first();o.hasClass("file-path")?o.parent().prev("input").trigger("click"):o.hasClass("datepicker")?setTimeout((function(){o.closest(".form-ele").find(".qs-datepicker-container").removeClass("qs-hidden")}),200):o.focus().trigger("click"),$("html, body").animate({scrollTop:o.offset().top-140},200),"yes"==a?toastr.error("All Required Fields Must Be Completed and Email Address is Invalid"):toastr.error("All Required Fields Must Be Completed"),1==t&&console.log("Invalid field: "+o.prop("id"))}return n},window.select_refresh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?t.find(".form-select").each((function(){1==$(this).closest(".form-ele").length&&($(this).unwrap(),$(this).next(".form-select-wrapper").remove(),$(this).next(".required-div").remove())})):1==e.closest(".form-ele").length&&(e.unwrap(),e.next(".form-select-wrapper").remove(),e.next(".required-div").remove()),form_elements()},window.reset_select=function(){$(".form-select-li.matched").removeClass("matched").show(),$(".form-select-matched-option").removeClass("form-select-matched-option")}},5195:(e,t,n)=>{"use strict";n.r(t);var i=n(1448),a=n.n(i);function o(){axios.get("/notifications/get_notifications").then((function(e){"error"==e.data.status&&(window.location="/login"),$(".global-notifications-div").html(e.data),$(".notifications-unread-count").text($(".global-notifications-count").first().text()),$(".notifications-mark-as-read").on("click",(function(){var e=$(this).data("id");notifications_mark_read(e,"read").then((function(t){$('div.alert[data-id="'+e+'"]').fadeOut();var n=$(".notifications-unread-count"),i=parseInt(n.first().text())-1;n.text(i)}))})),$(".notifications-mark-all").on("click",(function(){$("#confirm_modal").modal().find(".modal-body").html("Mark All As Read?"),$("#confirm_modal").modal().find(".modal-title").html("Please Confirm"),$("#confirm_button").on("click",(function(){notifications_mark_read("0","read").then((function(e){o()}))}))})),$(".notifications-mark-unread").on("click",(function(){var e=$(this).data("id");notifications_mark_read(e,"unread").then((function(e){o()}))}))})).catch((function(e){console.log(e)})),$("#notifications_collapse").on("shown.bs.collapse",(function(){$(document).on("click",(function(e){var t=$("#notifications_collapse");t.is(e.target)||0!==t.has(e.target).length||$("#notifications_collapse").collapse("hide")}))}))}"back_forward"===performance.getEntriesByType("navigation")[0].type&&window.location.reload(),$((function(){global_loading_off(),window.toastr.options={timeOut:4e3,preventDuplicates:!1},window.text_editor=function(e){""==e.selector&&(e.selector=".text-editor"),e.content_style="body { font-size: .9rem; }",e.force_p_newlines=!1,e.forced_root_block="",e.branding=!1,tinymce.remove(e.selector),tinymce.init(e)},window._token=$('meta[name="csrf-token"]').attr("content"),$.ajaxSetup({headers:{"X-CSRF-TOKEN":_token}}),window.axios_options={headers:{"X-CSRF-TOKEN":_token}},window.axios_headers_html={"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"},$(document).on("focus",".numbers-only",(function(e){e.target.focus().select()})),$(".draggable").draggable({handle:".draggable-handle"}),$(document).on("change",'input[type="file"]',(function(){var e=Array.from(this.files).map((function(e){return e.name})).join(", ");$(this).siblings(".custom-file-label").addClass("selected").html(e)}));var e,t,n;setInterval((function(){$(".phone").not(".formatted").each((function(){""!=$(this).val()&&(global_format_phone(this),$(this).attr("maxlength",14).addClass("formatted"))}))}),1e3);window.ucwords=function(e){return e.split(" ").map((function(e){if(e)return e[0].toUpperCase()+e.substr(1)})).join(" ")},window.shorten_text=function(e,t){return e.length>t?e.substring(0,t)+"...":e},$(document).on("keyup change",".phone",(function(){global_format_phone(this),$(this).attr("maxlength",14)})),setInterval((function(){datepicker_custom(),global_tooltip()}),1e3),window.datatable_settings=(n={info:"_START_ to _END_ of _TOTAL_",lengthMenu:"Show _MENU_",search:""},(t="language")in(e={autoWidth:!1,lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,destroy:!0,language:{search:"",searchPlaceholder:"Search"}})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),window.data_table=function(e,t,n,i,a,o,r,s,l){var c=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10];datatable_settings.pageLength=parseInt(10),""!=e&&(datatable_settings.pageLength=parseInt(e)),n.length>0&&(datatable_settings.order=[[n[0],n[1]]]),i.length>0&&(datatable_settings.columnDefs=[{orderable:!1,targets:i}]),a.length>0&&a.forEach((function(e){datatable_settings.columnDefs.push({targets:[e],visible:!1})}));var u="";1==o&&(datatable_settings.buttons=[{extend:"excelHtml5",exportOptions:{columns:":visible"}},{extend:"pdfHtml5",exportOptions:{columns:":visible"}}],u="<B>",1==c&&datatable_settings.buttons.push({extend:"colvis",text:"Hide Columns"}));var f="";1==r&&(f="<f>");var h="";1==s&&(h="<i>");var p="",m="";datatable_settings.paging=!1,1==l&&(p="<p>",datatable_settings.paging=!0,m="<l>"),1==d&&(datatable_settings.drawCallback=function(){$(this.api().table().header()).hide(),$(this.api().table().footer()).hide()},h="",p="",datatable_settings.paging=!1,m="",f="",u="",datatable_settings.buttons=[]),datatable_settings.dom='<"d-flex justify-content-between flex-wrap align-items-center text-gray"'+f+h+m+u+'>rt<"d-flex justify-content-between align-items-center text-gray"'+h+p+">";var _=t.DataTable(datatable_settings);return $('.dataTables_filter [type="search"]').attr("placeholder","Search"),_},window.format_date=function(e){var t=new Date(e),n=""+(t.getMonth()+1),i=""+t.getDate(),a=t.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[a,n,i].join("-")},$(document).on("show.bs.modal",".modal",(function(){var e=1040+10*$(".modal:visible").length;$(this).css("z-index",e),setTimeout((function(){$(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")}),0),$(this).find("modal-dialog").hasClass("modal-xl")||$(this).addClass("draggable").find(".modal-header").addClass("draggable-handle"),$($.fn.dataTable.tables(!0)).DataTable().columns.adjust().responsive.recalc()})),$('a[data-toggle="tab"]').on("show.bs.tab",(function(e){$($.fn.dataTable.tables(!0)).DataTable().columns.adjust().responsive.recalc()})),document.URL.match("/(password|login)/")||0!=$("#login_page").length||(o(),setInterval((function(){o()}),1e4))})),window.notifications_mark_read=function(e,t){var n=new FormData;return n.append("id",e),n.append("mark",t),axios.post("/notifications/mark_as_read",n,axios_options)},window.datepicker_custom=function(){$(".datepicker").not(".datepicker-added").not(".field-datepicker").each((function(){$(this).addClass("datepicker-added");var e=$(this).prop("id");e||(e=(new Date).getTime());a()("#"+e,{onSelect:function(e,t){var n=$("#"+e.el.id),i=n.closest(".form-ele");show_cancel_date(i,n)},onHide:function(e){},formatter:function(t,n,i){console.log(n);var a=n.toJSON().slice(0,10);t.value=a,$("#"+e).focus().trigger("click")},showAllDates:!0})}))},window.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},window.scrollToAnchor=function(e){var t=$("#"+e).offset().top;$("html,body").animate({scrollTop:t},1500)},$(document).on("keydown",".numbers-only",(function(e){var t=["1","2","3","4","5","6","7","8","9","0",",","Backspace","ArrowLeft","ArrowRight","Delete","Tab","Control","v"];if($(this).hasClass("no-decimals")||t.push("."),t.includes(e.key)){var n,i=null!==(n=$(this).attr("max"))&&void 0!==n?n:null;i&&parseInt($(this).val()+e.key)>i&&(e.preventDefault(),$(this).val(e.key))}else e.preventDefault()})),window.global_loading_on=function(e,t){var n='     <div class="loading-spinner">         <div class="spinner-grow text-success" role="status">             <span class="sr-only">Loading...</span>         </div>         <div class="spinner-grow text-danger" role="status">             <span class="sr-only">Loading...</span>         </div>         <div class="spinner-grow text-warning" role="status">             <span class="sr-only">Loading...</span>         </div>         <div class="spinner-grow text-info" role="status">             <span class="sr-only">Loading...</span>         </div>     </div>     <div class="loading-spinner-html mt-0 mx-2 mx-sm-auto">'+t+"</div>     ";""!=e?$(e).html(n):$("body").append('<div class="loading-bg">'+n+"</div>")},window.global_loading_off=function(){$(".loading-spinner, .loading-spinner-html, .loading-bg").remove()},window.global_tooltip=function(){$('[data-toggle="tooltip"]').tooltip({html:!0,trigger:"hover"}),$('[data-toggle="popover"]').popover({html:!0})},window.global_get_url_parameters=function(e){var t=window.location.search,n=new URLSearchParams(t);return!!n.has(e)&&n.get(e)},window.global_format_phone=function(e){if(e){var t=e.value.replace(/\D/g,""),n={0:"(",3:") ",6:"-"};e.value="";for(var i=0;i<t.length;i++){if(i>13)return!1;e.value+=(n[i]||"")+t[i]}}},window.global_fmtssn=function(e){re=/\D/g,socnum=e.value.replace(re,""),sslen=socnum.length,sslen>3&&sslen<6?(ssa=socnum.slice(0,3),ssb=socnum.slice(3,5),e.value=ssa+"-"+ssb):sslen>5?(ssa=socnum.slice(0,3),ssb=socnum.slice(3,5),ssc=socnum.slice(5,9),e.value=ssa+"-"+ssb+"-"+ssc):e.value=socnum},window.global_array_unique=function(e,t,n){return n.indexOf(e)===t},window.global_format_number=function(e){var t=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0});return e=e.toString().replace(/[,\$]/g,""),t.format(e)},window.global_format_number_with_decimals=function(e){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return e=e.replace(/[,\$]/g,"").toString(),t.format(e)},window.format_money=function(e){e.val("$"+global_format_number(e.val()))},window.format_money_with_decimals=function(e){e.val(global_format_number_with_decimals(e.val()))},window.global_format_money=function(){$(".money, .money-decimal").each((function(){var e=$(this).val();e.match(/[a-zA-Z]+/)&&$(this).val(e.replace(/[a-zA-Z]+/,""))})),$(".money").length>0&&(format_money($(".money")),$(".money").on("keyup",(function(){var e=$(this).val();e.match(/[a-zA-Z]+/)&&$(this).val(e.replace(/[a-zA-Z]+/,"")),format_money($(this))}))),$(".money-decimal").length>0&&($(".money-decimal").each((function(){""!=$(this).val()&&format_money_with_decimals($(this))})),$(".money-decimal").on("change",(function(){""!=$(this).val()&&format_money_with_decimals($(this))})).on("keyup",(function(){var e=$(this).val();e.match(/[a-zA-Z]+/)&&$(this).val(e.replace(/[a-zA-Z]+/,""))})))},window.global_date_diff=function(e,t){var n=new Date(e),i=new Date(t),a=new Date(i-n);return Math.ceil(a/864e5)},window.nl2br=function(e,t,n){var i=n?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,t?"$1"+i:"$1"+i+"$2")},$(document).on("keydown",(function(e){if(e.ctrlKey&&"s"===e.key)return $(".main-search-input").focus().select(),!1}))},6430:()=>{function e(){$(document).width()>1600?$(".page-wrapper").addClass("toggled"):$(".page-wrapper").removeClass("toggled")}$((function(){e(),$(window).on("resize",(function(){$(window).width()>1500&&e()})),$(".sidebar-dropdown > a").on("click",(function(){$(".sidebar-submenu").slideUp(200),$(this).parent().hasClass("active")?($(".sidebar-dropdown").removeClass("active"),$(this).parent().removeClass("active")):($(".sidebar-dropdown").removeClass("active"),$(this).next(".sidebar-submenu").slideDown(200),$(this).parent().addClass("active"))})),$("#close-sidebar").on("click",(function(){$(".page-wrapper").removeClass("toggled")})),$("#show_sidebar").on("click",(function(){$(".page-wrapper").addClass("toggled")}))}))},2402:()=>{$((function(){$(document).on("keyup",".main-search-input",(function(){!function(n){e&&e.cancel();e=axios.CancelToken.source();var i=n.val().trim(),a=$(".main-search-results-div");i.length>0?($(".hide-search").removeClass("hidden"),axios.get("/search",{cancelToken:e.token,params:{value:i},headers:{"Accept-Version":1,Accept:"text/html","Content-Type":"text/html"}}).then((function(e){$(".main-search-results").html(e.data),a.show(),$(document).on("mouseup",(function(e){var n=$(".search-ele");n.is(e.target)||0!==n.has(e.target).length||t()}))})).catch((function(e){}))):($(".main-search-results").html(""),a.hide(),$(".hide-search").addClass("hidden"))}($(this))})),$(document).on("click",".hide-search",t),$(document).on("click",".search-item-link",(function(e){e.stopImmediatePropagation()})),$(document).on("click",".search-item",(function(){window.location=$(this).data("href")}));var e=null;function t(){$(".main-search-results-div").hide(),$(".main-search-input").val(""),$(".hide-search").addClass("hidden")}}))},2115:()=>{if(document.URL.match(/user_profile/)){var e=function(e,t){e.getCroppedCanvas({width:300,height:400,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}),e.getCroppedCanvas().toBlob((function(n){var i=new FormData;i.append("cropped_image",n),axios.post("/users/save_cropped_upload",i,axios_options).then((function(n){e.destroy(),$("#crop_modal").modal("hide"),$("#photo_location").attr("src",n.data.path),$(".user-pic").html('<img class="img-responsive img-rounded" src="'+n.data.path+'" alt="User picture"></img>'),$(".has-photo").removeClass("hidden"),$(".no-photo").addClass("hidden"),t.removeFiles(),$("#save_crop_button").html('<i class="fad fa-save mr-2"></i> Save')})).catch((function(e){console.log(e)}))}),"image/png")},t=function(){var e=new FormData;axios.post("/users/delete_photo",e,axios_options).then((function(e){$("#photo_location").attr("src",""),$(".user-pic").html('<i class="fad fa-user fa-2x mt-2 text-white"></i>'),$(".has-photo").addClass("hidden"),$(".no-photo").removeClass("hidden")})).catch((function(e){console.log(e)}))},n=function(){var e=new FormData,t=tinymce.get("signature").getContent().replace("../storage/","/storage/");e.append("signature",t),console.log(t),axios.post("/users/save_profile",e,axios_options).then((function(e){toastr.success("Profile Details Successfully Saved")})).catch((function(e){}))};$((function(){$("#save_profile_button").on("click",n),$(document).on("click",".delete-image-button",t);var i=document.getElementById("agent_photo_file"),a=FilePond.create(i);a.setOptions({allowImagePreview:!1,server:{process:{url:"/filepond_upload"}},labelIdle:'Drag & Drop here or<br><span class="filepond--label-action"> Browse </span>',onpreparefile:function(t,n){var i=new Image;i.src=URL.createObjectURL(n),i.id="crop_image";var o=i.naturalWidth,r=i.naturalHeight;$("#crop_modal").find(".crop-container").html(i),function(t,n,i){$("#crop_modal").modal("show"),$("#crop_modal").on("hidden.bs.modal",(function(){i.removeFiles()}));var a=document.querySelector("#crop_image"),o=new Cropper(a,{aspectRatio:3/4,minContainerHeight:n,minContainerWidth:t,minCanvasHeight:n,minCanvasWidth:t});$("#save_crop_button").off("click").on("click",(function(){$(this).html('<span class="spinner-border spinner-border-sm mr-2"></span> Saving Image...'),e(o,i)})),$("#crop_modal").on("hidden.bs.modal",(function(){i.removeFiles()}))}(o,r,a)},onprocessfile:function(e,t){}}),$(".filepond--credits").hide();var o={selector:"#signature",menubar:"edit format table",statusbar:!1,plugins:"image table",toolbar:"image | undo redo | styleselect | bold italic | forecolor backcolor | align outdent indent |",images_upload_url:"/text_editor/file_upload",table_toolbar:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",height:"300",relative_urls:!1,document_base_url:location.hostname};text_editor(o)}))}},9800:()=>{if(document.URL.match(/users/)){$((function(){data_table(10,$("#users_table"),[2,"asc"],[0,1,5],[],!0,!0,!0,!0,!0,!1),$(document).on("click",".send-password-reset-button",(function(){var e=$(this);$("#confirm_modal").modal().find(".modal-body").html("Email reset password link to user?"),$("#confirm_modal").modal().find(".modal-title").html("Send Password Reset Email"),$("#confirm_button").on("click",(function(){!function(e){e.html('<span class="spinner-border spinner-border-sm mr-2"></span> Sending...');var t=e.data("email"),n=new FormData;n.append("email",t),n.append("_token",$('meta[name="csrf-token"]').attr("content")),axios.post("/password/email",n,axios_options).then((function(t){t.data.message.match(/password\sreset/)?toastr.success("Reset Password Email Sent"):alert("error"),e.html("Send Reset Password Email")})).catch((function(e){var t=e.response.data.errors.email[0];alert(t)}))}(e)}))})),$(document).on("click",".send-register-email-button",(function(){var e=$(this);$("#confirm_modal").modal().find(".modal-body").html("Send registration email to user?"),$("#confirm_modal").modal().find(".modal-title").html("Send Registration Email"),$("#confirm_button").on("click",(function(){!function(e){e.html('<span class="spinner-border spinner-border-sm mr-2"></span> Sending...');var t=e.data("email");axios.get("/register_employee/"+t,{params:{email:t,_token:$('meta[name="csrf-token"]').attr("content")}}).then((function(t){200==t.status?(toastr.success("Registration Email Sent"),e.html("Registration Email")):alert("error")})).catch((function(e){console.log(e)}))}(e)}))})),$(".users-table-wrapper").removeClass("hidden")}))}},3408:(e,t,n)=>{var i,a,o;a=[n(9755)],void 0===(o="function"==typeof(i=function(e){"use strict";function t(t,n){var i=this,a=e(t),o=a[0].nodeName,r="OL"==o||"UL"==o?"LI":"DIV",s={handle:!1,container:o,container_type:o,same_depth:!1,make_unselectable:!1,nodes:r,nodes_type:r,placeholder_class:null,auto_container_class:"sortable_container",autocreate:!1,group:!1,scroll:!1,update:null};i.$sortable=a.data("sortable",i),i.options=e.extend({},s,n),i.init()}function n(t,n){var i=this;i.$draggable=e(t).data("draggable",i),i.options=e.extend({},{handle:!1,delegate:!1,revert:!1,placeholder:!1,droptarget:!1,container:!1,scroll:!1,update:null,drop:null},n),i.init()}function i(t,n){var i=this;i.$droppable=e(t).data("droppable",i),i.options=e.extend({},{accept:!1,drop:null},n),i.init()}function a(t,n){var i,a=e(t),o=null,r=null,s=null;function l(e){return"touch"===(e=window.hasOwnProperty("event")?window.event:e).type.substr(0,5)&&(e=(e=e.hasOwnProperty("originalEvent")?e.originalEvent:e).touches[0]),{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,dX:r?e.pageX-r.pageX:0,dY:r?e.pageY-r.pageY:0}}function c(e){var t=a.scrollParent(),o=e.pageX,r=e.pageY,s=t.offset(),l=t.scrollLeft(),d=t.scrollTop(),u=t.width(),f=t.height();if(window.clearTimeout(i),l>0&&o<s.left)t.scrollLeft(l-n.scrollspeed);else if(l<t.prop("scrollWidth")-u&&o>s.left+u)t.scrollLeft(l+n.scrollspeed);else if(d>0&&r<s.top)t.scrollTop(d-n.scrollspeed);else{if(!(d<t.prop("scrollHeight")-f&&r>s.top+f))return;t.scrollTop(d+n.scrollspeed)}i=window.setTimeout((function(){c(e)}),n.scrolltimeout)}function d(e){if(s=l(e),n.scroll&&c(s),o.trigger("dragging"),n.drag)return n.drag.call(o,e,s),!1}function u(t){return window.clearTimeout(i),n.dragstop&&n.dragstop.call(o,t,s),o.removeClass("dragging"),o.trigger("dragstop"),r=!1,s=!1,o=!1,e(document).off(".dragaware"),!1}n=e.extend({},{handle:null,delegate:null,scroll:!1,scrollspeed:15,scrolltimeout:50,dragstart:null,drag:null,dragstop:null},n),a.addClass("dragaware").on("touchstart.dragaware mousedown.dragaware",n.delegate,(function(t){var i=e(t.target);if(o=n.delegate?i.closest(n.delegate):a,i.closest(n.handle||"*").length&&("touchstart"==t.type||0==t.button))return r=s=l(t),n.dragstart&&n.dragstart.call(o,t,s),o.addClass("dragging"),o.trigger("dragstart"),e(document).on("touchend.dragaware mouseup.dragaware click.dragaware",u).on("touchmove.dragaware mousemove.dragaware",d),!1})),a.on("destroy.dragaware",(function(){a.removeClass("dragaware").off(".dragaware")}))}function o(e){this.origin=e}return t.prototype.invoke=function(e){var t=this;return"destroy"===e?t.destroy():"serialize"===e?t.serialize(t.$sortable):void 0},t.prototype.init=function(){var t,n,i,a=this;function r(i,o){var r,s,l;if(o)return r=a.$sortable.add(a.$sortable.find(a.options.container)).not(i.find(a.options.container)).not(t.find(a.options.container)).not(a.find_nodes()),a.options.same_depth&&(l=i.parent().nestingDepth("ul"),r=r.filter((function(){return e(this).nestingDepth("ul")==l}))),n.hide(),r.each((function(t,n){var i,r,l,c=e(a.create_placeholder()).appendTo(n),d=e(n).children(a.options.nodes).not(".sortable_clone");for(r=0;r<d.length;r++)i=d.eq(r),l=a.square_dist(i.offset(),o),(!s||s.dist>l)&&(s={container:n,before:i[0],dist:l});c.remove()})),n.show(),s}function s(t,n){var i=e(n.container);n.before&&n.before.closest("html")?t.insertBefore(n.before):t.appendTo(i)}a.options.make_unselectable&&e("html").unselectable(),a.$sortable.addClass("sortable").on("destroy.sortable",(function(){a.destroy()})),a.$sortable.dragaware(e.extend({},a.options,{delegate:a.options.nodes,dragstart:function(r){var s=e(this);t=s.clone().removeAttr("id").addClass("sortable_clone").css({position:"absolute"}).insertAfter(s).offset(s.offset()),n=a.create_placeholder().css({height:s.outerHeight(),width:s.outerWidth()}).insertAfter(s),s.hide(),i=new o(t.offset()),a.options.autocreate&&a.find_nodes().filter((function(t,n){return 0==e(n).find(a.options.container).length})).append("<"+a.options.container_type+' class="'+a.options.auto_container_class+'"/>')},drag:function(a,o){var l=e(this),c=i.absolutize(o),d=r(l,c);t.offset(c),s(n,d)},dragstop:function(o,l){var c=e(this),d=r(c,i.absolutize(l));d&&s(c,d),c.show(),t&&t.remove(),n&&n.remove(),t=null,n=null,d&&a.options.update&&a.options.update.call(a.$sortable,o,a),a.$sortable.trigger("update")}}))},t.prototype.destroy=function(){this.options.make_unselectable&&e("html").unselectable("destroy"),this.$sortable.removeClass("sortable").off(".sortable").dragaware("destroy")},t.prototype.serialize=function(t){var n=this;return t.children(n.options.nodes).not(n.options.container).map((function(t,i){var a=e(i),o=a.clone().children().remove().end().text().trim(),r={id:a.attr("id")||o};return a.find(n.options.nodes).length&&(r.children=n.serialize(a.children(n.options.container))),r})).get()},t.prototype.find_nodes=function(){var e=this;return e.$sortable.find(e.options.nodes).not(e.options.container)},t.prototype.create_placeholder=function(){return e("<"+this.options.nodes_type+"/>").addClass("sortable_placeholder").addClass(this.options.placeholder_class)},t.prototype.square_dist=function(e,t){return Math.pow(t.left-e.left,2)+Math.pow(t.top-e.top,2)},n.prototype.init=function(){var t,n,i=this;function a(n){var a;if(e(".hovering").removeClass("hovering"),t.hide(),a=e(document.elementFromPoint(n.clientX,n.clientY)).closest(i.options.droptarget),t.show(),a.length)return a.addClass("hovering"),a}i.$draggable.addClass("draggable").on("destroy.draggable",(function(){i.destroy()})),i.$draggable.dragaware(e.extend({},i.options,{dragstart:function(a){var r=e(this);i.options.placeholder||i.options.revert?(t=r.clone().removeAttr("id").addClass("draggable_clone").css({position:"absolute"}).appendTo(i.options.container||r.parent()).offset(r.offset()),i.options.placeholder||e(this).invisible()):t=r,n=new o(t.offset())},drag:function(e,i){a(i),t.offset(n.absolutize(i))},dragstop:function(o,r){var s=e(this),l=a(r);(i.options.revert||i.options.placeholder)&&(s.visible(),i.options.revert||s.offset(n.absolutize(r)),t.remove()),t=null,i.options.update&&i.options.update.call(s,o,i),s.trigger("update"),l&&(i.options.drop&&i.options.drop.call(s,o,l[0]),l.trigger("drop",[s]),l.removeClass("hovering"))}}))},n.prototype.destroy=function(){this.$draggable.dragaware("destroy").removeClass("draggable").off(".draggable")},i.prototype.init=function(){var e=this;e.$droppable.addClass("droppable").on("drop",(function(t,n){e.options.accept&&!n.is(e.options.accept)||e.options.drop&&e.options.drop.call(e.$droppable,t,n)})).on("destroy.droppable",(function(){e.destroy()}))},i.prototype.destroy=function(){this.$droppable.removeClass("droppable").off(".droppable")},o.prototype.absolutize=function(e){return e?{top:this.origin.top+e.dY,left:this.origin.left+e.dX}:this.origin},e.fn.sortable=function(n){var i=this.not((function(){return e(this).is(".sortable")||e(this).closest(".sortable").length}));return this.data("sortable")&&"string"==typeof n?this.data("sortable").invoke(n):(i.length&&n&&n.group?new t(i,n):i.each((function(e,i){new t(i,n)})),this)},e.fn.draggable=function(e){return"destroy"===e?this.trigger("destroy.draggable"):this.not(".draggable").each((function(t,i){new n(i,e)})),this},e.fn.droppable=function(e){return"destroy"===e?this.trigger("destroy.droppable"):this.not(".droppable").each((function(t,n){new i(n,e)})),this},e.fn.dragaware=function(e){return"destroy"===e?this.trigger("destroy.dragaware"):this.not(".dragaware").each((function(t,n){new a(n,e)})),this},e.fn.unselectable=function(e){return"destroy"==e?this.removeClass("unselectable").removeAttr("unselectable").off("selectstart.unselectable"):this.addClass("unselectable").attr("unselectable","on").on("selectstart.unselectable",(function(){return!1}))},e.fn.invisible=function(){return this.css({visibility:"hidden"})},e.fn.visible=function(){return this.css({visibility:"visible"})},e.fn.scrollParent=function(){return this.parents().addBack().filter((function(){var t=e(this);return/(scroll|auto)/.test(t.css("overflow-x")+t.css("overflow-y")+t.css("overflow"))}))},e.fn.nestingDepth=function(e){var t=this.parent().closest(e||"*");return t.length?t.nestingDepth(e)+1:0},{Sortable:t,Draggable:n,Droppable:i,Dragaware:a,PositionHelper:o}})?i.apply(t,a):i)||(e.exports=o)},3734:function(e,t,n){!function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(t),o=i(n);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var d="transitionend",u=1e6,f=1e3;function h(e){return null==e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function p(){return{bindType:d,delegateType:d,handle:function(e){if(a.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function m(e){var t=this,n=!1;return a.default(this).one(v.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||v.triggerTransitionEnd(t)}),e),this}function _(){a.default.fn.emulateTransitionEnd=m,a.default.event.special[v.TRANSITION_END]=p()}var v={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(Math.random()*u)}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=a.default(e).css("transition-duration"),n=a.default(e).css("transition-delay"),i=parseFloat(t),o=parseFloat(n);return i||o?(t=t.split(",")[0],n=n.split(",")[0],(parseFloat(t)+parseFloat(n))*f):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){a.default(e).trigger(d)},supportsTransitionEnd:function(){return Boolean(d)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=n[i],o=t[i],r=o&&v.isElement(o)?"element":h(o);if(!new RegExp(a).test(r))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+r+'" but expected type "'+a+'".')}},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?v.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===a.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=a.default.fn.jquery.split(" ")[0].split("."),t=1,n=2,i=9,o=1,r=4;if(e[0]<n&&e[1]<i||e[0]===t&&e[1]===i&&e[2]<o||e[0]>=r)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};v.jQueryDetection(),_();var g="alert",y="4.6.0",b="bs.alert",w="."+b,$=".data-api",k=a.default.fn[g],E='[data-dismiss="alert"]',x="close"+w,D="closed"+w,C="click"+w+$,T="alert",I="fade",S="show",O=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){a.default.removeData(this._element,b),this._element=null},t._getRootElement=function(e){var t=v.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n||(n=a.default(e).closest("."+T)[0]),n},t._triggerCloseEvent=function(e){var t=a.default.Event(x);return a.default(e).trigger(t),t},t._removeElement=function(e){var t=this;if(a.default(e).removeClass(S),a.default(e).hasClass(I)){var n=v.getTransitionDurationFromElement(e);a.default(e).one(v.TRANSITION_END,(function(n){return t._destroyElement(e,n)})).emulateTransitionEnd(n)}else this._destroyElement(e)},t._destroyElement=function(e){a.default(e).detach().trigger(D).remove()},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this),i=n.data(b);i||(i=new e(this),n.data(b,i)),"close"===t&&i[t](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},s(e,null,[{key:"VERSION",get:function(){return y}}]),e}();a.default(document).on(C,E,O._handleDismiss(new O)),a.default.fn[g]=O._jQueryInterface,a.default.fn[g].Constructor=O,a.default.fn[g].noConflict=function(){return a.default.fn[g]=k,O._jQueryInterface};var A="button",R="4.6.0",M="bs.button",L="."+M,N=".data-api",P=a.default.fn[A],q="active",F="btn",j="focus",B='[data-toggle^="button"]',U='[data-toggle="buttons"]',z='[data-toggle="button"]',G='[data-toggle="buttons"] .btn',Y='input:not([type="hidden"])',H=".active",W=".btn",V="click"+L+N,X="focus"+L+N+" blur"+L+N,Q="load"+L+N,K=function(){function e(e){this._element=e,this.shouldAvoidTriggerChange=!1}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,n=a.default(this._element).closest(U)[0];if(n){var i=this._element.querySelector(Y);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(q))e=!1;else{var o=n.querySelector(H);o&&a.default(o).removeClass(q)}e&&("checkbox"!==i.type&&"radio"!==i.type||(i.checked=!this._element.classList.contains(q)),this.shouldAvoidTriggerChange||a.default(i).trigger("change")),i.focus(),t=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(q)),e&&a.default(this._element).toggleClass(q))},t.dispose=function(){a.default.removeData(this._element,M),this._element=null},e._jQueryInterface=function(t,n){return this.each((function(){var i=a.default(this),o=i.data(M);o||(o=new e(this),i.data(M,o)),o.shouldAvoidTriggerChange=n,"toggle"===t&&o[t]()}))},s(e,null,[{key:"VERSION",get:function(){return R}}]),e}();a.default(document).on(V,B,(function(e){var t=e.target,n=t;if(a.default(t).hasClass(F)||(t=a.default(t).closest(W)[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var i=t.querySelector(Y);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void e.preventDefault();"INPUT"!==n.tagName&&"LABEL"===t.tagName||K._jQueryInterface.call(a.default(t),"toggle","INPUT"===n.tagName)}})).on(X,B,(function(e){var t=a.default(e.target).closest(W)[0];a.default(t).toggleClass(j,/^focus(in)?$/.test(e.type))})),a.default(window).on(Q,(function(){for(var e=[].slice.call(document.querySelectorAll(G)),t=0,n=e.length;t<n;t++){var i=e[t],a=i.querySelector(Y);a.checked||a.hasAttribute("checked")?i.classList.add(q):i.classList.remove(q)}for(var o=0,r=(e=[].slice.call(document.querySelectorAll(z))).length;o<r;o++){var s=e[o];"true"===s.getAttribute("aria-pressed")?s.classList.add(q):s.classList.remove(q)}})),a.default.fn[A]=K._jQueryInterface,a.default.fn[A].Constructor=K,a.default.fn[A].noConflict=function(){return a.default.fn[A]=P,K._jQueryInterface};var J="carousel",Z="4.6.0",ee="bs.carousel",te="."+ee,ne=".data-api",ie=a.default.fn[J],ae=37,oe=39,re=500,se=40,le={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ce={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},de="next",ue="prev",fe="left",he="right",pe="slide"+te,me="slid"+te,_e="keydown"+te,ve="mouseenter"+te,ge="mouseleave"+te,ye="touchstart"+te,be="touchmove"+te,we="touchend"+te,$e="pointerdown"+te,ke="pointerup"+te,Ee="dragstart"+te,xe="load"+te+ne,De="click"+te+ne,Ce="carousel",Te="active",Ie="slide",Se="carousel-item-right",Oe="carousel-item-left",Ae="carousel-item-next",Re="carousel-item-prev",Me="pointer-event",Le=".active",Ne=".active.carousel-item",Pe=".carousel-item",qe=".carousel-item img",Fe=".carousel-item-next, .carousel-item-prev",je=".carousel-indicators",Be="[data-slide], [data-slide-to]",Ue='[data-ride="carousel"]',ze={TOUCH:"touch",PEN:"pen"},Ge=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(je),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(de)},t.nextWhenVisible=function(){var e=a.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(ue)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(Fe)&&(v.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(Ne);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)a.default(this._element).one(me,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var i=e>n?de:ue;this._slide(i,this._items[e])}},t.dispose=function(){a.default(this._element).off(te),a.default.removeData(this._element,ee),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=l({},le,e),v.typeCheckConfig(J,e,ce),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=se)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&a.default(this._element).on(_e,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&a.default(this._element).on(ve,(function(t){return e.pause(t)})).on(ge,(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var t=function(t){e._pointerEvent&&ze[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){t.originalEvent.touches&&t.originalEvent.touches.length>1?e.touchDeltaX=0:e.touchDeltaX=t.originalEvent.touches[0].clientX-e.touchStartX},i=function(t){e._pointerEvent&&ze[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),re+e._config.interval))};a.default(this._element.querySelectorAll(qe)).on(Ee,(function(e){return e.preventDefault()})),this._pointerEvent?(a.default(this._element).on($e,(function(e){return t(e)})),a.default(this._element).on(ke,(function(e){return i(e)})),this._element.classList.add(Me)):(a.default(this._element).on(ye,(function(e){return t(e)})),a.default(this._element).on(be,(function(e){return n(e)})),a.default(this._element).on(we,(function(e){return i(e)})))}},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case ae:e.preventDefault(),this.prev();break;case oe:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(Pe)):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var n=e===de,i=e===ue,a=this._getItemIndex(t),o=this._items.length-1;if((i&&0===a||n&&a===o)&&!this._config.wrap)return t;var r=(a+(e===ue?-1:1))%this._items.length;return-1===r?this._items[this._items.length-1]:this._items[r]},t._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(Ne)),o=a.default.Event(pe,{relatedTarget:e,direction:t,from:i,to:n});return a.default(this._element).trigger(o),o},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(Le));a.default(t).removeClass(Te);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&a.default(n).addClass(Te)}},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(Ne);if(e){var t=parseInt(e.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(e,t){var n,i,o,r=this,s=this._element.querySelector(Ne),l=this._getItemIndex(s),c=t||s&&this._getItemByDirection(e,s),d=this._getItemIndex(c),u=Boolean(this._interval);if(e===de?(n=Oe,i=Ae,o=fe):(n=Se,i=Re,o=he),c&&a.default(c).hasClass(Te))this._isSliding=!1;else if(!this._triggerSlideEvent(c,o).isDefaultPrevented()&&s&&c){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var f=a.default.Event(me,{relatedTarget:c,direction:o,from:l,to:d});if(a.default(this._element).hasClass(Ie)){a.default(c).addClass(i),v.reflow(c),a.default(s).addClass(n),a.default(c).addClass(n);var h=v.getTransitionDurationFromElement(s);a.default(s).one(v.TRANSITION_END,(function(){a.default(c).removeClass(n+" "+i).addClass(Te),a.default(s).removeClass(Te+" "+i+" "+n),r._isSliding=!1,setTimeout((function(){return a.default(r._element).trigger(f)}),0)})).emulateTransitionEnd(h)}else a.default(s).removeClass(Te),a.default(c).addClass(Te),this._isSliding=!1,a.default(this._element).trigger(f);u&&this.cycle()}},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(ee),i=l({},le,a.default(this).data());"object"==typeof t&&(i=l({},i,t));var o="string"==typeof t?t:i.slide;if(n||(n=new e(this,i),a.default(this).data(ee,n)),"number"==typeof t)n.to(t);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}))},e._dataApiClickHandler=function(t){var n=v.getSelectorFromElement(this);if(n){var i=a.default(n)[0];if(i&&a.default(i).hasClass(Ce)){var o=l({},a.default(i).data(),a.default(this).data()),r=this.getAttribute("data-slide-to");r&&(o.interval=!1),e._jQueryInterface.call(a.default(i),o),r&&a.default(i).data(ee).to(r),t.preventDefault()}}},s(e,null,[{key:"VERSION",get:function(){return Z}},{key:"Default",get:function(){return le}}]),e}();a.default(document).on(De,Be,Ge._dataApiClickHandler),a.default(window).on(xe,(function(){for(var e=[].slice.call(document.querySelectorAll(Ue)),t=0,n=e.length;t<n;t++){var i=a.default(e[t]);Ge._jQueryInterface.call(i,i.data())}})),a.default.fn[J]=Ge._jQueryInterface,a.default.fn[J].Constructor=Ge,a.default.fn[J].noConflict=function(){return a.default.fn[J]=ie,Ge._jQueryInterface};var Ye="collapse",He="4.6.0",We="bs.collapse",Ve="."+We,Xe=".data-api",Qe=a.default.fn[Ye],Ke={toggle:!0,parent:""},Je={toggle:"boolean",parent:"(string|element)"},Ze="show"+Ve,et="shown"+Ve,tt="hide"+Ve,nt="hidden"+Ve,it="click"+Ve+Xe,at="show",ot="collapse",rt="collapsing",st="collapsed",lt="width",ct="height",dt=".show, .collapsing",ut='[data-toggle="collapse"]',ft=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(ut)),i=0,a=n.length;i<a;i++){var o=n[i],r=v.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(r)).filter((function(t){return t===e}));null!==r&&s.length>0&&(this._selector=r,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){a.default(this._element).hasClass(at)?this.hide():this.show()},t.show=function(){var t,n,i=this;if(!(this._isTransitioning||a.default(this._element).hasClass(at)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(dt)).filter((function(e){return"string"==typeof i._config.parent?e.getAttribute("data-parent")===i._config.parent:e.classList.contains(ot)}))).length&&(t=null),t&&(n=a.default(t).not(this._selector).data(We))&&n._isTransitioning))){var o=a.default.Event(Ze);if(a.default(this._element).trigger(o),!o.isDefaultPrevented()){t&&(e._jQueryInterface.call(a.default(t).not(this._selector),"hide"),n||a.default(t).data(We,null));var r=this._getDimension();a.default(this._element).removeClass(ot).addClass(rt),this._element.style[r]=0,this._triggerArray.length&&a.default(this._triggerArray).removeClass(st).attr("aria-expanded",!0),this.setTransitioning(!0);var s=function(){a.default(i._element).removeClass(rt).addClass(ot+" "+at),i._element.style[r]="",i.setTransitioning(!1),a.default(i._element).trigger(et)},l="scroll"+(r[0].toUpperCase()+r.slice(1)),c=v.getTransitionDurationFromElement(this._element);a.default(this._element).one(v.TRANSITION_END,s).emulateTransitionEnd(c),this._element.style[r]=this._element[l]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&a.default(this._element).hasClass(at)){var t=a.default.Event(tt);if(a.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",v.reflow(this._element),a.default(this._element).addClass(rt).removeClass(ot+" "+at);var i=this._triggerArray.length;if(i>0)for(var o=0;o<i;o++){var r=this._triggerArray[o],s=v.getSelectorFromElement(r);null!==s&&(a.default([].slice.call(document.querySelectorAll(s))).hasClass(at)||a.default(r).addClass(st).attr("aria-expanded",!1))}this.setTransitioning(!0);var l=function(){e.setTransitioning(!1),a.default(e._element).removeClass(rt).addClass(ot).trigger(nt)};this._element.style[n]="";var c=v.getTransitionDurationFromElement(this._element);a.default(this._element).one(v.TRANSITION_END,l).emulateTransitionEnd(c)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){a.default.removeData(this._element,We),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=l({},Ke,e)).toggle=Boolean(e.toggle),v.typeCheckConfig(Ye,e,Je),e},t._getDimension=function(){return a.default(this._element).hasClass(lt)?lt:ct},t._getParent=function(){var t,n=this;v.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(t.querySelectorAll(i));return a.default(o).each((function(t,i){n._addAriaAndCollapsedClass(e._getTargetFromElement(i),[i])})),t},t._addAriaAndCollapsedClass=function(e,t){var n=a.default(e).hasClass(at);t.length&&a.default(t).toggleClass(st,!n).attr("aria-expanded",n)},e._getTargetFromElement=function(e){var t=v.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this),i=n.data(We),o=l({},Ke,n.data(),"object"==typeof t&&t?t:{});if(!i&&o.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(o.toggle=!1),i||(i=new e(this,o),n.data(We,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return He}},{key:"Default",get:function(){return Ke}}]),e}();a.default(document).on(it,ut,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=a.default(this),n=v.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));a.default(i).each((function(){var e=a.default(this),n=e.data(We)?"toggle":t.data();ft._jQueryInterface.call(e,n)}))})),a.default.fn[Ye]=ft._jQueryInterface,a.default.fn[Ye].Constructor=ft,a.default.fn[Ye].noConflict=function(){return a.default.fn[Ye]=Qe,ft._jQueryInterface};var ht="dropdown",pt="4.6.0",mt="bs.dropdown",_t="."+mt,vt=".data-api",gt=a.default.fn[ht],yt=27,bt=32,wt=9,$t=38,kt=40,Et=3,xt=new RegExp($t+"|"+kt+"|"+yt),Dt="hide"+_t,Ct="hidden"+_t,Tt="show"+_t,It="shown"+_t,St="click"+_t,Ot="click"+_t+vt,At="keydown"+_t+vt,Rt="keyup"+_t+vt,Mt="disabled",Lt="show",Nt="dropup",Pt="dropright",qt="dropleft",Ft="dropdown-menu-right",jt="position-static",Bt='[data-toggle="dropdown"]',Ut=".dropdown form",zt=".dropdown-menu",Gt=".navbar-nav",Yt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ht="top-start",Wt="top-end",Vt="bottom-start",Xt="bottom-end",Qt="right-start",Kt="left-start",Jt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Zt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},en=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!a.default(this._element).hasClass(Mt)){var t=a.default(this._menu).hasClass(Lt);e._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||a.default(this._element).hasClass(Mt)||a.default(this._menu).hasClass(Lt))){var n={relatedTarget:this._element},i=a.default.Event(Tt,n),r=e._getParentFromElement(this._element);if(a.default(r).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===o.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=r:v.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&a.default(r).addClass(jt),this._popper=new o.default(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===a.default(r).closest(Gt).length&&a.default(document.body).children().on("mouseover",null,a.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),a.default(this._menu).toggleClass(Lt),a.default(r).toggleClass(Lt).trigger(a.default.Event(It,n))}}},t.hide=function(){if(!this._element.disabled&&!a.default(this._element).hasClass(Mt)&&a.default(this._menu).hasClass(Lt)){var t={relatedTarget:this._element},n=a.default.Event(Dt,t),i=e._getParentFromElement(this._element);a.default(i).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),a.default(this._menu).toggleClass(Lt),a.default(i).toggleClass(Lt).trigger(a.default.Event(Ct,t)))}},t.dispose=function(){a.default.removeData(this._element,mt),a.default(this._element).off(_t),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;a.default(this._element).on(St,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},t._getConfig=function(e){return e=l({},this.constructor.Default,a.default(this._element).data(),e),v.typeCheckConfig(ht,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(zt))}return this._menu},t._getPlacement=function(){var e=a.default(this._element.parentNode),t=Vt;return e.hasClass(Nt)?t=a.default(this._menu).hasClass(Ft)?Wt:Ht:e.hasClass(Pt)?t=Qt:e.hasClass(qt)?t=Kt:a.default(this._menu).hasClass(Ft)&&(t=Xt),t},t._detectNavbar=function(){return a.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),l({},e,this._config.popperConfig)},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(mt);if(n||(n=new e(this,"object"==typeof t?t:null),a.default(this).data(mt,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},e._clearMenus=function(t){if(!t||t.which!==Et&&("keyup"!==t.type||t.which===wt))for(var n=[].slice.call(document.querySelectorAll(Bt)),i=0,o=n.length;i<o;i++){var r=e._getParentFromElement(n[i]),s=a.default(n[i]).data(mt),l={relatedTarget:n[i]};if(t&&"click"===t.type&&(l.clickEvent=t),s){var c=s._menu;if(a.default(r).hasClass(Lt)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===wt)&&a.default.contains(r,t.target))){var d=a.default.Event(Dt,l);a.default(r).trigger(d),d.isDefaultPrevented()||("ontouchstart"in document.documentElement&&a.default(document.body).children().off("mouseover",null,a.default.noop),n[i].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),a.default(c).removeClass(Lt),a.default(r).removeClass(Lt).trigger(a.default.Event(Ct,l)))}}}},e._getParentFromElement=function(e){var t,n=v.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?t.which===bt||t.which!==yt&&(t.which!==kt&&t.which!==$t||a.default(t.target).closest(zt).length):!xt.test(t.which))&&!this.disabled&&!a.default(this).hasClass(Mt)){var n=e._getParentFromElement(this),i=a.default(n).hasClass(Lt);if(i||t.which!==yt){if(t.preventDefault(),t.stopPropagation(),!i||t.which===yt||t.which===bt)return t.which===yt&&a.default(n.querySelector(Bt)).trigger("focus"),void a.default(this).trigger("click");var o=[].slice.call(n.querySelectorAll(Yt)).filter((function(e){return a.default(e).is(":visible")}));if(0!==o.length){var r=o.indexOf(t.target);t.which===$t&&r>0&&r--,t.which===kt&&r<o.length-1&&r++,r<0&&(r=0),o[r].focus()}}}},s(e,null,[{key:"VERSION",get:function(){return pt}},{key:"Default",get:function(){return Jt}},{key:"DefaultType",get:function(){return Zt}}]),e}();a.default(document).on(At,Bt,en._dataApiKeydownHandler).on(At,zt,en._dataApiKeydownHandler).on(Ot+" "+Rt,en._clearMenus).on(Ot,Bt,(function(e){e.preventDefault(),e.stopPropagation(),en._jQueryInterface.call(a.default(this),"toggle")})).on(Ot,Ut,(function(e){e.stopPropagation()})),a.default.fn[ht]=en._jQueryInterface,a.default.fn[ht].Constructor=en,a.default.fn[ht].noConflict=function(){return a.default.fn[ht]=gt,en._jQueryInterface};var tn="modal",nn="4.6.0",an="bs.modal",on="."+an,rn=".data-api",sn=a.default.fn[tn],ln=27,cn={backdrop:!0,keyboard:!0,focus:!0,show:!0},dn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},un="hide"+on,fn="hidePrevented"+on,hn="hidden"+on,pn="show"+on,mn="shown"+on,_n="focusin"+on,vn="resize"+on,gn="click.dismiss"+on,yn="keydown.dismiss"+on,bn="mouseup.dismiss"+on,wn="mousedown.dismiss"+on,$n="click"+on+rn,kn="modal-dialog-scrollable",En="modal-scrollbar-measure",xn="modal-backdrop",Dn="modal-open",Cn="fade",Tn="show",In="modal-static",Sn=".modal-dialog",On=".modal-body",An='[data-toggle="modal"]',Rn='[data-dismiss="modal"]',Mn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ln=".sticky-top",Nn=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(Sn),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){a.default(this._element).hasClass(Cn)&&(this._isTransitioning=!0);var n=a.default.Event(pn,{relatedTarget:e});a.default(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),a.default(this._element).on(gn,Rn,(function(e){return t.hide(e)})),a.default(this._dialog).on(wn,(function(){a.default(t._element).one(bn,(function(e){a.default(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var n=a.default.Event(un);if(a.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=a.default(this._element).hasClass(Cn);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),a.default(document).off(_n),a.default(this._element).removeClass(Tn),a.default(this._element).off(gn),a.default(this._dialog).off(wn),i){var o=v.getTransitionDurationFromElement(this._element);a.default(this._element).one(v.TRANSITION_END,(function(e){return t._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return a.default(e).off(on)})),a.default(document).off(_n),a.default.removeData(this._element,an),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=l({},cn,e),v.typeCheckConfig(tn,e,dn),e},t._triggerBackdropTransition=function(){var e=this,t=a.default.Event(fn);if(a.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(In);var i=v.getTransitionDurationFromElement(this._dialog);a.default(this._element).off(v.TRANSITION_END),a.default(this._element).one(v.TRANSITION_END,(function(){e._element.classList.remove(In),n||a.default(e._element).one(v.TRANSITION_END,(function(){e._element.style.overflowY=""})).emulateTransitionEnd(e._element,i)})).emulateTransitionEnd(i),this._element.focus()}},t._showElement=function(e){var t=this,n=a.default(this._element).hasClass(Cn),i=this._dialog?this._dialog.querySelector(On):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),a.default(this._dialog).hasClass(kn)&&i?i.scrollTop=0:this._element.scrollTop=0,n&&v.reflow(this._element),a.default(this._element).addClass(Tn),this._config.focus&&this._enforceFocus();var o=a.default.Event(mn,{relatedTarget:e}),r=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,a.default(t._element).trigger(o)};if(n){var s=v.getTransitionDurationFromElement(this._dialog);a.default(this._dialog).one(v.TRANSITION_END,r).emulateTransitionEnd(s)}else r()},t._enforceFocus=function(){var e=this;a.default(document).off(_n).on(_n,(function(t){document!==t.target&&e._element!==t.target&&0===a.default(e._element).has(t.target).length&&e._element.focus()}))},t._setEscapeEvent=function(){var e=this;this._isShown?a.default(this._element).on(yn,(function(t){e._config.keyboard&&t.which===ln?(t.preventDefault(),e.hide()):e._config.keyboard||t.which!==ln||e._triggerBackdropTransition()})):this._isShown||a.default(this._element).off(yn)},t._setResizeEvent=function(){var e=this;this._isShown?a.default(window).on(vn,(function(t){return e.handleUpdate(t)})):a.default(window).off(vn)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){a.default(document.body).removeClass(Dn),e._resetAdjustments(),e._resetScrollbar(),a.default(e._element).trigger(hn)}))},t._removeBackdrop=function(){this._backdrop&&(a.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,n=a.default(this._element).hasClass(Cn)?Cn:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=xn,n&&this._backdrop.classList.add(n),a.default(this._backdrop).appendTo(document.body),a.default(this._element).on(gn,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())})),n&&v.reflow(this._backdrop),a.default(this._backdrop).addClass(Tn),!e)return;if(!n)return void e();var i=v.getTransitionDurationFromElement(this._backdrop);a.default(this._backdrop).one(v.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){a.default(this._backdrop).removeClass(Tn);var o=function(){t._removeBackdrop(),e&&e()};if(a.default(this._element).hasClass(Cn)){var r=v.getTransitionDurationFromElement(this._backdrop);a.default(this._backdrop).one(v.TRANSITION_END,o).emulateTransitionEnd(r)}else o()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(Mn)),n=[].slice.call(document.querySelectorAll(Ln));a.default(t).each((function(t,n){var i=n.style.paddingRight,o=a.default(n).css("padding-right");a.default(n).data("padding-right",i).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")})),a.default(n).each((function(t,n){var i=n.style.marginRight,o=a.default(n).css("margin-right");a.default(n).data("margin-right",i).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,o=a.default(document.body).css("padding-right");a.default(document.body).data("padding-right",i).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}a.default(document.body).addClass(Dn)},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Mn));a.default(e).each((function(e,t){var n=a.default(t).data("padding-right");a.default(t).removeData("padding-right"),t.style.paddingRight=n||""}));var t=[].slice.call(document.querySelectorAll(""+Ln));a.default(t).each((function(e,t){var n=a.default(t).data("margin-right");void 0!==n&&a.default(t).css("margin-right",n).removeData("margin-right")}));var n=a.default(document.body).data("padding-right");a.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className=En,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,n){return this.each((function(){var i=a.default(this).data(an),o=l({},cn,a.default(this).data(),"object"==typeof t&&t?t:{});if(i||(i=new e(this,o),a.default(this).data(an,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](n)}else o.show&&i.show(n)}))},s(e,null,[{key:"VERSION",get:function(){return nn}},{key:"Default",get:function(){return cn}}]),e}();a.default(document).on($n,An,(function(e){var t,n=this,i=v.getSelectorFromElement(this);i&&(t=document.querySelector(i));var o=a.default(t).data(an)?"toggle":l({},a.default(t).data(),a.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var r=a.default(t).one(pn,(function(e){e.isDefaultPrevented()||r.one(hn,(function(){a.default(n).is(":visible")&&n.focus()}))}));Nn._jQueryInterface.call(a.default(t),o,this)})),a.default.fn[tn]=Nn._jQueryInterface,a.default.fn[tn].Constructor=Nn,a.default.fn[tn].noConflict=function(){return a.default.fn[tn]=sn,Nn._jQueryInterface};var Pn=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],qn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Fn=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Bn(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Pn.indexOf(n)||Boolean(e.nodeValue.match(Fn)||e.nodeValue.match(jn));for(var i=t.filter((function(e){return e instanceof RegExp})),a=0,o=i.length;a<o;a++)if(n.match(i[a]))return!0;return!1}function Un(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),a=Object.keys(t),o=[].slice.call(i.body.querySelectorAll("*")),r=function(e,n){var i=o[e],r=i.nodeName.toLowerCase();if(-1===a.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var s=[].slice.call(i.attributes),l=[].concat(t["*"]||[],t[r]||[]);s.forEach((function(e){Bn(e,l)||i.removeAttribute(e.nodeName)}))},s=0,l=o.length;s<l;s++)r(s);return i.body.innerHTML}var zn="tooltip",Gn="4.6.0",Yn="bs.tooltip",Hn="."+Yn,Wn=a.default.fn[zn],Vn="bs-tooltip",Xn=new RegExp("(^|\\s)"+Vn+"\\S+","g"),Qn=["sanitize","whiteList","sanitizeFn"],Kn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Jn={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Zn={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:qn,popperConfig:null},ei="show",ti="out",ni={HIDE:"hide"+Hn,HIDDEN:"hidden"+Hn,SHOW:"show"+Hn,SHOWN:"shown"+Hn,INSERTED:"inserted"+Hn,CLICK:"click"+Hn,FOCUSIN:"focusin"+Hn,FOCUSOUT:"focusout"+Hn,MOUSEENTER:"mouseenter"+Hn,MOUSELEAVE:"mouseleave"+Hn},ii="fade",ai="show",oi=".tooltip-inner",ri=".arrow",si="hover",li="focus",ci="click",di="manual",ui=function(){function e(e,t){if(void 0===o.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=a.default(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),a.default(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(a.default(this.getTipElement()).hasClass(ai))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),a.default.removeData(this.element,this.constructor.DATA_KEY),a.default(this.element).off(this.constructor.EVENT_KEY),a.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&a.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===a.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=a.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){a.default(this.element).trigger(t);var n=v.findShadowRoot(this.element),i=a.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i)return;var r=this.getTipElement(),s=v.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&a.default(r).addClass(ii);var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var d=this._getContainer();a.default(r).data(this.constructor.DATA_KEY,this),a.default.contains(this.element.ownerDocument.documentElement,this.tip)||a.default(r).appendTo(d),a.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new o.default(this.element,r,this._getPopperConfig(c)),a.default(r).addClass(ai),a.default(r).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&a.default(document.body).children().on("mouseover",null,a.default.noop);var u=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,a.default(e.element).trigger(e.constructor.Event.SHOWN),t===ti&&e._leave(null,e)};if(a.default(this.tip).hasClass(ii)){var f=v.getTransitionDurationFromElement(this.tip);a.default(this.tip).one(v.TRANSITION_END,u).emulateTransitionEnd(f)}else u()}},t.hide=function(e){var t=this,n=this.getTipElement(),i=a.default.Event(this.constructor.Event.HIDE),o=function(){t._hoverState!==ei&&n.parentNode&&n.parentNode.removeChild(n),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),a.default(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(a.default(this.element).trigger(i),!i.isDefaultPrevented()){if(a.default(n).removeClass(ai),"ontouchstart"in document.documentElement&&a.default(document.body).children().off("mouseover",null,a.default.noop),this._activeTrigger[ci]=!1,this._activeTrigger[li]=!1,this._activeTrigger[si]=!1,a.default(this.tip).hasClass(ii)){var r=v.getTransitionDurationFromElement(n);a.default(n).one(v.TRANSITION_END,o).emulateTransitionEnd(r)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){a.default(this.getTipElement()).addClass(Vn+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||a.default(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(a.default(e.querySelectorAll(oi)),this.getTitle()),a.default(e).removeClass(ii+" "+ai)},t.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Un(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?a.default(t).parent().is(e)||e.empty().append(t):e.text(a.default(t).text())},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getPopperConfig=function(e){var t=this;return l({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:ri},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:v.isElement(this.config.container)?a.default(this.config.container):a.default(document).find(this.config.container)},t._getAttachment=function(e){return Jn[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)a.default(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(t!==di){var n=t===si?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=t===si?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;a.default(e.element).on(n,e.config.selector,(function(t){return e._enter(t)})).on(i,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},a.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||a.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),a.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?li:si]=!0),a.default(t.getTipElement()).hasClass(ai)||t._hoverState===ei?t._hoverState=ei:(clearTimeout(t._timeout),t._hoverState=ei,t.config.delay&&t.config.delay.show?t._timeout=setTimeout((function(){t._hoverState===ei&&t.show()}),t.config.delay.show):t.show())},t._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||a.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),a.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?li:si]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=ti,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===ti&&t.hide()}),t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){var t=a.default(this.element).data();return Object.keys(t).forEach((function(e){-1!==Qn.indexOf(e)&&delete t[e]})),"number"==typeof(e=l({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),v.typeCheckConfig(zn,e,this.constructor.DefaultType),e.sanitize&&(e.template=Un(e.template,e.whiteList,e.sanitizeFn)),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=a.default(this.getTipElement()),t=e.attr("class").match(Xn);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(a.default(e).removeClass(ii),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this),i=n.data(Yn),o="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new e(this,o),n.data(Yn,i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return Gn}},{key:"Default",get:function(){return Zn}},{key:"NAME",get:function(){return zn}},{key:"DATA_KEY",get:function(){return Yn}},{key:"Event",get:function(){return ni}},{key:"EVENT_KEY",get:function(){return Hn}},{key:"DefaultType",get:function(){return Kn}}]),e}();a.default.fn[zn]=ui._jQueryInterface,a.default.fn[zn].Constructor=ui,a.default.fn[zn].noConflict=function(){return a.default.fn[zn]=Wn,ui._jQueryInterface};var fi="popover",hi="4.6.0",pi="bs.popover",mi="."+pi,_i=a.default.fn[fi],vi="bs-popover",gi=new RegExp("(^|\\s)"+vi+"\\S+","g"),yi=l({},ui.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),bi=l({},ui.DefaultType,{content:"(string|element|function)"}),wi="fade",$i="show",ki=".popover-header",Ei=".popover-body",xi={HIDE:"hide"+mi,HIDDEN:"hidden"+mi,SHOW:"show"+mi,SHOWN:"shown"+mi,INSERTED:"inserted"+mi,CLICK:"click"+mi,FOCUSIN:"focusin"+mi,FOCUSOUT:"focusout"+mi,MOUSEENTER:"mouseenter"+mi,MOUSELEAVE:"mouseleave"+mi},Di=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(e){a.default(this.getTipElement()).addClass(vi+"-"+e)},n.getTipElement=function(){return this.tip=this.tip||a.default(this.config.template)[0],this.tip},n.setContent=function(){var e=a.default(this.getTipElement());this.setElementContent(e.find(ki),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(Ei),t),e.removeClass(wi+" "+$i)},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var e=a.default(this.getTipElement()),t=e.attr("class").match(gi);null!==t&&t.length>0&&e.removeClass(t.join(""))},t._jQueryInterface=function(e){return this.each((function(){var n=a.default(this).data(pi),i="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,i),a.default(this).data(pi,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return hi}},{key:"Default",get:function(){return yi}},{key:"NAME",get:function(){return fi}},{key:"DATA_KEY",get:function(){return pi}},{key:"Event",get:function(){return xi}},{key:"EVENT_KEY",get:function(){return mi}},{key:"DefaultType",get:function(){return bi}}]),t}(ui);a.default.fn[fi]=Di._jQueryInterface,a.default.fn[fi].Constructor=Di,a.default.fn[fi].noConflict=function(){return a.default.fn[fi]=_i,Di._jQueryInterface};var Ci="scrollspy",Ti="4.6.0",Ii="bs.scrollspy",Si="."+Ii,Oi=".data-api",Ai=a.default.fn[Ci],Ri={offset:10,method:"auto",target:""},Mi={offset:"number",method:"string",target:"(string|element)"},Li="activate"+Si,Ni="scroll"+Si,Pi="load"+Si+Oi,qi="dropdown-item",Fi="active",ji='[data-spy="scroll"]',Bi=".nav, .list-group",Ui=".nav-link",zi=".nav-item",Gi=".list-group-item",Yi=".dropdown",Hi=".dropdown-item",Wi=".dropdown-toggle",Vi="offset",Xi="position",Qi=function(){function e(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+Ui+","+this._config.target+" "+Gi+","+this._config.target+" "+Hi,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,a.default(this._scrollElement).on(Ni,(function(e){return n._process(e)})),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?Vi:Xi,n="auto"===this._config.method?t:this._config.method,i=n===Xi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var t,o=v.getSelectorFromElement(e);if(o&&(t=document.querySelector(o)),t){var r=t.getBoundingClientRect();if(r.width||r.height)return[a.default(t)[n]().top+i,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},t.dispose=function(){a.default.removeData(this._element,Ii),a.default(this._scrollElement).off(Si),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=l({},Ri,"object"==typeof e&&e?e:{})).target&&v.isElement(e.target)){var t=a.default(e.target).attr("id");t||(t=v.getUID(Ci),a.default(e.target).attr("id",t)),e.target="#"+t}return v.typeCheckConfig(Ci,e,Mi),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var a=this._offsets.length;a--;)this._activeTarget!==this._targets[a]&&e>=this._offsets[a]&&(void 0===this._offsets[a+1]||e<this._offsets[a+1])&&this._activate(this._targets[a])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),n=a.default([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass(qi)?(n.closest(Yi).find(Wi).addClass(Fi),n.addClass(Fi)):(n.addClass(Fi),n.parents(Bi).prev(Ui+", "+Gi).addClass(Fi),n.parents(Bi).prev(zi).children(Ui).addClass(Fi)),a.default(this._scrollElement).trigger(Li,{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(Fi)})).forEach((function(e){return e.classList.remove(Fi)}))},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(Ii);if(n||(n=new e(this,"object"==typeof t&&t),a.default(this).data(Ii,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return Ti}},{key:"Default",get:function(){return Ri}}]),e}();a.default(window).on(Pi,(function(){for(var e=[].slice.call(document.querySelectorAll(ji)),t=e.length;t--;){var n=a.default(e[t]);Qi._jQueryInterface.call(n,n.data())}})),a.default.fn[Ci]=Qi._jQueryInterface,a.default.fn[Ci].Constructor=Qi,a.default.fn[Ci].noConflict=function(){return a.default.fn[Ci]=Ai,Qi._jQueryInterface};var Ki="tab",Ji="4.6.0",Zi="bs.tab",ea="."+Zi,ta=".data-api",na=a.default.fn[Ki],ia="hide"+ea,aa="hidden"+ea,oa="show"+ea,ra="shown"+ea,sa="click"+ea+ta,la="dropdown-menu",ca="active",da="disabled",ua="fade",fa="show",ha=".dropdown",pa=".nav, .list-group",ma=".active",_a="> li > .active",va='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',ga=".dropdown-toggle",ya="> .dropdown-menu .active",ba=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&a.default(this._element).hasClass(ca)||a.default(this._element).hasClass(da))){var t,n,i=a.default(this._element).closest(pa)[0],o=v.getSelectorFromElement(this._element);if(i){var r="UL"===i.nodeName||"OL"===i.nodeName?_a:ma;n=(n=a.default.makeArray(a.default(i).find(r)))[n.length-1]}var s=a.default.Event(ia,{relatedTarget:this._element}),l=a.default.Event(oa,{relatedTarget:n});if(n&&a.default(n).trigger(s),a.default(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,i);var c=function(){var t=a.default.Event(aa,{relatedTarget:e._element}),i=a.default.Event(ra,{relatedTarget:n});a.default(n).trigger(t),a.default(e._element).trigger(i)};t?this._activate(t,t.parentNode,c):c()}}},t.dispose=function(){a.default.removeData(this._element,Zi),this._element=null},t._activate=function(e,t,n){var i=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?a.default(t).children(ma):a.default(t).find(_a))[0],r=n&&o&&a.default(o).hasClass(ua),s=function(){return i._transitionComplete(e,o,n)};if(o&&r){var l=v.getTransitionDurationFromElement(o);a.default(o).removeClass(fa).one(v.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},t._transitionComplete=function(e,t,n){if(t){a.default(t).removeClass(ca);var i=a.default(t.parentNode).find(ya)[0];i&&a.default(i).removeClass(ca),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(a.default(e).addClass(ca),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),v.reflow(e),e.classList.contains(ua)&&e.classList.add(fa),e.parentNode&&a.default(e.parentNode).hasClass(la)){var o=a.default(e).closest(ha)[0];if(o){var r=[].slice.call(o.querySelectorAll(ga));a.default(r).addClass(ca)}e.setAttribute("aria-expanded",!0)}n&&n()},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this),i=n.data(Zi);if(i||(i=new e(this),n.data(Zi,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return Ji}}]),e}();a.default(document).on(sa,va,(function(e){e.preventDefault(),ba._jQueryInterface.call(a.default(this),"show")})),a.default.fn[Ki]=ba._jQueryInterface,a.default.fn[Ki].Constructor=ba,a.default.fn[Ki].noConflict=function(){return a.default.fn[Ki]=na,ba._jQueryInterface};var wa="toast",$a="4.6.0",ka="bs.toast",Ea="."+ka,xa=a.default.fn[wa],Da="click.dismiss"+Ea,Ca="hide"+Ea,Ta="hidden"+Ea,Ia="show"+Ea,Sa="shown"+Ea,Oa="fade",Aa="hide",Ra="show",Ma="showing",La={animation:"boolean",autohide:"boolean",delay:"number"},Na={animation:!0,autohide:!0,delay:500},Pa='[data-dismiss="toast"]',qa=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var t=e.prototype;return t.show=function(){var e=this,t=a.default.Event(Ia);if(a.default(this._element).trigger(t),!t.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(Oa);var n=function(){e._element.classList.remove(Ma),e._element.classList.add(Ra),a.default(e._element).trigger(Sa),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove(Aa),v.reflow(this._element),this._element.classList.add(Ma),this._config.animation){var i=v.getTransitionDurationFromElement(this._element);a.default(this._element).one(v.TRANSITION_END,n).emulateTransitionEnd(i)}else n()}},t.hide=function(){if(this._element.classList.contains(Ra)){var e=a.default.Event(Ca);a.default(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ra)&&this._element.classList.remove(Ra),a.default(this._element).off(Da),a.default.removeData(this._element,ka),this._element=null,this._config=null},t._getConfig=function(e){return e=l({},Na,a.default(this._element).data(),"object"==typeof e&&e?e:{}),v.typeCheckConfig(wa,e,this.constructor.DefaultType),e},t._setListeners=function(){var e=this;a.default(this._element).on(Da,Pa,(function(){return e.hide()}))},t._close=function(){var e=this,t=function(){e._element.classList.add(Aa),a.default(e._element).trigger(Ta)};if(this._element.classList.remove(Ra),this._config.animation){var n=v.getTransitionDurationFromElement(this._element);a.default(this._element).one(v.TRANSITION_END,t).emulateTransitionEnd(n)}else t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this),i=n.data(ka);if(i||(i=new e(this,"object"==typeof t&&t),n.data(ka,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](this)}}))},s(e,null,[{key:"VERSION",get:function(){return $a}},{key:"DefaultType",get:function(){return La}},{key:"Default",get:function(){return Na}}]),e}();a.default.fn[wa]=qa._jQueryInterface,a.default.fn[wa].Constructor=qa,a.default.fn[wa].noConflict=function(){return a.default.fn[wa]=xa,qa._jQueryInterface},e.Alert=O,e.Button=K,e.Carousel=Ge,e.Collapse=ft,e.Dropdown=en,e.Modal=Nn,e.Popover=Di,e.Scrollspy=Qi,e.Tab=ba,e.Toast=qa,e.Tooltip=ui,e.Util=v,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(9755),n(8981))},3129:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return l(e)||c(e)||d(e)||f()}function l(e){if(Array.isArray(e))return u(e)}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h="undefined"!=typeof window&&void 0!==window.document,p=h?window:{},m=!(!h||!p.document.documentElement)&&"ontouchstart"in p.document.documentElement,_=!!h&&"PointerEvent"in p,v="cropper",g="all",y="crop",b="move",w="zoom",$="e",k="w",E="s",x="n",D="ne",C="nw",T="se",I="sw",S="".concat(v,"-crop"),O="".concat(v,"-disabled"),A="".concat(v,"-hidden"),R="".concat(v,"-hide"),M="".concat(v,"-invisible"),L="".concat(v,"-modal"),N="".concat(v,"-move"),P="".concat(v,"Action"),q="".concat(v,"Preview"),F="crop",j="move",B="none",U="crop",z="cropend",G="cropmove",Y="cropstart",H="dblclick",W=m?"touchstart":"mousedown",V=m?"touchmove":"mousemove",X=m?"touchend touchcancel":"mouseup",Q=_?"pointerdown":W,K=_?"pointermove":V,J=_?"pointerup pointercancel":X,Z="ready",ee="resize",te="wheel",ne="zoom",ie="image/jpeg",ae=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,oe=/^data:/,re=/^data:image\/jpeg;base64,/,se=/^img|canvas$/i,le=200,ce=100,de={viewMode:0,dragMode:F,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:le,minContainerHeight:ce,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ue='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',fe=Number.isNaN||p.isNaN;function he(e){return"number"==typeof e&&!fe(e)}var pe=function(e){return e>0&&e<1/0};function me(e){return void 0===e}function _e(t){return"object"===e(t)&&null!==t}var ve=Object.prototype.hasOwnProperty;function ge(e){if(!_e(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&ve.call(n,"isPrototypeOf")}catch(e){return!1}}function ye(e){return"function"==typeof e}var be=Array.prototype.slice;function we(e){return Array.from?Array.from(e):be.call(e)}function $e(e,t){return e&&ye(t)&&(Array.isArray(e)||he(e.length)?we(e).forEach((function(n,i){t.call(e,n,i,e)})):_e(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var ke=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return _e(e)&&n.length>0&&n.forEach((function(t){_e(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},Ee=/\.\d*(?:0|9){12}\d*$/;function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Ee.test(e)?Math.round(e*t)/t:e}var De=/^width|height|left|top|marginLeft|marginTop$/;function Ce(e,t){var n=e.style;$e(t,(function(e,t){De.test(t)&&he(e)&&(e="".concat(e,"px")),n[t]=e}))}function Te(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Ie(e,t){if(t)if(he(e.length))$e(e,(function(e){Ie(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Se(e,t){t&&(he(e.length)?$e(e,(function(e){Se(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Oe(e,t,n){t&&(he(e.length)?$e(e,(function(e){Oe(e,t,n)})):n?Ie(e,t):Se(e,t))}var Ae=/([a-z\d])([A-Z])/g;function Re(e){return e.replace(Ae,"$1-$2").toLowerCase()}function Me(e,t){return _e(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Re(t)))}function Le(e,t,n){_e(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Re(t)),n)}function Ne(e,t){if(_e(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Re(t)))}var Pe=/\s\s*/,qe=function(){var e=!1;if(h){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});p.addEventListener("test",n,i),p.removeEventListener("test",n,i)}return e}();function Fe(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n;t.trim().split(Pe).forEach((function(t){if(!qe){var o=e.listeners;o&&o[t]&&o[t][n]&&(a=o[t][n],delete o[t][n],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,a,i)}))}function je(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n;t.trim().split(Pe).forEach((function(t){if(i.once&&!qe){var o=e.listeners,r=void 0===o?{}:o;a=function(){delete r[t][n],e.removeEventListener(t,a,i);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];n.apply(e,s)},r[t]||(r[t]={}),r[t][n]&&e.removeEventListener(t,r[t][n],i),r[t][n]=a,e.listeners=r}e.addEventListener(t,a,i)}))}function Be(e,t,n){var i;return ye(Event)&&ye(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function Ue(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var ze=p.location,Ge=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ye(e){var t=e.match(Ge);return null!==t&&(t[1]!==ze.protocol||t[2]!==ze.hostname||t[3]!==ze.port)}function He(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function We(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,a=e.translateX,o=e.translateY,r=[];he(a)&&0!==a&&r.push("translateX(".concat(a,"px)")),he(o)&&0!==o&&r.push("translateY(".concat(o,"px)")),he(t)&&0!==t&&r.push("rotate(".concat(t,"deg)")),he(n)&&1!==n&&r.push("scaleX(".concat(n,")")),he(i)&&1!==i&&r.push("scaleY(".concat(i,")"));var s=r.length?r.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ve(e){var t=r({},e),n=0;return $e(e,(function(e,i){delete t[i],$e(t,(function(t){var i=Math.abs(e.startX-t.startX),a=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),r=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+a*a),l=(Math.sqrt(o*o+r*r)-s)/s;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}function Xe(e,t){var n=e.pageX,i=e.pageY,a={endX:n,endY:i};return t?a:r({startX:n,startY:i},a)}function Qe(e){var t=0,n=0,i=0;return $e(e,(function(e){var a=e.startX,o=e.startY;t+=a,n+=o,i+=1})),{pageX:t/=i,pageY:n/=i}}function Ke(e){var t=e.aspectRatio,n=e.height,i=e.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=pe(i),r=pe(n);if(o&&r){var s=n*t;"contain"===a&&s>i||"cover"===a&&s<i?n=i/t:i=n*t}else o?n=i/t:r&&(i=n*t);return{width:i,height:n}}function Je(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var a=i%90*Math.PI/180,o=Math.sin(a),r=Math.cos(a),s=t*r+n*o,l=t*o+n*r;return i>90?{width:l,height:s}:{width:s,height:l}}function Ze(e,t,n,i){var a=t.aspectRatio,o=t.naturalWidth,r=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,d=t.scaleX,u=void 0===d?1:d,f=t.scaleY,h=void 0===f?1:f,p=n.aspectRatio,m=n.naturalWidth,_=n.naturalHeight,v=i.fillColor,g=void 0===v?"transparent":v,y=i.imageSmoothingEnabled,b=void 0===y||y,w=i.imageSmoothingQuality,$=void 0===w?"low":w,k=i.maxWidth,E=void 0===k?1/0:k,x=i.maxHeight,D=void 0===x?1/0:x,C=i.minWidth,T=void 0===C?0:C,I=i.minHeight,S=void 0===I?0:I,O=document.createElement("canvas"),A=O.getContext("2d"),R=Ke({aspectRatio:p,width:E,height:D}),M=Ke({aspectRatio:p,width:T,height:S},"cover"),L=Math.min(R.width,Math.max(M.width,m)),N=Math.min(R.height,Math.max(M.height,_)),P=Ke({aspectRatio:a,width:E,height:D}),q=Ke({aspectRatio:a,width:T,height:S},"cover"),F=Math.min(P.width,Math.max(q.width,o)),j=Math.min(P.height,Math.max(q.height,r)),B=[-F/2,-j/2,F,j];return O.width=xe(L),O.height=xe(N),A.fillStyle=g,A.fillRect(0,0,L,N),A.save(),A.translate(L/2,N/2),A.rotate(c*Math.PI/180),A.scale(u,h),A.imageSmoothingEnabled=b,A.imageSmoothingQuality=$,A.drawImage.apply(A,[e].concat(s(B.map((function(e){return Math.floor(xe(e))}))))),A.restore(),O}var et=String.fromCharCode;function tt(e,t,n){var i="";n+=t;for(var a=t;a<n;a+=1)i+=et(e.getUint8(a));return i}var nt=/^data:.*,/;function it(e){var t=e.replace(nt,""),n=atob(t),i=new ArrayBuffer(n.length),a=new Uint8Array(i);return $e(a,(function(e,t){a[t]=n.charCodeAt(t)})),i}function at(e,t){for(var n=[],i=8192,a=new Uint8Array(e);a.length>0;)n.push(et.apply(null,we(a.subarray(0,i)))),a=a.subarray(i);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function ot(e){var t,n=new DataView(e);try{var i,a,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var r=n.byteLength,s=2;s+1<r;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){a=s;break}s+=1}if(a){var l=a+10;if("Exif"===tt(n,a+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var d=n.getUint32(l+4,i);d>=8&&(o=l+d)}}}if(o){var u,f,h=n.getUint16(o,i);for(f=0;f<h;f+=1)if(u=o+12*f+2,274===n.getUint16(u,i)){u+=8,t=n.getUint16(u,i),n.setUint16(u,1,i);break}}}catch(e){t=1}return t}function rt(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}var st={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper,a=Number(t.minContainerWidth),o=Number(t.minContainerHeight);Ie(i,A),Se(e,A);var r={width:Math.max(n.offsetWidth,a>=0?a:le),height:Math.max(n.offsetHeight,o>=0?o:ce)};this.containerData=r,Ce(i,{width:r.width,height:r.height}),Ie(e,A),Se(i,A)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,a=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,r=a/o,s=e.width,l=e.height;e.height*r>e.width?3===n?s=e.height*r:l=e.width/r:3===n?l=e.width/r:s=e.height*r;var c={aspectRatio:r,naturalWidth:a,naturalHeight:o,width:s,height:l};this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=ke({},c)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,r=n.viewMode,s=a.aspectRatio,l=this.cropped&&o;if(e){var c=Number(n.minCanvasWidth)||0,d=Number(n.minCanvasHeight)||0;r>1?(c=Math.max(c,i.width),d=Math.max(d,i.height),3===r&&(d*s>c?c=d*s:d=c/s)):r>0&&(c?c=Math.max(c,l?o.width:0):d?d=Math.max(d,l?o.height:0):l&&(c=o.width,(d=o.height)*s>c?c=d*s:d=c/s));var u=Ke({aspectRatio:s,width:c,height:d});c=u.width,d=u.height,a.minWidth=c,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(r>(l?0:1)){var f=i.width-a.width,h=i.height-a.height;a.minLeft=Math.min(0,f),a.minTop=Math.min(0,h),a.maxLeft=Math.max(0,f),a.maxTop=Math.max(0,h),l&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,2===r&&(a.width>=i.width&&(a.minLeft=Math.min(0,f),a.maxLeft=Math.max(0,f)),a.height>=i.height&&(a.minTop=Math.min(0,h),a.maxTop=Math.max(0,h))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var a=Je({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=a.width,r=a.height,s=n.width*(o/n.naturalWidth),l=n.height*(r/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=o/r,n.naturalWidth=o,n.naturalHeight=r,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Ce(this.canvas,ke({width:n.width,height:n.height},We({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),a=n.naturalHeight*(t.height/t.naturalHeight);ke(n,{width:i,height:a,left:(t.width-i)/2,top:(t.height-a)/2}),Ce(this.image,ke({width:n.width,height:n.height},We(ke({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:t.width,height:t.height};n&&(t.height*n>t.width?a.height=a.width/n:a.width=a.height*n),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=t.left+(t.width-a.width)/2,a.top=t.top+(t.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=ke({},a)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,r=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,d=r?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,u=r?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),u*s>d?u=d/s:d=u*s),o.minWidth=Math.min(l,d),o.minHeight=Math.min(c,u),o.maxWidth=d,o.maxHeight=u}t&&(r?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(i.width,a.left+a.width)-o.width,o.maxTop=Math.min(i.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Le(this.face,P,n.width>=t.width&&n.height>=t.height?b:g),Ce(this.cropBox,ke({width:n.width,height:n.height},We({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Be(this.element,U,this.getData())}},lt={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var r=n;"string"==typeof n?r=e.ownerDocument.querySelectorAll(n):n.querySelector&&(r=[n]),this.previews=r,$e(r,(function(e){var n=document.createElement("img");Le(e,q,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=a,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){$e(this.previews,(function(e){var t=Me(e,q);Ce(e,{width:t.width,height:t.height}),e.innerHTML=t.html,Ne(e,q)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,a=n.height,o=e.width,r=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(Ce(this.viewBoxImage,ke({width:o,height:r},We(ke({translateX:-s,translateY:-l},e)))),$e(this.previews,(function(t){var n=Me(t,q),c=n.width,d=n.height,u=c,f=d,h=1;i&&(f=a*(h=c/i)),a&&f>d&&(u=i*(h=d/a),f=d),Ce(t,{width:u,height:f}),Ce(t.getElementsByTagName("img")[0],ke({width:o*h,height:r*h},We(ke({translateX:-s*h,translateY:-l*h},e))))})))}},ct={bind:function(){var e=this.element,t=this.options,n=this.cropper;ye(t.cropstart)&&je(e,Y,t.cropstart),ye(t.cropmove)&&je(e,G,t.cropmove),ye(t.cropend)&&je(e,z,t.cropend),ye(t.crop)&&je(e,U,t.crop),ye(t.zoom)&&je(e,ne,t.zoom),je(n,Q,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&je(n,te,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&je(n,H,this.onDblclick=this.dblclick.bind(this)),je(e.ownerDocument,K,this.onCropMove=this.cropMove.bind(this)),je(e.ownerDocument,J,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&je(window,ee,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;ye(t.cropstart)&&Fe(e,Y,t.cropstart),ye(t.cropmove)&&Fe(e,G,t.cropmove),ye(t.cropend)&&Fe(e,z,t.cropend),ye(t.crop)&&Fe(e,U,t.crop),ye(t.zoom)&&Fe(e,ne,t.zoom),Fe(n,Q,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Fe(n,te,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Fe(n,H,this.onDblclick),Fe(e.ownerDocument,K,this.onCropMove),Fe(e.ownerDocument,J,this.onCropEnd),t.responsive&&Fe(window,ee,this.onResize)}},dt={resize:function(){if(!this.disabled){var e,t,n=this.options,i=this.container,a=this.containerData,o=i.offsetWidth/a.width;1===o&&i.offsetHeight===a.height||(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData($e(e,(function(t,n){e[n]=t*o}))),this.setCropBoxData($e(t,(function(e,n){t[n]=e*o})))))}},dblclick:function(){this.disabled||this.options.dragMode===B||this.setDragMode(Te(this.dragBox,S)?j:F)},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(he(t)&&1!==t||he(n)&&0!==n||e.ctrlKey))){var i,a=this.options,o=this.pointers;e.changedTouches?$e(e.changedTouches,(function(e){o[e.identifier]=Xe(e)})):o[e.pointerId||0]=Xe(e),i=Object.keys(o).length>1&&a.zoomable&&a.zoomOnTouch?w:Me(e.target,P),ae.test(i)&&!1!==Be(this.element,Y,{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,i===y&&(this.cropping=!0,Ie(this.dragBox,L)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==Be(this.element,G,{originalEvent:e,action:t})&&(e.changedTouches?$e(e.changedTouches,(function(e){ke(n[e.identifier]||{},Xe(e,!0))})):ke(n[e.pointerId||0]||{},Xe(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?$e(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Oe(this.dragBox,L,this.cropped&&this.options.modal)),Be(this.element,z,{originalEvent:e,action:t}))}}},ut={change:function(e){var t,n=this.options,i=this.canvasData,a=this.containerData,o=this.cropBoxData,r=this.pointers,s=this.action,l=n.aspectRatio,c=o.left,d=o.top,u=o.width,f=o.height,h=c+u,p=d+f,m=0,_=0,v=a.width,S=a.height,O=!0;!l&&e.shiftKey&&(l=u&&f?u/f:1),this.limited&&(m=o.minLeft,_=o.minTop,v=m+Math.min(a.width,i.width,i.left+i.width),S=_+Math.min(a.height,i.height,i.top+i.height));var R=r[Object.keys(r)[0]],M={x:R.endX-R.startX,y:R.endY-R.startY},L=function(e){switch(e){case $:h+M.x>v&&(M.x=v-h);break;case k:c+M.x<m&&(M.x=m-c);break;case x:d+M.y<_&&(M.y=_-d);break;case E:p+M.y>S&&(M.y=S-p)}};switch(s){case g:c+=M.x,d+=M.y;break;case $:if(M.x>=0&&(h>=v||l&&(d<=_||p>=S))){O=!1;break}L($),(u+=M.x)<0&&(s=k,c-=u=-u),l&&(f=u/l,d+=(o.height-f)/2);break;case x:if(M.y<=0&&(d<=_||l&&(c<=m||h>=v))){O=!1;break}L(x),f-=M.y,d+=M.y,f<0&&(s=E,d-=f=-f),l&&(u=f*l,c+=(o.width-u)/2);break;case k:if(M.x<=0&&(c<=m||l&&(d<=_||p>=S))){O=!1;break}L(k),u-=M.x,c+=M.x,u<0&&(s=$,c-=u=-u),l&&(f=u/l,d+=(o.height-f)/2);break;case E:if(M.y>=0&&(p>=S||l&&(c<=m||h>=v))){O=!1;break}L(E),(f+=M.y)<0&&(s=x,d-=f=-f),l&&(u=f*l,c+=(o.width-u)/2);break;case D:if(l){if(M.y<=0&&(d<=_||h>=v)){O=!1;break}L(x),f-=M.y,d+=M.y,u=f*l}else L(x),L($),M.x>=0?h<v?u+=M.x:M.y<=0&&d<=_&&(O=!1):u+=M.x,M.y<=0?d>_&&(f-=M.y,d+=M.y):(f-=M.y,d+=M.y);u<0&&f<0?(s=I,d-=f=-f,c-=u=-u):u<0?(s=C,c-=u=-u):f<0&&(s=T,d-=f=-f);break;case C:if(l){if(M.y<=0&&(d<=_||c<=m)){O=!1;break}L(x),f-=M.y,d+=M.y,u=f*l,c+=o.width-u}else L(x),L(k),M.x<=0?c>m?(u-=M.x,c+=M.x):M.y<=0&&d<=_&&(O=!1):(u-=M.x,c+=M.x),M.y<=0?d>_&&(f-=M.y,d+=M.y):(f-=M.y,d+=M.y);u<0&&f<0?(s=T,d-=f=-f,c-=u=-u):u<0?(s=D,c-=u=-u):f<0&&(s=I,d-=f=-f);break;case I:if(l){if(M.x<=0&&(c<=m||p>=S)){O=!1;break}L(k),u-=M.x,c+=M.x,f=u/l}else L(E),L(k),M.x<=0?c>m?(u-=M.x,c+=M.x):M.y>=0&&p>=S&&(O=!1):(u-=M.x,c+=M.x),M.y>=0?p<S&&(f+=M.y):f+=M.y;u<0&&f<0?(s=D,d-=f=-f,c-=u=-u):u<0?(s=T,c-=u=-u):f<0&&(s=C,d-=f=-f);break;case T:if(l){if(M.x>=0&&(h>=v||p>=S)){O=!1;break}L($),f=(u+=M.x)/l}else L(E),L($),M.x>=0?h<v?u+=M.x:M.y>=0&&p>=S&&(O=!1):u+=M.x,M.y>=0?p<S&&(f+=M.y):f+=M.y;u<0&&f<0?(s=C,d-=f=-f,c-=u=-u):u<0?(s=I,c-=u=-u):f<0&&(s=D,d-=f=-f);break;case b:this.move(M.x,M.y),O=!1;break;case w:this.zoom(Ve(r),e),O=!1;break;case y:if(!M.x||!M.y){O=!1;break}t=Ue(this.cropper),c=R.startX-t.left,d=R.startY-t.top,u=o.minWidth,f=o.minHeight,M.x>0?s=M.y>0?T:D:M.x<0&&(c-=u,s=M.y>0?I:C),M.y<0&&(d-=f),this.cropped||(Se(this.cropBox,A),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}O&&(o.width=u,o.height=f,o.left=c,o.top=d,this.action=s,this.renderCropBox()),$e(r,(function(e){e.startX=e.endX,e.startY=e.endY}))}},ft={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ie(this.dragBox,L),Se(this.cropBox,A),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ke({},this.initialImageData),this.canvasData=ke({},this.initialCanvasData),this.cropBoxData=ke({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ke(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Se(this.dragBox,L),Ie(this.cropBox,A)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,$e(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Se(this.cropper,O)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ie(this.cropper,O)),this},destroy:function(){var e=this.element;return e[v]?(e[v]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=n.left,a=n.top;return this.moveTo(me(e)?e:i+Number(e),me(t)?t:a+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(he(e)&&(n.left=e,i=!0),he(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,a=this.canvasData,o=a.width,r=a.height,s=a.naturalWidth,l=a.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,d=l*e;if(!1===Be(this.element,ne,{ratio:e,oldRatio:o/s,originalEvent:n}))return this;if(n){var u=this.pointers,f=Ue(this.cropper),h=u&&Object.keys(u).length?Qe(u):{pageX:n.pageX,pageY:n.pageY};a.left-=(c-o)*((h.pageX-f.left-a.left)/o),a.top-=(d-r)*((h.pageY-f.top-a.top)/r)}else ge(t)&&he(t.x)&&he(t.y)?(a.left-=(c-o)*((t.x-a.left)/o),a.top-=(d-r)*((t.y-a.top)/r)):(a.left-=(c-o)/2,a.top-=(d-r)/2);a.width=c,a.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return he(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,he(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(he(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(he(e)&&(n.scaleX=e,i=!0),he(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,a=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-a.left,y:o.top-a.top,width:o.width,height:o.height};var r=i.width/i.naturalWidth;if($e(e,(function(t,n){e[n]=t/r})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=i.rotate||0),n.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&ge(e)){var o=!1;t.rotatable&&he(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,o=!0),t.scalable&&(he(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,o=!0),he(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var r=n.width/n.naturalWidth;he(e.x)&&(a.left=e.x*r+i.left),he(e.y)&&(a.top=e.y*r+i.top),he(e.width)&&(a.width=e.width*r),he(e.height)&&(a.height=e.height*r),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?ke({},this.containerData):{}},getImageData:function(){return this.sized?ke({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&$e(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&ge(e)&&(he(e.left)&&(t.left=e.left),he(e.top)&&(t.top=e.top),he(e.width)?(t.width=e.width,t.height=e.width/n):he(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,a=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ge(e)&&(he(e.left)&&(i.left=e.left),he(e.top)&&(i.top=e.top),he(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),he(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),a&&(t?i.height=i.width/a:n&&(i.width=i.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=Ze(this.image,this.imageData,t,e);if(!this.cropped)return n;var i=this.getData(),a=i.x,o=i.y,r=i.width,l=i.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(a*=c,o*=c,r*=c,l*=c);var d=r/l,u=Ke({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ke({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=Ke({aspectRatio:d,width:e.width||(1!==c?n.width:r),height:e.height||(1!==c?n.height:l)}),p=h.width,m=h.height;p=Math.min(u.width,Math.max(f.width,p)),m=Math.min(u.height,Math.max(f.height,m));var _=document.createElement("canvas"),v=_.getContext("2d");_.width=xe(p),_.height=xe(m),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,p,m);var g=e.imageSmoothingEnabled,y=void 0===g||g,b=e.imageSmoothingQuality;v.imageSmoothingEnabled=y,b&&(v.imageSmoothingQuality=b);var w,$,k,E,x,D,C=n.width,T=n.height,I=a,S=o;I<=-r||I>C?(I=0,w=0,k=0,x=0):I<=0?(k=-I,I=0,x=w=Math.min(C,r+I)):I<=C&&(k=0,x=w=Math.min(r,C-I)),w<=0||S<=-l||S>T?(S=0,$=0,E=0,D=0):S<=0?(E=-S,S=0,D=$=Math.min(T,l+S)):S<=T&&(E=0,D=$=Math.min(l,T-S));var O=[I,S,w,$];if(x>0&&D>0){var A=p/r;O.push(k*A,E*A,x*A,D*A)}return v.drawImage.apply(v,[n].concat(s(O.map((function(e){return Math.floor(xe(e))}))))),_},setAspectRatio:function(e){var t=this.options;return this.disabled||me(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=e===F,o=t.movable&&e===j;e=a||o?e:B,t.dragMode=e,Le(n,P,e),Oe(n,S,a),Oe(n,N,o),t.cropBoxMovable||(Le(i,P,e),Oe(i,S,a),Oe(i,N,o))}return this}},ht=p.Cropper,pt=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!n||!se.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=ke({},de,ge(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(e,[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[v]){if(t[v]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(oe.test(e))re.test(e)?this.read(it(e)):this.clone();else{var a=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=o,a.onerror=o,a.ontimeout=o,a.onprogress=function(){a.getResponseHeader("content-type")!==ie&&a.abort()},a.onload=function(){t.read(a.response)},a.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&Ye(e)&&n.crossOrigin&&(e=He(e)),a.open("GET",e,!0),a.responseType="arraybuffer",a.withCredentials="use-credentials"===n.crossOrigin,a.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=ot(e),a=0,o=1,r=1;if(i>1){this.url=at(e,ie);var s=rt(i);a=s.rotate,o=s.scaleX,r=s.scaleY}t.rotatable&&(n.rotate=a),t.scalable&&(n.scaleX=o,n.scaleY=r),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&Ye(t)&&(n||(n="anonymous"),i=He(t)),this.crossOrigin=n,this.crossOriginUrl=i;var a=document.createElement("img");n&&(a.crossOrigin=n),a.src=i||t,a.alt=e.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),Ie(a,R),e.parentNode.insertBefore(a,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=p.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(p.navigator.userAgent),i=function(t,n){ke(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=ke({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var a=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),n||o.removeChild(a)},a.src=t.src,n||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(a))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,a=document.createElement("div");a.innerHTML=ue;var o=a.querySelector(".".concat(v,"-container")),r=o.querySelector(".".concat(v,"-canvas")),s=o.querySelector(".".concat(v,"-drag-box")),l=o.querySelector(".".concat(v,"-crop-box")),c=l.querySelector(".".concat(v,"-face"));this.container=i,this.cropper=o,this.canvas=r,this.dragBox=s,this.cropBox=l,this.viewBox=o.querySelector(".".concat(v,"-view-box")),this.face=c,r.appendChild(n),Ie(e,A),i.insertBefore(o,e.nextSibling),this.isImg||Se(n,R),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Ie(l,A),t.guides||Ie(l.getElementsByClassName("".concat(v,"-dashed")),A),t.center||Ie(l.getElementsByClassName("".concat(v,"-center")),A),t.background&&Ie(o,"".concat(v,"-bg")),t.highlight||Ie(c,M),t.cropBoxMovable&&(Ie(c,N),Le(c,P,g)),t.cropBoxResizable||(Ie(l.getElementsByClassName("".concat(v,"-line")),A),Ie(l.getElementsByClassName("".concat(v,"-point")),A)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),ye(t.ready)&&je(e,Z,t.ready,{once:!0}),Be(e,Z)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Se(this.element,A))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ht,e}},{key:"setDefaults",value:function(e){ke(de,ge(e)&&e)}}]),e}();return ke(pt.prototype,st,lt,ct,dt,ut,ft),pt}()},7193:(e,t,n)=>{var i,a,o;!function(r){"use strict";a=[n(9755)],void 0===(o="function"==typeof(i=function(e){var t="dmUploader",n={PENDING:0,UPLOADING:1,COMPLETED:2,FAILED:3,CANCELLED:4},i={auto:!0,queue:!0,dnd:!0,hookDocument:!0,multiple:!0,url:document.URL,method:"POST",extraData:{},headers:{},dataType:null,fieldName:"file",maxFileSize:0,allowedTypes:"*",extFilter:null,onInit:function(){},onComplete:function(){},onFallbackMode:function(){},onNewFile:function(){},onBeforeUpload:function(){},onUploadProgress:function(){},onUploadSuccess:function(){},onUploadCanceled:function(){},onUploadError:function(){},onUploadComplete:function(){},onFileTypeError:function(){},onFileSizeError:function(){},onFileExtError:function(){},onDragEnter:function(){},onDragLeave:function(){},onDocumentDragEnter:function(){},onDocumentDragLeave:function(){}},a=function(e,t){this.data=e,this.widget=t,this.jqXHR=null,this.status=n.PENDING,this.id=Math.random().toString(36).substr(2)};a.prototype.upload=function(){var t=this;if(!t.canUpload())return t.widget.queueRunning&&t.status!==n.UPLOADING&&t.widget.processQueue(),!1;var i=new FormData;i.append(t.widget.settings.fieldName,t.data);var a=t.widget.settings.extraData;return"function"==typeof a&&(a=a.call(t.widget.element,t.id)),e.each(a,(function(e,t){i.append(e,t)})),t.status=n.UPLOADING,t.widget.activeFiles++,t.widget.settings.onBeforeUpload.call(t.widget.element,t.id),t.jqXHR=e.ajax({url:t.widget.settings.url,type:t.widget.settings.method,dataType:t.widget.settings.dataType,data:i,headers:t.widget.settings.headers,cache:!1,contentType:!1,processData:!1,forceSync:!1,xhr:function(){return t.getXhr()},success:function(e){t.onSuccess(e)},error:function(e,n,i){t.onError(e,n,i)},complete:function(){t.onComplete()}}),!0},a.prototype.onSuccess=function(e){this.status=n.COMPLETED,this.widget.settings.onUploadSuccess.call(this.widget.element,this.id,e)},a.prototype.onError=function(e,t,i){this.status!==n.CANCELLED&&(this.status=n.FAILED,this.widget.settings.onUploadError.call(this.widget.element,this.id,e,t,i))},a.prototype.onComplete=function(){this.widget.activeFiles--,this.status!==n.CANCELLED&&this.widget.settings.onUploadComplete.call(this.widget.element,this.id),this.widget.queueRunning?this.widget.processQueue():this.widget.settings.queue&&0===this.widget.activeFiles&&this.widget.settings.onComplete.call(this.element)},a.prototype.getXhr=function(){var t=this,n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",(function(e){var n=0,i=e.loaded||e.position,a=e.total||e.totalSize;e.lengthComputable&&(n=Math.ceil(i/a*100)),t.widget.settings.onUploadProgress.call(t.widget.element,t.id,n)}),!1),n},a.prototype.cancel=function(e){e=void 0!==e&&e;var t=this.status;return!!(t===n.UPLOADING||e&&t===n.PENDING)&&(this.status=n.CANCELLED,this.widget.settings.onUploadCanceled.call(this.widget.element,this.id),t===n.UPLOADING&&this.jqXHR.abort(),!0)},a.prototype.canUpload=function(){return this.status===n.PENDING||this.status===n.FAILED};var o=function(t,n){return this.element=e(t),this.settings=e.extend({},i,n),this.checkSupport()?(this.init(),this):(e.error("Browser not supported by jQuery.dmUploader"),this.settings.onFallbackMode.call(this.element),!1)};o.prototype.checkSupport=function(){return void 0!==window.FormData&&(!new RegExp("/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1.0|2.0|2.5|3.0))/").test(window.navigator.userAgent)&&!e('<input type="file" />').prop("disabled"))},o.prototype.init=function(){var n=this;this.queue=[],this.queuePos=-1,this.queueRunning=!1,this.activeFiles=0,this.draggingOver=0,this.draggingOverDoc=0;var i=n.element.is("input[type=file]")?n.element:n.element.find("input[type=file]");return i.length>0&&(i.prop("multiple",this.settings.multiple),i.on("change."+t,(function(t){var i=t.target&&t.target.files;i&&i.length&&(n.addFiles(i),e(this).val(""))}))),this.settings.dnd&&this.initDnD(),0!==i.length||this.settings.dnd?(this.settings.onInit.call(this.element),this):(e.error("Markup error found by jQuery.dmUploader"),null)},o.prototype.initDnD=function(){var n=this;n.element.on("drop."+t,(function(e){e.preventDefault(),n.draggingOver>0&&(n.draggingOver=0,n.settings.onDragLeave.call(n.element));var t=e.originalEvent&&e.originalEvent.dataTransfer;if(t&&t.files&&t.files.length){var i=[];n.settings.multiple?i=t.files:i.push(t.files[0]),n.addFiles(i)}})),n.element.on("dragenter."+t,(function(e){e.preventDefault(),0===n.draggingOver&&n.settings.onDragEnter.call(n.element),n.draggingOver++})),n.element.on("dragleave."+t,(function(e){e.preventDefault(),n.draggingOver--,0===n.draggingOver&&n.settings.onDragLeave.call(n.element)})),n.settings.hookDocument&&(e(document).off("drop."+t).on("drop."+t,(function(e){e.preventDefault(),n.draggingOverDoc>0&&(n.draggingOverDoc=0,n.settings.onDocumentDragLeave.call(n.element))})),e(document).off("dragenter."+t).on("dragenter."+t,(function(e){e.preventDefault(),0===n.draggingOverDoc&&n.settings.onDocumentDragEnter.call(n.element),n.draggingOverDoc++})),e(document).off("dragleave."+t).on("dragleave."+t,(function(e){e.preventDefault(),n.draggingOverDoc--,0===n.draggingOverDoc&&n.settings.onDocumentDragLeave.call(n.element)})),e(document).off("dragover."+t).on("dragover."+t,(function(e){e.preventDefault()})))},o.prototype.releaseEvents=function(){this.element.off("."+t),this.element.find("input[type=file]").off("."+t),this.settings.hookDocument&&e(document).off("."+t)},o.prototype.validateFile=function(t){if(this.settings.maxFileSize>0&&t.size>this.settings.maxFileSize)return this.settings.onFileSizeError.call(this.element,t),!1;if("*"!==this.settings.allowedTypes&&!t.type.match(this.settings.allowedTypes))return this.settings.onFileTypeError.call(this.element,t),!1;if(null!==this.settings.extFilter){var n=t.name.toLowerCase().split(".").pop();if(e.inArray(n,this.settings.extFilter)<0)return this.settings.onFileExtError.call(this.element,t),!1}return new a(t,this)},o.prototype.addFiles=function(e){for(var t=0,n=0;n<e.length;n++){var i=this.validateFile(e[n]);if(i)!1!==this.settings.onNewFile.call(this.element,i.id,i.data)&&(this.settings.auto&&!this.settings.queue&&i.upload(),this.queue.push(i),t++)}return 0===t||this.settings.auto&&this.settings.queue&&!this.queueRunning&&this.processQueue(),this},o.prototype.processQueue=function(){return this.queuePos++,this.queuePos>=this.queue.length?(0===this.activeFiles&&this.settings.onComplete.call(this.element),this.queuePos=this.queue.length-1,this.queueRunning=!1,!1):(this.queueRunning=!0,this.queue[this.queuePos].upload())},o.prototype.restartQueue=function(){this.queuePos=-1,this.queueRunning=!1,this.processQueue()},o.prototype.findById=function(e){for(var t=!1,n=0;n<this.queue.length;n++)if(this.queue[n].id===e){t=this.queue[n];break}return t},o.prototype.cancelAll=function(){var e=this.queueRunning;this.queueRunning=!1;for(var t=0;t<this.queue.length;t++)this.queue[t].cancel();e&&this.settings.onComplete.call(this.element)},o.prototype.startAll=function(){if(this.settings.queue)this.restartQueue();else for(var e=0;e<this.queue.length;e++)this.queue[e].upload()},o.prototype.methods={start:function(t){if(this.queueRunning)return!1;var i=!1;return void 0===t||(i=this.findById(t))?i?(i.status===n.CANCELLED&&(i.status=n.PENDING),i.upload()):(this.startAll(),!0):(e.error("File not found in jQuery.dmUploader"),!1)},cancel:function(t){var n=!1;return void 0===t||(n=this.findById(t))?n?n.cancel(!0):(this.cancelAll(),!0):(e.error("File not found in jQuery.dmUploader"),!1)},reset:function(){return this.cancelAll(),this.queue=[],this.queuePos=-1,this.activeFiles=0,!0},destroy:function(){this.cancelAll(),this.releaseEvents(),this.element.removeData(t)}},e.fn.dmUploader=function(n){var i=arguments;if("string"!=typeof n)return this.each((function(){e.data(this,t)||e.data(this,t,new o(this,n))}));this.each((function(){var a=e.data(this,t);a instanceof o?"function"==typeof a.methods[n]?a.methods[n].apply(a,Array.prototype.slice.call(i,1)):e.error("Method "+n+" does not exist in jQuery.dmUploader"):e.error("Unknown plugin data found by jQuery.dmUploader")}))}})?i.apply(t,a):i)||(e.exports=o)}()},3999:(e,t)=>{"use strict";var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!n.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some((function(e){return e.length>63}))}},8515:function(e){e.exports=function(){"use strict";var e=function(){self.onmessage=function(t){e(t.data.message,(function(e){self.postMessage({id:t.data.id,message:e})}))};var e=function(e,t){var n=e.file,i=new FileReader;i.onloadend=function(){t(i.result.replace("data:","").replace(/^.+,/,""))},i.readAsDataURL(n)}},t=function(t){var n=t.addFilter,i=t.utils,a=i.Type,o=i.createWorker,r=i.createRoute,s=i.isFile,l=function(t){var n=t.name,i=t.file;return new Promise((function(t){var a=o(e);a.post({file:i},(function(e){t({name:n,data:e}),a.terminate()}))}))},c=[];return n("DID_CREATE_ITEM",(function(e,t){(0,t.query)("GET_ALLOW_FILE_ENCODE")&&(e.extend("getFileEncodeBase64String",(function(){return c[e.id]&&c[e.id].data})),e.extend("getFileEncodeDataURL",(function(){return"data:".concat(e.fileType,";base64,").concat(c[e.id].data)})))})),n("SHOULD_PREPARE_OUTPUT",(function(e,t){var n=t.query;return new Promise((function(e){e(n("GET_ALLOW_FILE_ENCODE"))}))})),n("COMPLETE_PREPARE_OUTPUT",(function(e,t){var n=t.item,i=t.query;return new Promise((function(t){if(!i("GET_ALLOW_FILE_ENCODE")||!s(e)&&!Array.isArray(e))return t(e);c[n.id]={metadata:n.getMetadata(),data:null},Promise.all((e instanceof Blob?[{name:null,file:e}]:e).map(l)).then((function(i){c[n.id].data=e instanceof Blob?i[0].data:i,t(e)}))}))})),n("CREATE_VIEW",(function(e){var t=e.is,n=e.view,i=e.query;t("file-wrapper")&&i("GET_ALLOW_FILE_ENCODE")&&n.registerWriter(r({DID_PREPARE_OUTPUT:function(e){var t=e.root,n=e.action;if(!i("IS_ASYNC")){var a=i("GET_ITEM",n.id);if(a){var o=c[a.id],r=o.metadata,s=o.data,l=JSON.stringify({id:a.id,name:a.file.name,type:a.file.type,size:a.file.size,metadata:r,data:s});t.ref.data?t.ref.data.value=l:t.dispatch("DID_DEFINE_VALUE",{id:a.id,value:l})}}},DID_REMOVE_ITEM:function(e){var t=e.action,n=i("GET_ITEM",t.id);n&&delete c[n.id]}}))})),{options:{allowFileEncode:[!0,a.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},521:function(e){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,i=n.Type,a=n.isString,o=n.replaceInString,r=n.guesstimateMimeType,s=n.getExtensionFromFilename,l=n.getFilenameFromURL,c=function(e,t){return(/^[^/]+/.exec(e)||[]).pop()===t.slice(0,-2)},d=function(e,t){return e.some((function(e){return/\*$/.test(e)?c(t,e):e===t}))},u=function(e){var t="";if(a(e)){var n=l(e),i=s(n);i&&(t=r(i))}else t=e.type;return t},f=function(e,t,n){if(0===t.length)return!0;var i=u(e);return n?new Promise((function(a,o){n(e,i).then((function(e){d(t,e)?a():o()})).catch(o)})):d(t,i)},h=function(e){return function(t){return null!==e[t]&&(e[t]||t)}};return t("SET_ATTRIBUTE_TO_OPTION_MAP",(function(e){return Object.assign(e,{accept:"acceptedFileTypes"})})),t("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||f(e,n("GET_ACCEPTED_FILE_TYPES"))})),t("LOAD_FILE",(function(e,t){var n=t.query;return new Promise((function(t,i){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var a=n("GET_ACCEPTED_FILE_TYPES"),r=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=f(e,a,r),l=function(){var e=a.map(h(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(e){return!1!==e}));i({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof s)return s?t(e):l();s.then((function(){t(e)})).catch(l)}else t(e)}))})),{options:{allowFileTypeValidation:[!0,i.BOOLEAN],acceptedFileTypes:[[],i.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",i.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",i.STRING],fileValidateTypeLabelExpectedTypesMap:[{},i.OBJECT],fileValidateTypeDetectType:[null,i.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},2965:function(e){e.exports=function(){"use strict";var e=function(e){return/^image/.test(e.type)};function t(e){this.wrapped=e}function n(e){var n,i;function a(e,t){return new Promise((function(a,r){var s={key:e,arg:t,resolve:a,reject:r,next:null};i?i=i.next=s:(n=i=s,o(e,t))}))}function o(n,i){try{var a=e[n](i),s=a.value,l=s instanceof t;Promise.resolve(l?s.wrapped:s).then((function(e){l?o("next",e):r(a.done?"return":"normal",e)}),(function(e){o("throw",e)}))}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):i=null}this._invoke=a,"function"!=typeof e.return&&(this.return=void 0)}function i(e,t){return a(e)||o(e,t)||r()}function a(e){if(Array.isArray(e))return e}function o(e,t){var n=[],i=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)};var s=function(e,t){return u(e.x*t,e.y*t)},l=function(e,t){return u(e.x+t.x,e.y+t.y)},c=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:u(e.x/t,e.y/t)},d=function(e,t,n){var i=Math.cos(t),a=Math.sin(t),o=u(e.x-n.x,e.y-n.y);return u(n.x+i*o.x-a*o.y,n.y+a*o.x+i*o.y)},u=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},h=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",a=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",r=f(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":r||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return f(e,t,n)})).join(","),stroke:o,fill:a,opacity:e.opacity||1}},p=function(e){return null!=e},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=f(e.x,t,n,"width")||f(e.left,t,n,"width"),a=f(e.y,t,n,"height")||f(e.top,t,n,"height"),o=f(e.width,t,n,"width"),r=f(e.height,t,n,"height"),s=f(e.right,t,n,"width"),l=f(e.bottom,t,n,"height");return p(a)||(a=p(r)&&p(l)?t.height-r-l:l),p(i)||(i=p(o)&&p(s)?t.width-o-s:s),p(o)||(o=p(i)&&p(s)?t.width-i-s:0),p(r)||(r=p(a)&&p(l)?t.height-a-l:0),{x:i||0,y:a||0,width:o||0,height:r||0}},_=function(e){return e.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" ")},v=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},g="http://www.w3.org/2000/svg",y=function(e,t){var n=document.createElementNS(g,e);return t&&v(n,t),n},b=function(e){return v(e,Object.assign({},e.rect,e.styles))},w=function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,i=.5*e.rect.width,a=.5*e.rect.height;return v(e,Object.assign({cx:t,cy:n,rx:i,ry:a},e.styles))},$={contain:"xMidYMid meet",cover:"xMidYMid slice"},k=function(e,t){v(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:$[t.fit]||"none"}))},E={left:"start",center:"middle",right:"end"},x=function(e,t,n,i){var a=f(t.fontSize,n,i),o=t.fontFamily||"sans-serif",r=t.fontWeight||"normal",s=E[t.textAlign]||"start";v(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":r,"font-size":a,"font-family":o,"text-anchor":s})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},D=function(e,t,n,i){v(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var a=e.childNodes[0],o=e.childNodes[1],r=e.childNodes[2],u=e.rect,h={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(v(a,{x1:u.x,y1:u.y,x2:h.x,y2:h.y}),t.lineDecoration){o.style.display="none",r.style.display="none";var p=c({x:h.x-u.x,y:h.y-u.y}),m=f(.05,n,i);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var _=s(p,m),g=l(u,_),y=d(u,2,g),b=d(u,-2,g);v(o,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(u.x,",").concat(u.y," L").concat(b.x,",").concat(b.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var w=s(p,-m),$=l(h,w),k=d(h,2,$),E=d(h,-2,$);v(r,{style:"display:block;",d:"M".concat(k.x,",").concat(k.y," L").concat(h.x,",").concat(h.y," L").concat(E.x,",").concat(E.y)})}}},C=function(e,t,n,i){v(e,Object.assign({},e.styles,{fill:"none",d:_(t.points.map((function(e){return{x:f(e.x,n,i,"width"),y:f(e.y,n,i,"height")}})))}))},T=function(e){return function(t){return y(e,{id:t.id})}},I=function(e){var t=y("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=y("line");t.appendChild(n);var i=y("path");t.appendChild(i);var a=y("path");return t.appendChild(a),t},S={image:function(e){var t=y("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:T("rect"),ellipse:T("ellipse"),text:T("text"),path:T("path"),line:I},O={rect:b,ellipse:w,image:k,text:x,path:C,line:D},A=function(e,t){return S[e](t)},R=function(e,t,n,i,a){"path"!==t&&(e.rect=m(n,i,a)),e.styles=h(n,i,a),O[t](e,n,i,a)},M=["x","y","left","top","right","bottom","width","height"],L=function(e){return"string"==typeof e&&/%/.test(e)?parseFloat(e)/100:e},N=function(e){var t=i(e,2),n=t[0],a=t[1],o=a.points?{}:M.reduce((function(e,t){return e[t]=L(a[t]),e}),{});return[n,Object.assign({zIndex:0},a,o)]},P=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},q=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,n=e.props;if(n.dirty){var a=n.crop,o=n.resize,r=n.markup,s=n.width,l=n.height,c=a.width,d=a.height;if(o){var u=o.size,f=u&&u.width,h=u&&u.height,p=o.mode,m=o.upscale;f&&!h&&(h=f),h&&!f&&(f=h);var _=c<f&&d<h;if(!_||_&&m){var v,g=f/c,y=h/d;"force"===p?(c=f,d=h):("cover"===p?v=Math.max(g,y):"contain"===p&&(v=Math.min(g,y)),c*=v,d*=v)}}var b={width:s,height:l};t.element.setAttribute("width",b.width),t.element.setAttribute("height",b.height);var w=Math.min(s/c,l/d);t.element.innerHTML="";var $=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");r.filter($).map(N).sort(P).forEach((function(e){var n=i(e,2),a=n[0],o=n[1],r=A(a,o);R(r,a,o,b,w),t.element.appendChild(r)}))}}})},F=function(e,t){return{x:e,y:t}},j=function(e,t){return e.x*t.x+e.y*t.y},B=function(e,t){return F(e.x-t.x,e.y-t.y)},U=function(e,t){return j(B(e,t),B(e,t))},z=function(e,t){return Math.sqrt(U(e,t))},G=function(e,t){var n=e,i=1.5707963267948966,a=t,o=1.5707963267948966-t,r=Math.sin(i),s=Math.sin(a),l=Math.sin(o),c=Math.cos(o),d=n/r;return F(c*(d*s),c*(d*l))},Y=function(e,t){var n=e.width,i=e.height,a=G(n,t),o=G(i,t),r=F(e.x+Math.abs(a.x),e.y-Math.abs(a.y)),s=F(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=F(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:z(r,s),height:z(r,l)}},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,a=1,o=t,r=1,s=i;s>o&&(r=(s=o)/i);var l=Math.max(a/r,o/s),c=e.width/(n*l*r);return{width:c,height:c*t}},W=function(e,t,n,i){var a=i.x>.5?1-i.x:i.x,o=i.y>.5?1-i.y:i.y,r=2*a*e.width,s=2*o*e.height,l=Y(t,n);return Math.max(l.width/r,l.height/s)},V=function(e,t){var n=e.width,i=n*t;return i>e.height&&(n=(i=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-i),width:n,height:i}},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,i=t.rotation,a=t.center,o=t.aspectRatio;o||(o=e.height/e.width);var r=H(e,o,n),s={x:.5*r.width,y:.5*r.height},l={x:0,y:0,width:r.width,height:r.height,center:s},c=void 0===t.scaleToFit||t.scaleToFit,d=n*W(e,V(l,o),i,c?a:{x:.5,y:.5});return{widthFloat:r.width/d,heightFloat:r.height/d,width:Math.round(r.width/d),height:Math.round(r.height/d)}},Q={type:"spring",stiffness:.5,damping:.45,mass:10},K=function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})},J=function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Q,originY:Q,scaleX:Q,scaleY:Q,translateX:Q,translateY:Q,rotateZ:Q}},create:function(t){var n=t.root,i=t.props;i.width=i.image.width,i.height=i.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(K(e),{image:i.image}))},write:function(e){var t=e.root,n=e.props.crop.flip,i=t.ref.bitmap;i.scaleX=n.horizontal?-1:1,i.scaleY=n.vertical?-1:1}})},Z=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,i=t.props;n.ref.image=n.appendChildView(n.createChildView(J(e),Object.assign({},i))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(q(e),Object.assign({},i))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var a=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==a&&(n.element.dataset.transparencyIndicator="grid"===a?a:"color")},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,a=n.crop,o=n.markup,r=n.resize,s=n.dirty,l=n.width,c=n.height;t.ref.image.crop=a;var d={x:0,y:0,width:l,height:c,center:{x:.5*l,y:.5*c}},u={width:t.ref.image.width,height:t.ref.image.height},f={x:a.center.x*u.width,y:a.center.y*u.height},h={x:d.center.x-u.width*a.center.x,y:d.center.y-u.height*a.center.y},p=2*Math.PI+a.rotation%(2*Math.PI),m=a.aspectRatio||u.height/u.width,_=void 0===a.scaleToFit||a.scaleToFit,v=W(u,V(d,m),p,_?a.center:{x:.5,y:.5}),g=a.zoom*v;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=l,t.ref.markup.height=c,t.ref.markup.resize=r,t.ref.markup.dirty=s,t.ref.markup.markup=o,t.ref.markup.crop=X(u,a)):t.ref.markup&&t.ref.destroyMarkup();var y=t.ref.image;if(i)return y.originX=null,y.originY=null,y.translateX=null,y.translateY=null,y.rotateZ=null,y.scaleX=null,void(y.scaleY=null);y.originX=f.x,y.originY=f.y,y.translateX=h.x,y.translateY=h.y,y.rotateZ=p,y.scaleX=g,y.scaleY=g}})},ee=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Q,scaleY:Q,translateY:Q,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,i=t.props;n.ref.clip=n.appendChildView(n.createChildView(Z(e),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,a=t.ref.clip,o=n.image,r=n.crop,s=n.markup,l=n.resize,c=n.dirty;if(a.crop=r,a.markup=s,a.resize=l,a.dirty=c,a.opacity=i?0:1,!i&&!t.rect.element.hidden){var d=o.height/o.width,u=r.aspectRatio||d,f=t.rect.inner.width,h=t.rect.inner.height,p=t.query("GET_IMAGE_PREVIEW_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),_=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),v=t.query("GET_PANEL_ASPECT_RATIO"),g=t.query("GET_ALLOW_MULTIPLE");v&&!g&&(p=f*v,u=v);var y=null!==p?p:Math.max(m,Math.min(f*u,_)),b=y/u;b>f&&(y=(b=f)*u),y>h&&(y=h,b=h/u),a.width=b,a.height=y}}})},te='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',ne=!1,ie=0,ae=function(e){return e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!ne&&document.querySelector("base")&&(te=te.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),ne=!0),ie++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=te.replace(/__UID__/g,ie)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},oe=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},re=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,i=t.data,a=i.length,o=n[0],r=n[1],s=n[2],l=n[3],c=n[4],d=n[5],u=n[6],f=n[7],h=n[8],p=n[9],m=n[10],_=n[11],v=n[12],g=n[13],y=n[14],b=n[15],w=n[16],$=n[17],k=n[18],E=n[19],x=0,D=0,C=0,T=0,I=0;x<a;x+=4)D=i[x]/255,C=i[x+1]/255,T=i[x+2]/255,I=i[x+3]/255,i[x]=Math.max(0,Math.min(255*(D*o+C*r+T*s+I*l+c),255)),i[x+1]=Math.max(0,Math.min(255*(D*d+C*u+T*f+I*h+p),255)),i[x+2]=Math.max(0,Math.min(255*(D*m+C*_+T*v+I*g+y),255)),i[x+3]=Math.max(0,Math.min(255*(D*b+C*w+T*$+I*k+E),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},se=function(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,i=n.naturalHeight;n=null,t(e,i)},n.src=e},le={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},ce=function(e,t,n,i){-1!==i&&e.transform.apply(e,le[i](t,n))},de=function(e,t,n,i){t=Math.round(t),n=Math.round(n);var a=document.createElement("canvas");a.width=t,a.height=n;var o=a.getContext("2d");if(i>=5&&i<=8){var r=[n,t];t=r[0],n=r[1]}return ce(o,t,n,i),o.drawImage(e,0,0,t,n),a},ue=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},fe=10,he=10,pe=function(e){var t=Math.min(fe/e.width,he/e.height),n=document.createElement("canvas"),i=n.getContext("2d"),a=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);i.drawImage(e,0,0,a,o);var r=null;try{r=i.getImageData(0,0,a,o).data}catch(e){return null}for(var s=r.length,l=0,c=0,d=0,u=0;u<s;u+=4)l+=r[u]*r[u],c+=r[u+1]*r[u+1],d+=r[u+2]*r[u+2];return{r:l=me(l,s),g:c=me(c,s),b:d=me(d,s)}},me=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},_e=function(e,t){return(t=t||document.createElement("canvas")).width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},ve=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},ge=function(e){return new Promise((function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},ye=function(e){var t=ae(e),n=ee(e),i=e.utils.createWorker,a=function(e,t,n){return new Promise((function(a){e.ref.imageData||(e.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=ve(e.ref.imageData);if(!t||20!==t.length)return n.getContext("2d").putImageData(o,0,0),a();var r=i(re);r.post({imageData:o,colorMatrix:t},(function(e){n.getContext("2d").putImageData(e,0,0),r.terminate(),a()}),[o.data.buffer])}))},o=function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()},r=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n},s=function(e){var t=e.root,i=e.props,a=e.image,o=i.id,r=t.query("GET_ITEM",{id:o});if(r){var s,l,c=r.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},d=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),u=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=r.getMetadata("markup")||[],l=r.getMetadata("resize"),u=!0);var f=t.appendChildView(t.createChildView(n,{id:o,image:a,crop:c,resize:l,markup:s,dirty:u,background:d,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(f),f.opacity=1,f.scaleX=1,f.scaleY=1,f.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},l=function(e){var t=e.root,n=e.props,i=t.query("GET_ITEM",{id:n.id});if(i){var a=t.ref.images[t.ref.images.length-1];a.crop=i.getMetadata("crop"),a.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(a.dirty=!0,a.resize=i.getMetadata("resize"),a.markup=i.getMetadata("markup"))}},c=function(e){var t=e.root,n=e.props,i=e.action;if(/crop|filter|markup|resize/.test(i.change.key)&&t.ref.images.length){var o=t.query("GET_ITEM",{id:n.id});if(o)if(/filter/.test(i.change.key)){var c=t.ref.images[t.ref.images.length-1];a(t,i.change.value,c.image)}else if(/crop|markup|resize/.test(i.change.key)){var d=o.getMetadata("crop"),u=t.ref.images[t.ref.images.length-1];if(Math.abs(d.aspectRatio-u.crop.aspectRatio)>1e-5){var f=r({root:t});s({root:t,props:n,image:_e(f.image)})}else l({root:t,props:n})}}},d=function(e){var t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((t?parseInt(t[1]):null)<=58)&&"createImageBitmap"in window&&ue(e)},u=function(e){var t=e.root,n=e.props.id,i=t.query("GET_ITEM",n);if(i){var a=URL.createObjectURL(i.file);se(a,(function(e,i){t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:e,height:i})}))}},f=function(e){var t=e.root,n=e.props,o=n.id,r=t.query("GET_ITEM",o);if(r){var l=URL.createObjectURL(r.file),c=function(){ge(l).then(u)},u=function(e){URL.revokeObjectURL(l);var i=(r.getMetadata("exif")||{}).orientation||-1,o=e.width,c=e.height;if(o&&c){if(i>=5&&i<=8){var d=[c,o];o=d[0],c=d[1]}var u=Math.max(1,.75*window.devicePixelRatio),f=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*u,h=c/o,p=t.rect.element.width,m=t.rect.element.height,_=p,v=_*h;h>1?v=(_=Math.min(o,p*f))*h:_=(v=Math.min(c,m*f))/h;var g=de(e,_,v,i),y=function(){var i=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?pe(data):null;r.setMetadata("color",i,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,s({root:t,props:n,image:g})},b=r.getMetadata("filter");b?a(t,b,g).then(y):y()}};if(d(r.file)){var f=i(oe);f.post({file:r.file},(function(e){f.terminate(),e?u(e):c()}))}else c()}},h=function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},p=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},m=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},_=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},v=function(e){var n=e.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(t,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(t,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:v,styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:h,DID_IMAGE_PREVIEW_CONTAINER_CREATE:u,DID_FINISH_CALCULATE_PREVIEWSIZE:f,DID_UPDATE_ITEM_METADATA:c,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:_,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return o(t,e)})),n.length=0}))})},be=function(t){var n=t.addFilter,i=t.utils,a=i.Type,o=i.createRoute,r=i.isFile,s=ye(t);return n("CREATE_VIEW",(function(t){var n=t.is,i=t.view,a=t.query;if(n("file")&&a("GET_ALLOW_IMAGE_PREVIEW")){var l=function(t){var n=t.root,o=t.props.id,l=a("GET_ITEM",o);if(l&&r(l.file)&&!l.archived){var c=l.file;if(e(c)&&a("GET_IMAGE_PREVIEW_FILTER_ITEM")(l)){var d="createImageBitmap"in(window||{}),u=a("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!d&&u&&c.size>u)){n.ref.imagePreview=i.appendChildView(i.createChildView(s,{id:o}));var f=n.query("GET_IMAGE_PREVIEW_HEIGHT");f&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:l.id,height:f});var h=!d&&c.size>a("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},h)}}}},c=function(e,t){if(e.ref.imagePreview){var n=t.id,i=e.query("GET_ITEM",{id:n});if(i){var a=e.query("GET_PANEL_ASPECT_RATIO"),o=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),r=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(a||o||r)){var s=e.ref,l=s.imageWidth,c=s.imageHeight;if(l&&c){var d=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),u=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=(i.getMetadata("exif")||{}).orientation||-1;if(f>=5&&f<=8){var h=[c,l];l=h[0],c=h[1]}if(!ue(i.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var p=2048/l;l*=p,c*=p}var m=c/l,_=(i.getMetadata("crop")||{}).aspectRatio||m,v=Math.max(d,Math.min(c,u)),g=e.rect.element.width,y=Math.min(g*_,v);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:y})}}}}},d=function(e){e.root.ref.shouldRescale=!0},u=function(e){var t=e.root;"crop"===e.action.change.key&&(t.ref.shouldRescale=!0)},f=function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")};i.registerWriter(o({DID_RESIZE_ROOT:d,DID_STOP_RESIZE:d,DID_LOAD_ITEM:l,DID_IMAGE_PREVIEW_CALCULATE_SIZE:f,DID_UPDATE_ITEM_METADATA:u},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(c(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,a.BOOLEAN],imagePreviewFilterItem:[function(){return!0},a.FUNCTION],imagePreviewHeight:[null,a.INT],imagePreviewMinHeight:[44,a.INT],imagePreviewMaxHeight:[256,a.INT],imagePreviewMaxFileSize:[null,a.INT],imagePreviewZoomFactor:[2,a.INT],imagePreviewUpscale:[!1,a.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,a.INT],imagePreviewTransparencyIndicator:[null,a.STRING],imagePreviewCalculateAverageImageColor:[!1,a.BOOLEAN],imagePreviewMarkupShow:[!0,a.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},a.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:be})),be}()},6136:function(e,t){!function(e){"use strict";var t=function(e){return e instanceof HTMLElement},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e),a=[],o=[],r=function(){var e=[].concat(o);o.length=0,e.forEach((function(e){var t=e.type,n=e.data;s(t,n)}))},s=function(e,t,n){!n||document.hidden?(u[e]&&u[e](t),a.push({type:e,data:t})):o.push({type:e,data:t})},l=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return d[e]?(t=d)[e].apply(t,i):null},c={getState:function(){return Object.assign({},i)},processActionQueue:function(){var e=[].concat(a);return a.length=0,e},processDispatchQueue:r,dispatch:s,query:l},d={};t.forEach((function(e){d=Object.assign({},e(i),{},d)}));var u={};return n.forEach((function(e){u=Object.assign({},e(s,l,i),{},u)})),c},i=function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n},a=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},o=function(e){var t={};return a(e,(function(n){i(t,n,e[n])})),t},r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},s="http://www.w3.org/2000/svg",l=["svg","path"],c=function(e){return l.includes(e)},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(n=t,t=null);var i=c(e)?document.createElementNS(s,e):document.createElement(e);return t&&(c(e)?r(i,"class",t):i.className=t),a(n,(function(e,t){r(i,e,t)})),i},u=function(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},f=function(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}},h=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},p="undefined"!=typeof window&&void 0!==window.document,m=function(){return p},_="children"in(m()?d("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},v=function(e,t,n,i){var a=n[0]||e.left,o=n[1]||e.top,r=a+e.width,s=o+e.height*(i[1]||1),l={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:a,top:o,right:r,bottom:s}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){g(l.inner,Object.assign({},e.inner)),g(l.outer,Object.assign({},e.outer))})),y(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,y(l.outer),l},g=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},y=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},b=function(e){return"number"==typeof e},w=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(n)<i},$=function(e){return e<.5?2*e*e:(4-2*e)*e-1},k={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,i=e.damping,a=void 0===i?.75:i,r=e.mass,s=void 0===r?10:r,l=null,c=null,d=0,u=!1,f=o({interpolate:function(e,t){if(!u){if(!b(l)||!b(c))return u=!0,void(d=0);w(c+=d+=-(c-l)*n/s,l,d*=a)||t?(c=l,d=0,u=!0,f.onupdate(c),f.oncomplete(c)):f.onupdate(c)}},target:{set:function(e){if(b(e)&&!b(c)&&(c=e),null===l&&(l=e,c=e),c===(l=e)||void 0===l)return u=!0,d=0,f.onupdate(c),void f.oncomplete(c);u=!1},get:function(){return l}},resting:{get:function(){return u}},onupdate:function(e){},oncomplete:function(e){}});return f},tween:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.duration,a=void 0===i?500:i,r=n.easing,s=void 0===r?$:r,l=n.delay,c=void 0===l?0:l,d=null,u=!0,f=!1,h=null,p=o({interpolate:function(n,i){u||null===h||(null===d&&(d=n),n-d<c||((e=n-d-c)>=a||i?(e=1,t=f?0:1,p.onupdate(t*h),p.oncomplete(t*h),u=!0):(t=e/a,p.onupdate((e>=0?s(f?1-t:t):0)*h))))},target:{get:function(){return f?0:h},set:function(e){if(null===h)return h=e,p.onupdate(e),void p.oncomplete(e);e<h?(h=1,f=!0):(f=!1,h=e),u=!1,d=null}},resting:{get:function(){return u}},onupdate:function(e){},oncomplete:function(e){}});return p}},E=function(e,t,n){var i=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,a="string"==typeof i?i:i.type,o="object"==typeof i?Object.assign({},i):{};return k[a]?k[a](o):null},x=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var a=e,o=function(){return n[e]},r=function(t){return n[e]=t};"object"==typeof e&&(a=e.key,o=e.getter||o,r=e.setter||r),t[a]&&!i||(t[a]={get:o,set:r})}))}))},D=function(e){return function(t,n){e.addEventListener(t,n)}},C=function(e){return function(t,n){e.removeEventListener(t,n)}},T=function(e){return null!=e},I={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},S=function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,a=e.viewExternalAPI,o=e.view,r=Object.assign({},n),s={};x(t,[i,a],n);var l=function(){return[n.translateX||0,n.translateY||0]},c=function(){return[n.scaleX||0,n.scaleY||0]},d=function(){return o.rect?v(o.rect,o.childViews,l(),c()):null};return i.rect={get:d},a.rect={get:d},t.forEach((function(e){n[e]=void 0===r[e]?I[e]:r[e]})),{write:function(){if(O(s,n))return A(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},O=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},A=function(e,t){var n=t.opacity,i=t.perspective,a=t.translateX,o=t.translateY,r=t.scaleX,s=t.scaleY,l=t.rotateX,c=t.rotateY,d=t.rotateZ,u=t.originX,f=t.originY,h=t.width,p=t.height,m="",_="";(T(u)||T(f))&&(_+="transform-origin: "+(u||0)+"px "+(f||0)+"px;"),T(i)&&(m+="perspective("+i+"px) "),(T(a)||T(o))&&(m+="translate3d("+(a||0)+"px, "+(o||0)+"px, 0) "),(T(r)||T(s))&&(m+="scale3d("+(T(r)?r:1)+", "+(T(s)?s:1)+", 1) "),T(d)&&(m+="rotateZ("+d+"rad) "),T(l)&&(m+="rotateX("+l+"rad) "),T(c)&&(m+="rotateY("+c+"rad) "),m.length&&(_+="transform:"+m+";"),T(n)&&(_+="opacity:"+n+";",0===n&&(_+="visibility:hidden;"),n<1&&(_+="pointer-events:none;")),T(p)&&(_+="height:"+p+"px;"),T(h)&&(_+="width:"+h+"px;");var v=e.elementCurrentStyle||"";_.length===v.length&&_===v||(e.style.cssText=_,e.elementCurrentStyle=_)},R={styles:S,listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,n=(e.viewState,e.view),i=[],a=D(n.element),o=C(n.element);return t.on=function(e,t){i.push({type:e,fn:t}),a(e,t)},t.off=function(e,t){i.splice(i.findIndex((function(n){return n.type===e&&n.fn===t})),1),o(e,t)},{write:function(){return!0},destroy:function(){i.forEach((function(e){o(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,o=e.viewExternalAPI,r=Object.assign({},n),s=[];return a(t,(function(e,t){var a=E(t);a&&(a.onupdate=function(t){n[e]=t},a.target=r[e],x([{key:e,setter:function(e){a.target!==e&&(a.target=e)},getter:function(){return n[e]}}],[i,o],n,!0),s.push(a))})),{write:function(e){var t=document.hidden,n=!0;return s.forEach((function(i){i.resting||(n=!1),i.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewExternalAPI;x(t,i,n)}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,i=e.name,a=void 0===i?null:i,r=e.attributes,s=void 0===r?{}:r,l=e.read,c=void 0===l?function(){}:l,p=e.write,m=void 0===p?function(){}:p,g=e.create,y=void 0===g?function(){}:g,b=e.destroy,w=void 0===b?function(){}:b,$=e.filterFrameActionsForChild,k=void 0===$?function(e,t){return t}:$,E=e.didCreateView,x=void 0===E?function(){}:E,D=e.didWriteView,C=void 0===D?function(){}:D,T=e.ignoreRect,I=void 0!==T&&T,S=e.ignoreRectUpdate,O=void 0!==S&&S,A=e.mixins,L=void 0===A?[]:A;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=d(n,"filepond--"+a,s),r=window.getComputedStyle(i,null),l=M(),p=null,g=!1,b=[],$=[],E={},D={},T=[m],S=[c],A=[w],N=function(){return i},P=function(){return b.concat()},q=function(){return E},F=function(e){return function(t,n){return t(e,n)}},j=function(){return p||(p=v(l,b,[0,0],[1,1]))},B=function(){p=null,b.forEach((function(e){return e._read()})),!(O&&l.width&&l.height)&&M(l,i,r);var e={root:V,props:t,rect:l};S.forEach((function(t){return t(e)}))},U=function(e,n,i){var a=0===n.length;return T.forEach((function(o){!1===o({props:t,root:V,actions:n,timestamp:e,shouldOptimize:i})&&(a=!1)})),$.forEach((function(t){!1===t.write(e)&&(a=!1)})),b.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,k(t,n),i)||(a=!1)})),b.forEach((function(t,o){t.element.parentNode||(V.appendChild(t.element,o),t._read(),t._write(e,k(t,n),i),a=!1)})),g=a,C({props:t,root:V,actions:n,timestamp:e}),a},z=function(){$.forEach((function(e){return e.destroy()})),A.forEach((function(e){e({root:V,props:t})})),b.forEach((function(e){return e._destroy()}))},G={element:{get:N},style:{get:function(){return r}},childViews:{get:P}},Y=Object.assign({},G,{rect:{get:j},ref:{get:q},is:function(e){return a===e},appendChild:u(i),createChildView:F(e),linkView:function(e){return b.push(e),e},unlinkView:function(e){b.splice(b.indexOf(e),1)},appendChildView:f(i,b),removeChildView:h(i,b),registerWriter:function(e){return T.push(e)},registerReader:function(e){return S.push(e)},registerDestroyer:function(e){return A.push(e)},invalidateLayout:function(){return i.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),H={element:{get:N},childViews:{get:P},rect:{get:j},resting:{get:function(){return g}},isRectIgnored:function(){return I},_read:B,_write:U,_destroy:z},W=Object.assign({},G,{rect:{get:function(){return l}}});Object.keys(L).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=R[e]({mixinConfig:L[e],viewProps:t,viewState:D,viewInternalAPI:Y,viewExternalAPI:H,view:o(W)});n&&$.push(n)}));var V=o(Y);y({root:V,props:t});var X=_(i);return b.forEach((function(e,t){V.appendChild(e.element,X+t)})),x(V),o(H)}},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i])return window[i].readers.push(e),void window[i].writers.push(t);window[i]={readers:[e],writers:[t]};var a=window[i],o=1e3/n,r=null,s=null,l=null,c=null,d=function(){document.hidden?(l=function(){return window.setTimeout((function(){return u(performance.now())}),o)},c=function(){return window.clearTimeout(s)}):(l=function(){return window.requestAnimationFrame(u)},c=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){c&&c(),d(),u(performance.now())}));var u=function e(t){s=l(e),r||(r=t);var n=t-r;n<=o||(r=t-n%o,a.readers.forEach((function(e){return e()})),a.writers.forEach((function(e){return e(t)})))};return d(),u(performance.now()),{pause:function(){c(s)}}},P=function(e,t){return function(n){var i=n.root,a=n.props,o=n.actions,r=void 0===o?[]:o,s=n.timestamp,l=n.shouldOptimize;r.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:i,props:a,action:t.data,timestamp:s,shouldOptimize:l})})),t&&t({root:i,props:a,actions:r,timestamp:s,shouldOptimize:l})}},q=function(e,t){return t.parentNode.insertBefore(e,t)},F=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},j=function(e){return Array.isArray(e)},B=function(e){return null==e},U=function(e){return e.trim()},z=function(e){return""+e},G=function(e){return"boolean"==typeof e},Y=function(e){return G(e)?e:"true"===e},H=function(e){return"string"==typeof e},W=function(e){return b(e)?e:H(e)?z(e).replace(/[a-z]+/gi,""):0},V=function(e){return parseInt(W(e),10)},X=function(e){return parseFloat(W(e))},Q=function(e){return b(e)&&isFinite(e)&&Math.floor(e)===e},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Q(e))return e;var n=z(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),V(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),V(n)*t):V(n)},J=function(e){return"function"==typeof e},Z=function(e){for(var t=self,n=e.split("."),i=null;i=n.shift();)if(!(t=t[i]))return null;return t},ee={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},te=function(e){var t={};return t.url=H(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},a(ee,(function(n){t[n]=ne(n,e[n],ee[n],t.timeout,t.headers)})),t.remove=e.remove||null,delete t.headers,t},ne=function(e,t,n,i,a){if(null===t)return null;if("function"==typeof t)return t;var o={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:a,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(H(t))return o.url=t,o;if(Object.assign(o,t),H(o.headers)){var r=o.headers.split(/:(.+)/);o.headers={header:r[0],value:r[1]}}return o.withCredentials=Y(o.withCredentials),o},ie=function(e){return null===e},ae=function(e){return"object"==typeof e&&null!==e},oe=function(e){return ae(e)&&H(e.url)&&ae(e.process)&&ae(e.revert)&&ae(e.restore)&&ae(e.fetch)},re=function(e){return j(e)?"array":ie(e)?"null":Q(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":oe(e)?"api":typeof e},se=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},le={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return B(e)?[]:j(e)?e:z(e).split(t).map(U).filter((function(e){return e.length}))},boolean:Y,int:function(e){return"bytes"===re(e)?K(e):V(e)},number:X,float:X,bytes:K,string:function(e){return J(e)?e:z(e)},function:function(e){return Z(e)},serverapi:function(e){return te(e)},object:function(e){try{return JSON.parse(se(e))}catch(e){return null}}},ce=function(e,t){return le[t](e)},de=function(e,t,n){if(e===t)return e;var i=re(e);if(i!==n){var a=ce(e,n);if(i=re(a),null===a)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=a}return e},ue=function(e,t){var n=e;return{enumerable:!0,get:function(){return n},set:function(i){n=de(i,e,t)}}},fe=function(e){var t={};return a(e,(function(n){var i=e[n];t[n]=ue(i[0],i[1])})),o(t)},he=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:fe(e)}},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},me=function(e,t){var n={};return a(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+pe(t,"_").toUpperCase(),{value:n})}}})),n},_e=function(e){return function(t,n,i){var o={};return a(e,(function(e){var n=pe(e,"_").toUpperCase();o["SET_"+n]=function(a){try{i.options[e]=a.value}catch(e){}t("DID_SET_"+n,{value:i.options[e]})}})),o}},ve=function(e){return function(t){var n={};return a(e,(function(e){n["GET_"+pe(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},ge={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},ye=function(){return Math.random().toString(36).substr(2,9)};function be(e){this.wrapped=e}function we(e){var t,n;function i(e,i){return new Promise((function(o,r){var s={key:e,arg:i,resolve:o,reject:r,next:null};n?n=n.next=s:(t=n=s,a(e,i))}))}function a(t,n){try{var i=e[t](n),r=i.value,s=r instanceof be;Promise.resolve(s?r.wrapped:r).then((function(e){s?a("next",e):o(i.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(e){o("throw",e)}}function o(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=i,"function"!=typeof e.return&&(this.return=void 0)}function $e(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}function ke(e,t){if(null==e)return{};var n,i,a=$e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ee(e){return xe(e)||De(e)||Ce()}function xe(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function De(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Ce(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(we.prototype[Symbol.asyncIterator]=function(){return this}),we.prototype.next=function(e){return this._invoke("next",e)},we.prototype.throw=function(e){return this._invoke("throw",e)},we.prototype.return=function(e){return this._invoke("return",e)};var Te=function(e,t){return e.splice(t,1)},Ie=function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Se=function(){var e=[],t=function(t,n){Te(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,i){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return Ie((function(){return e.apply(void 0,Ee(n))}),i)}))};return{fireSync:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];n(e,i,!0)},fire:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];n(e,i,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,i){e.push({event:n,cb:function(){t(n,i),i.apply(void 0,arguments)}})},off:t}},Oe=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},Ae=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Re=function(e){var t={};return Oe(e,t,Ae),t},Me=function(e){e.forEach((function(t,n){t.released&&Te(e,n)}))},Le={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Ne={INPUT:1,LIMBO:2,LOCAL:3},Pe=function(e){return/[^0-9]+/.exec(e)},qe=function(){return Pe(1.1.toLocaleString())[0]},Fe=function(){var e=qe(),t=1e3.toLocaleString();return t!==1e3.toString()?Pe(t)[0]:"."===e?",":"."},je={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Be=[],Ue=function(e,t,n){return new Promise((function(i,a){var o=Be.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==o.length){var r=o.shift();o.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),r(t,n)).then((function(e){return i(e)})).catch((function(e){return a(e)}))}else i(t)}))},ze=function(e,t,n){return Be.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},Ge=function(e,t){return Be.push({key:e,cb:t})},Ye=function(e){return Object.assign(Ve,e)},He=function(){return Object.assign({},Ve)},We=function(e){a(e,(function(e,t){Ve[e]&&(Ve[e][0]=de(t,Ve[e][0],Ve[e][1]))}))},Ve={id:[null,je.STRING],name:["filepond",je.STRING],disabled:[!1,je.BOOLEAN],className:[null,je.STRING],required:[!1,je.BOOLEAN],captureMethod:[null,je.STRING],allowSyncAcceptAttribute:[!0,je.BOOLEAN],allowDrop:[!0,je.BOOLEAN],allowBrowse:[!0,je.BOOLEAN],allowPaste:[!0,je.BOOLEAN],allowMultiple:[!1,je.BOOLEAN],allowReplace:[!0,je.BOOLEAN],allowRevert:[!0,je.BOOLEAN],allowRemove:[!0,je.BOOLEAN],allowProcess:[!0,je.BOOLEAN],allowReorder:[!1,je.BOOLEAN],allowDirectoriesOnly:[!1,je.BOOLEAN],forceRevert:[!1,je.BOOLEAN],maxFiles:[null,je.INT],checkValidity:[!1,je.BOOLEAN],itemInsertLocationFreedom:[!0,je.BOOLEAN],itemInsertLocation:["before",je.STRING],itemInsertInterval:[75,je.INT],dropOnPage:[!1,je.BOOLEAN],dropOnElement:[!0,je.BOOLEAN],dropValidation:[!1,je.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],je.ARRAY],instantUpload:[!0,je.BOOLEAN],maxParallelUploads:[2,je.INT],chunkUploads:[!1,je.BOOLEAN],chunkForce:[!1,je.BOOLEAN],chunkSize:[5e6,je.INT],chunkRetryDelays:[[500,1e3,3e3],je.ARRAY],server:[null,je.SERVER_API],fileSizeBase:[1e3,je.INT],labelDecimalSeparator:[qe(),je.STRING],labelThousandsSeparator:[Fe(),je.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',je.STRING],labelInvalidField:["Field contains invalid files",je.STRING],labelFileWaitingForSize:["Waiting for size",je.STRING],labelFileSizeNotAvailable:["Size not available",je.STRING],labelFileCountSingular:["file in list",je.STRING],labelFileCountPlural:["files in list",je.STRING],labelFileLoading:["Loading",je.STRING],labelFileAdded:["Added",je.STRING],labelFileLoadError:["Error during load",je.STRING],labelFileRemoved:["Removed",je.STRING],labelFileRemoveError:["Error during remove",je.STRING],labelFileProcessing:["Uploading",je.STRING],labelFileProcessingComplete:["Upload complete",je.STRING],labelFileProcessingAborted:["Upload cancelled",je.STRING],labelFileProcessingError:["Error during upload",je.STRING],labelFileProcessingRevertError:["Error during revert",je.STRING],labelTapToCancel:["tap to cancel",je.STRING],labelTapToRetry:["tap to retry",je.STRING],labelTapToUndo:["tap to undo",je.STRING],labelButtonRemoveItem:["Remove",je.STRING],labelButtonAbortItemLoad:["Abort",je.STRING],labelButtonRetryItemLoad:["Retry",je.STRING],labelButtonAbortItemProcessing:["Cancel",je.STRING],labelButtonUndoItemProcessing:["Undo",je.STRING],labelButtonRetryItemProcessing:["Retry",je.STRING],labelButtonProcessItem:["Upload",je.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',je.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',je.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',je.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',je.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',je.STRING],oninit:[null,je.FUNCTION],onwarning:[null,je.FUNCTION],onerror:[null,je.FUNCTION],onactivatefile:[null,je.FUNCTION],oninitfile:[null,je.FUNCTION],onaddfilestart:[null,je.FUNCTION],onaddfileprogress:[null,je.FUNCTION],onaddfile:[null,je.FUNCTION],onprocessfilestart:[null,je.FUNCTION],onprocessfileprogress:[null,je.FUNCTION],onprocessfileabort:[null,je.FUNCTION],onprocessfilerevert:[null,je.FUNCTION],onprocessfile:[null,je.FUNCTION],onprocessfiles:[null,je.FUNCTION],onremovefile:[null,je.FUNCTION],onpreparefile:[null,je.FUNCTION],onupdatefiles:[null,je.FUNCTION],onreorderfiles:[null,je.FUNCTION],beforeDropFile:[null,je.FUNCTION],beforeAddFile:[null,je.FUNCTION],beforeRemoveFile:[null,je.FUNCTION],beforePrepareFile:[null,je.FUNCTION],stylePanelLayout:[null,je.STRING],stylePanelAspectRatio:[null,je.STRING],styleItemPanelAspectRatio:[null,je.STRING],styleButtonRemoveItemPosition:["left",je.STRING],styleButtonProcessItemPosition:["right",je.STRING],styleLoadIndicatorPosition:["right",je.STRING],styleProgressIndicatorPosition:["right",je.STRING],styleButtonRemoveItemAlign:[!1,je.BOOLEAN],files:[[],je.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],je.ARRAY]},Xe=function(e,t){return B(t)?e[0]||null:Q(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},Qe=function(e){if(B(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Ke=function(e){return e.filter((function(e){return!e.archived}))},Je={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Ze=[Le.LOAD_ERROR,Le.PROCESSING_ERROR,Le.PROCESSING_REVERT_ERROR],et=[Le.LOADING,Le.PROCESSING,Le.PROCESSING_QUEUED,Le.INIT],tt=[Le.PROCESSING_COMPLETE],nt=function(e){return Ze.includes(e.status)},it=function(e){return et.includes(e.status)},at=function(e){return tt.includes(e.status)},ot=function(e){return{GET_STATUS:function(){var t=Ke(e.items),n=Je.EMPTY,i=Je.ERROR,a=Je.BUSY,o=Je.IDLE,r=Je.READY;return 0===t.length?n:t.some(nt)?i:t.some(it)?a:t.some(at)?r:o},GET_ITEM:function(t){return Xe(e.items,t)},GET_ACTIVE_ITEM:function(t){return Xe(Ke(e.items),t)},GET_ACTIVE_ITEMS:function(){return Ke(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=Xe(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=Xe(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Qe(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return Ke(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return Ke(e.items).length},IS_ASYNC:function(){return ae(e.options.server)&&(ae(e.options.server.process)||J(e.options.server.process))}}},rt=function(e){var t=Ke(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n},st=function(e,t,n){return Math.max(Math.min(n,e),t)},lt=function(e,t,n){return e.splice(t,0,n)},ct=function(e,t,n){return B(t)?null:void 0===n?(e.push(t),t):(n=st(n,0,e.length),lt(e,n,t),t)},dt=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},ut=function(e){return e.split("/").pop().split("?").shift()},ft=function(e){return e.split(".").pop()},ht=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+pt(e.getMonth()+1,"00")+"-"+pt(e.getDate(),"00")+"_"+pt(e.getHours(),"00")+"-"+pt(e.getMinutes(),"00")+"-"+pt(e.getSeconds(),"00")},_t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return a.lastModifiedDate=new Date,e._relativePath&&(a._relativePath=e._relativePath),H(t)||(t=mt()),t&&null===i&&ft(t)?a.name=t:(i=i||ht(a.type),a.name=t+(i?"."+i:"")),a},vt=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},gt=function(e,t){var n=vt();if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},yt=function(e,t){for(var n=new ArrayBuffer(e.length),i=new Uint8Array(n),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return gt(n,t)},bt=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},wt=function(e){return e.split(",")[1].replace(/\s/g,"")},$t=function(e){return atob(wt(e))},kt=function(e){var t=bt(e),n=$t(e);return yt(n,t)},Et=function(e,t,n){return _t(kt(e),t,null,n)},xt=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},Dt=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Ct=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},Tt=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),i=!0,a=!1,o=void 0;try{for(var r,s=n[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var l=r.value,c=xt(l);if(c)t.name=c;else{var d=Dt(l);if(d)t.size=d;else{var u=Ct(l);u&&(t.source=u)}}}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return t},It=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return t.progress},i=function(){t.request&&t.request.abort&&t.request.abort()},a=function(){var e=t.source;r.fire("init",e),e instanceof File?r.fire("load",e):e instanceof Blob?r.fire("load",_t(e,e.name)):dt(e)?r.fire("load",Et(e)):o(e)},o=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=_t(e,e.name||ut(n))),r.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){r.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,i){i&&(t.size=i),t.duration=Date.now()-t.timestamp,e?(t.progress=n/i,r.fire("progress",t.progress)):t.progress=null}),(function(){r.fire("abort")}),(function(e){var n=Tt("string"==typeof e?e:e.headers);r.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):r.fire("error",{type:"error",body:"Can't load URL",code:400})},r=Object.assign({},Se(),{setSource:function(e){return t.source=e},getProgress:n,abort:i,load:a});return r},St=function(e){return/GET|HEAD/.test(e)},Ot=function(e,t,n){var i={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){a=!0,r.abort()}},a=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),St(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var r=new XMLHttpRequest;return(St(n.method)?r:r.upload).onprogress=function(e){a||i.onprogress(e.lengthComputable,e.loaded,e.total)},r.onreadystatechange=function(){r.readyState<2||4===r.readyState&&0===r.status||o||(o=!0,i.onheaders(r))},r.onload=function(){r.status>=200&&r.status<300?i.onload(r):i.onerror(r)},r.onerror=function(){return i.onerror(r)},r.onabort=function(){a=!0,i.onabort()},r.ontimeout=function(){return i.ontimeout(r)},r.open(n.method,t,!0),Q(n.timeout)&&(r.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));r.setRequestHeader(e,t)})),n.responseType&&(r.responseType=n.responseType),n.withCredentials&&(r.withCredentials=!0),r.send(e),i},At=function(e,t,n,i){return{type:e,code:t,body:n,headers:i}},Rt=function(e){return function(t){e(At("error",0,"Timeout",t.getAllResponseHeaders()))}},Mt=function(e){return/\?/.test(e)},Lt=function(){for(var e="",t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e+=Mt(e)&&Mt(t)?t.replace(/\?/,"&"):t})),e},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!H(t.url))return null;var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(a,o,r,s,l,c){var d=Ot(a,Lt(e,t.url),Object.assign({},t,{responseType:"blob"}));return d.onload=function(e){var i=e.getAllResponseHeaders(),r=Tt(i).name||ut(a);o(At("load",e.status,"HEAD"===t.method?null:_t(n(e.response),r),i))},d.onerror=function(e){r(At("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},d.onheaders=function(e){c(At("headers",e.status,null,e.getAllResponseHeaders()))},d.ontimeout=Rt(r),d.onprogress=s,d.onabort=l,d}},Pt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},qt=function(e,t,n,i,a,o,r,s,l,c,d){for(var u=[],f=d.chunkTransferId,h=d.chunkServer,p=d.chunkSize,m=d.chunkRetryDelays,_={serverId:f,aborted:!1},v=t.ondata||function(e){return e},g=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},y=t.onerror||function(e){return null},b=function(o){var s=new FormData;ae(a)&&s.append(n,JSON.stringify(a));var l="function"==typeof t.headers?t.headers(i,a):Object.assign({},t.headers,{"Upload-Length":i.size}),c=Object.assign({},t,{headers:l}),d=Ot(v(s),Lt(e,t.url),c);d.onload=function(e){return o(g(e,c.method))},d.onerror=function(e){return r(At("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))},d.ontimeout=Rt(r)},w=function(n){var i=Lt(e,h.url,_.serverId),a={headers:"function"==typeof t.headers?t.headers(_.serverId):Object.assign({},t.headers),method:"HEAD"},o=Ot(null,i,a);o.onload=function(e){return n(g(e,a.method))},o.onerror=function(e){return r(At("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))},o.ontimeout=Rt(r)},$=Math.floor(i.size/p),k=0;k<=$;k++){var E=k*p,x=i.slice(E,E+p,"application/offset+octet-stream");u[k]={index:k,size:x.size,offset:E,data:x,file:i,progress:0,retries:Ee(m),status:Pt.QUEUED,error:null,request:null,timeout:null}}var D=function(){return o(_.serverId)},C=function(e){return e.status===Pt.QUEUED||e.status===Pt.ERROR},T=function(t){if(!_.aborted)if(t=t||u.find(C)){t.status=Pt.PROCESSING,t.progress=null;var n=h.ondata||function(e){return e},a=h.onerror||function(e){return null},o=Lt(e,h.url,_.serverId),s="function"==typeof h.headers?h.headers(t):Object.assign({},h.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":i.size,"Upload-Name":i.name}),c=t.request=Ot(n(t.data),o,Object.assign({},h,{headers:s}));c.onload=function(){t.status=Pt.COMPLETE,t.request=null,O()},c.onprogress=function(e,n,i){t.progress=e?n:null,S()},c.onerror=function(e){t.status=Pt.ERROR,t.request=null,t.error=a(e.response)||e.statusText,I(t)||r(At("error",e.status,a(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=function(e){t.status=Pt.ERROR,t.request=null,I(t)||Rt(r)(e)},c.onabort=function(){t.status=Pt.QUEUED,t.request=null,l()}}else u.every((function(e){return e.status===Pt.COMPLETE}))&&D()},I=function(e){return 0!==e.retries.length&&(e.status=Pt.WAITING,clearTimeout(e.timeout),e.timeout=setTimeout((function(){T(e)}),e.retries.shift()),!0)},S=function(){var e=u.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return s(!1,0,0);var t=u.reduce((function(e,t){return e+t.size}),0);s(!0,e,t)},O=function(){u.filter((function(e){return e.status===Pt.PROCESSING})).length>=1||T()},A=function(){u.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))};return _.serverId?w((function(e){_.aborted||(u.filter((function(t){return t.offset<e})).forEach((function(e){e.status=Pt.COMPLETE,e.progress=e.size})),O())})):b((function(e){_.aborted||(c(e),_.serverId=e,O())})),{abort:function(){_.aborted=!0,A()}}},Ft=function(e,t,n,i){return function(a,o,r,s,l,c,d){if(a){var u=i.chunkUploads,f=u&&a.size>i.chunkSize,h=u&&(f||i.chunkForce);if(a instanceof Blob&&h)return qt(e,t,n,a,o,r,s,l,c,d,i);var p=t.ondata||function(e){return e},m=t.onload||function(e){return e},_=t.onerror||function(e){return null},v="function"==typeof t.headers?t.headers(a,o)||{}:Object.assign({},t.headers),g=Object.assign({},t,{headers:v}),y=new FormData;ae(o)&&y.append(n,JSON.stringify(o)),(a instanceof Blob?[{name:null,file:a}]:a).forEach((function(e){y.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var b=Ot(p(y),Lt(e,t.url),g);return b.onload=function(e){r(At("load",e.status,m(e.response),e.getAllResponseHeaders()))},b.onerror=function(e){s(At("error",e.status,_(e.response)||e.statusText,e.getAllResponseHeaders()))},b.ontimeout=Rt(s),b.onprogress=l,b.onabort=c,b}}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t.apply(void 0,[n].concat(a,[i]))}:t&&H(t.url)?Ft(e,t,n,i):null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!H(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(a,o,r){var s=Ot(a,e+t.url,t);return s.onload=function(e){o(At("load",e.status,n(e.response),e.getAllResponseHeaders()))},s.onerror=function(e){r(At("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=Rt(r),s}},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},zt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=null,o=Date.now();return function r(){var s=Date.now()-o,l=Ut(n,i);s+l>t&&(l=s+l-t);var c=s/t;c>=1||document.hidden?e(1):(e(c),a=setTimeout(r,l))}(),{clear:function(){clearTimeout(a)}}},Gt=function(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(n,i){var a=function(){0!==t.duration&&null!==t.progress&&s.fire("progress",s.getProgress())},o=function(){t.complete=!0,s.fire("load-perceived",t.response.body)};s.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=zt((function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,a(),t.response&&1===t.perceivedProgress&&!t.complete&&o()}),Ut(750,1500)),t.request=e(n,i,(function(e){t.response=ae(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,s.fire("load",t.response.body),1===t.perceivedProgress&&o()}),(function(e){t.perceivedPerformanceUpdater.clear(),s.fire("error",ae(e)?e:{type:"error",code:0,body:""+e})}),(function(e,n,i){t.duration=Date.now()-t.timestamp,t.progress=e?n/i:null,a()}),(function(){t.perceivedPerformanceUpdater.clear(),s.fire("abort",t.response?t.response.body:null)}),(function(e){s.fire("transfer",e)}))},i=function(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort&&t.request.abort(),t.complete=!0)},a=function(){i(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null},o=function(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},r=function(){return Math.min(t.duration,t.perceivedDuration)},s=Object.assign({},Se(),{process:n,abort:i,getProgress:o,getDuration:r,reset:a});return s},Yt=function(e){return e.substr(0,e.lastIndexOf("."))||e},Ht=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||dt(e)?t[0]=e.name||mt():dt(e)?(t[1]=e.length,t[2]=bt(e)):H(e)&&(t[0]=ut(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Wt=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},Vt=function e(t){if(!ae(t))return t;var n=j(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];n[i]=a&&ae(a)?e(a):a}return n},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=ye(),a={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?Le.PROCESSING_COMPLETE:Le.INIT,activeLoader:null,activeProcessor:null},r=null,s={},l=function(e){return a.status=e},c=function(e){if(!a.released&&!a.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];k.fire.apply(k,[e].concat(n))}},d=function(){return ft(a.file.name)},u=function(){return a.file.type},f=function(){return a.file.size},h=function(){return a.file},p=function(t,n,i){a.source=t,k.fireSync("init"),a.file?k.fireSync("load-skip"):(a.file=Ht(t),n.on("init",(function(){c("load-init")})),n.on("meta",(function(t){a.file.size=t.size,a.file.filename=t.filename,t.source&&(e=Ne.LIMBO,a.serverFileReference=t.source,a.status=Le.PROCESSING_COMPLETE),c("load-meta")})),n.on("progress",(function(e){l(Le.LOADING),c("load-progress",e)})),n.on("error",(function(e){l(Le.LOAD_ERROR),c("load-request-error",e)})),n.on("abort",(function(){l(Le.INIT),c("load-abort")})),n.on("load",(function(t){a.activeLoader=null;var n=function(t){a.file=Wt(t)?t:a.file,e===Ne.LIMBO&&a.serverFileReference?l(Le.PROCESSING_COMPLETE):l(Le.IDLE),c("load")},o=function(e){a.file=t,c("load-meta"),l(Le.LOAD_ERROR),c("load-file-error",e)};a.serverFileReference?n(t):i(t,n,o)})),n.setSource(t),a.activeLoader=n,n.load())},m=function(){a.activeLoader&&a.activeLoader.load()},_=function(){a.activeLoader?a.activeLoader.abort():(l(Le.INIT),c("load-abort"))},v=function e(t,n){if(a.processingAborted)a.processingAborted=!1;else if(l(Le.PROCESSING),r=null,a.file instanceof Blob){t.on("load",(function(e){a.transferId=null,a.serverFileReference=e})),t.on("transfer",(function(e){a.transferId=e})),t.on("load-perceived",(function(e){a.activeProcessor=null,a.transferId=null,a.serverFileReference=e,l(Le.PROCESSING_COMPLETE),c("process-complete",e)})),t.on("start",(function(){c("process-start")})),t.on("error",(function(e){a.activeProcessor=null,l(Le.PROCESSING_ERROR),c("process-error",e)})),t.on("abort",(function(e){a.activeProcessor=null,a.transferId=null,a.serverFileReference=e,l(Le.IDLE),c("process-abort"),r&&r()})),t.on("progress",(function(e){c("process-progress",e)}));var i=function(e){a.archived||t.process(e,Object.assign({},s))},o=console.error;n(a.file,i,o),a.activeProcessor=t}else k.on("load",(function(){e(t,n)}))},g=function(){a.processingAborted=!1,l(Le.PROCESSING_QUEUED)},y=function(){return new Promise((function(e){if(!a.activeProcessor)return a.processingAborted=!0,l(Le.IDLE),c("process-abort"),void e();r=function(){e()},a.activeProcessor.abort()}))},b=function(e,t){return new Promise((function(n,i){null!==a.serverFileReference?(e(a.serverFileReference,(function(){a.serverFileReference=null,n()}),(function(e){t?(l(Le.PROCESSING_REVERT_ERROR),c("process-revert-error"),i(e)):n()})),l(Le.IDLE),c("process-revert")):n()}))},w=function(e,t,n){var i=e.split("."),a=i[0],o=i.pop(),r=s;i.forEach((function(e){return r=r[e]})),JSON.stringify(r[o])!==JSON.stringify(t)&&(r[o]=t,n||c("metadata-update",{key:a,value:s[a]}))},$=function(e){return Vt(e?s[e]:s)},k=Object.assign({id:{get:function(){return i}},origin:{get:function(){return e}},serverId:{get:function(){return a.serverFileReference}},transferId:{get:function(){return a.transferId}},status:{get:function(){return a.status}},filename:{get:function(){return a.file.name}},filenameWithoutExtension:{get:function(){return Yt(a.file.name)}},fileExtension:{get:d},fileType:{get:u},fileSize:{get:f},file:{get:h},relativePath:{get:function(){return a.file._relativePath}},source:{get:function(){return a.source}},getMetadata:$,setMetadata:function(e,t,n){if(ae(e)){var i=e;return Object.keys(i).forEach((function(e){w(e,i[e],t)})),e}return w(e,t,n),t},extend:function(e,t){return E[e]=t},abortLoad:_,retryLoad:m,requestProcessing:g,abortProcessing:y,load:p,process:v,revert:b},Se(),{freeze:function(){return a.frozen=!0},release:function(){return a.released=!0},released:{get:function(){return a.released}},archive:function(){return a.archived=!0},archived:{get:function(){return a.archived}}}),E=o(k);return E},Qt=function(e,t){return B(t)?0:H(t)?e.findIndex((function(e){return e.id===t})):-1},Kt=function(e,t){var n=Qt(e,t);if(!(n<0))return e[n]||null},Jt=function(e,t,n,i,a,o){var r=Ot(null,e,{method:"GET",responseType:"blob"});return r.onload=function(n){var i=n.getAllResponseHeaders(),a=Tt(i).name||ut(e);t(At("load",n.status,_t(n.response,a),i))},r.onerror=function(e){n(At("error",e.status,e.statusText,e.getAllResponseHeaders()))},r.onheaders=function(e){o(At("headers",e.status,null,e.getAllResponseHeaders()))},r.ontimeout=Rt(n),r.onprogress=i,r.onabort=a,r},Zt=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},en=function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Zt(location.href)!==Zt(e)},tn=function(e){return function(){return J(e)?e.apply(void 0,arguments):e}},nn=function(e){return!Wt(e.file)},an=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:Ke(t.items)})}),0)},on=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((function(t){if(!e)return t(!0);var i=e.apply(void 0,n);return null==i?t(!0):"boolean"==typeof i?t(i):void("function"==typeof i.then&&i.then(t))}))},rn=function(e,t){e.items.sort((function(e,n){return t(Re(e),Re(n))}))},sn=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.query,a=n.success,o=void 0===a?function(){}:a,r=n.failure,s=void 0===r?function(){}:r,l=ke(n,["query","success","failure"]),c=Xe(e.items,i);c?t(c,o,s,l||{}):s({error:At("error",0,"Item not found"),file:null})}},ln=function(e,t,n){return{ABORT_ALL:function(){Ke(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var i=t.value,a=(void 0===i?[]:i).map((function(e){return{source:e.source?e.source:e,options:e.options}})),o=Ke(n.items);o.forEach((function(t){a.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t,remove:!1})})),o=Ke(n.items),a.forEach((function(t,n){o.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:ge.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(i){var a=i.id,o=i.action;clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var i=Kt(n.items,a);if(t("IS_ASYNC")){var r=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:a})}),32)},s=function(e){i.revert(Bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(e?r:function(){}).catch((function(){}))},l=function(e){i.abortProcessing().then(e?r:function(){})};return i.status===Le.PROCESSING_COMPLETE?s(n.options.instantUpload):i.status===Le.PROCESSING?l(n.options.instantUpload):void(n.options.instantUpload&&r())}Ue("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:t,action:o}).then((function(n){var o=t("GET_BEFORE_PREPARE_FILE");o&&(n=o(i,n)),n&&e("REQUEST_PREPARE_OUTPUT",{query:a,item:i,success:function(t){e("DID_PREPARE_OUTPUT",{id:a,file:t})}},!0)}))}),0)},MOVE_ITEM:function(e){var t=e.query,i=e.index,a=Xe(n.items,t);if(a){var o=n.items.indexOf(a);o!==(i=st(i,0,n.items.length-1))&&n.items.splice(i,0,n.items.splice(o,1)[0])}},SORT:function(i){var a=i.compare;rn(n,a),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var i=n.items,a=n.index,o=n.interactionMethod,r=n.success,s=void 0===r?function(){}:r,l=n.failure,c=void 0===l?function(){}:l,d=a;if(-1===a||void 0===a){var u=t("GET_ITEM_INSERT_LOCATION"),f=t("GET_TOTAL_ITEMS");d="before"===u?0:f}var h=t("GET_IGNORED_FILES"),p=function(e){return Wt(e)?!h.includes(e.name.toLowerCase()):!B(e)},m=i.filter(p).map((function(t){return new Promise((function(n,i){e("ADD_ITEM",{interactionMethod:o,source:t.source||t,success:n,failure:i,index:d++,options:t.options||{}})}))}));Promise.all(m).then(s).catch(c)},ADD_ITEM:function(i){var a=i.source,o=i.index,r=void 0===o?-1:o,s=i.interactionMethod,l=i.success,c=void 0===l?function(){}:l,d=i.failure,u=void 0===d?function(){}:d,f=i.options,h=void 0===f?{}:f;if(B(a))u({error:At("error",0,"No source"),file:null});else if(!Wt(a)||!n.options.ignoredFiles.includes(a.name.toLowerCase())){if(!rt(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var p=At("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:a,error:p}),void u({error:p,file:null})}var m=Ke(n.items)[0];if(m.status===Le.PROCESSING_COMPLETE||m.status===Le.PROCESSING_REVERT_ERROR){var _=t("GET_FORCE_REVERT");if(m.revert(Bt(n.options.server.url,n.options.server.revert),_).then((function(){_&&e("ADD_ITEM",{source:a,index:r,interactionMethod:s,success:c,failure:u,options:h})})).catch((function(){})),_)return}e("REMOVE_ITEM",{query:m.id})}var v="local"===h.type?Ne.LOCAL:"limbo"===h.type?Ne.LIMBO:Ne.INPUT,g=Xt(v,v===Ne.INPUT?null:a,h.file);Object.keys(h.metadata||{}).forEach((function(e){g.setMetadata(e,h.metadata[e])})),ze("DID_CREATE_ITEM",g,{query:t,dispatch:e});var y=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(r="before"===y?-1:n.items.length),ct(n.items,g,r),J(y)&&a&&rn(n,y);var b=g.id;g.on("init",(function(){e("DID_INIT_ITEM",{id:b})})),g.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:b})})),g.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:b})})),g.on("load-progress",(function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:b,progress:t})})),g.on("load-request-error",(function(t){var i=tn(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:b,error:t,status:{main:i,sub:t.code+" ("+t.body+")"}}),void u({error:t,file:Re(g)});e("DID_THROW_ITEM_LOAD_ERROR",{id:b,error:t,status:{main:i,sub:n.options.labelTapToRetry}})})),g.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:b,error:t.status,status:t.status}),u({error:t.status,file:Re(g)})})),g.on("load-abort",(function(){e("REMOVE_ITEM",{query:b})})),g.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:b,item:g,data:{source:a,success:c}})})),g.on("load",(function(){var i=function(i){i?(g.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:b,change:t})})),Ue("SHOULD_PREPARE_OUTPUT",!1,{item:g,query:t}).then((function(i){var o=t("GET_BEFORE_PREPARE_FILE");o&&(i=o(g,i));var r=function(){e("COMPLETE_LOAD_ITEM",{query:b,item:g,data:{source:a,success:c}}),an(e,n)};i?e("REQUEST_PREPARE_OUTPUT",{query:b,item:g,success:function(t){e("DID_PREPARE_OUTPUT",{id:b,file:t}),r()}},!0):r()}))):e("REMOVE_ITEM",{query:b})};Ue("DID_LOAD_ITEM",g,{query:t,dispatch:e}).then((function(){on(t("GET_BEFORE_ADD_FILE"),Re(g)).then(i)})).catch((function(){i(!1)}))})),g.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:b})})),g.on("process-progress",(function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:b,progress:t})})),g.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:b,error:t,status:{main:tn(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),g.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:b,error:t,status:{main:tn(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),g.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:b,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:b,value:t})})),g.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:b})})),g.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:b}),e("DID_DEFINE_VALUE",{id:b,value:null})})),e("DID_ADD_ITEM",{id:b,index:r,interactionMethod:s}),an(e,n);var w=n.options.server||{},$=w.url,k=w.load,E=w.restore,x=w.fetch;g.load(a,It(v===Ne.INPUT?H(a)&&en(a)&&x?Nt($,x):Jt:v===Ne.LIMBO?Nt($,E):Nt($,k)),(function(e,n,i){Ue("LOAD_FILE",e,{query:t}).then(n).catch(i)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,i=e.success,a=e.failure,o=void 0===a?function(){}:a,r={error:At("error",0,"Item not found"),file:null};if(n.archived)return o(r);Ue("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){Ue("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return o(r);i(e)}))}))},COMPLETE_LOAD_ITEM:function(i){var a=i.item,o=i.data,r=o.success,s=o.source,l=t("GET_ITEM_INSERT_LOCATION");if(J(l)&&s&&rn(n,l),e("DID_LOAD_ITEM",{id:a.id,error:null,serverFileReference:a.origin===Ne.INPUT?null:s}),r(Re(a)),a.origin!==Ne.LOCAL)return a.origin===Ne.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:a.id,error:null,serverFileReference:s}),void e("DID_DEFINE_VALUE",{id:a.id,value:s})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:a.id}));e("DID_LOAD_LOCAL_ITEM",{id:a.id})},RETRY_ITEM_LOAD:sn(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:sn(n,(function(t,n,i){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(i){e("DID_PREPARE_OUTPUT",{id:t.id,file:i}),n({file:t,output:i})},failure:i},!0)})),REQUEST_ITEM_PROCESSING:sn(n,(function(i,a,o){if(i.status===Le.IDLE||i.status===Le.PROCESSING_ERROR)i.status!==Le.PROCESSING_QUEUED&&(i.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),e("PROCESS_ITEM",{query:i,success:a,failure:o},!0));else{var r=function(){return e("REQUEST_ITEM_PROCESSING",{query:i,success:a,failure:o})},s=function(){return document.hidden?r():setTimeout(r,32)};i.status===Le.PROCESSING_COMPLETE||i.status===Le.PROCESSING_REVERT_ERROR?i.revert(Bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(s).catch((function(){})):i.status===Le.PROCESSING&&i.abortProcessing().then(s)}})),PROCESS_ITEM:sn(n,(function(i,a,o){var r=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",Le.PROCESSING).length!==r){if(i.status!==Le.PROCESSING){var s=function t(){var i=n.processingQueue.shift();if(i){var a=i.id,o=i.success,r=i.failure,s=Xe(n.items,a);s&&!s.archived?e("PROCESS_ITEM",{query:a,success:o,failure:r},!0):t()}};i.onOnce("process-complete",(function(){a(Re(i)),s(),t("GET_ITEMS_BY_STATUS",Le.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),i.onOnce("process-error",(function(e){o({error:e,file:Re(i)}),s()}));var l=n.options;i.process(Gt(jt(l.server.url,l.server.process,l.name,{chunkTransferId:i.transferId,chunkServer:l.server.patch,chunkUploads:l.chunkUploads,chunkForce:l.chunkForce,chunkSize:l.chunkSize,chunkRetryDelays:l.chunkRetryDelays})),(function(n,a,o){Ue("PREPARE_OUTPUT",n,{query:t,item:i}).then((function(t){e("DID_PREPARE_OUTPUT",{id:i.id,file:t}),a(t)})).catch(o)}))}}else n.processingQueue.push({id:i.id,success:a,failure:o})})),RETRY_ITEM_PROCESSING:sn(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:sn(n,(function(n){on(t("GET_BEFORE_REMOVE_FILE"),Re(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:sn(n,(function(e){e.release()})),REMOVE_ITEM:sn(n,(function(i,a,o,r){var s=function(){var t=i.id;Kt(n.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:i}),an(e,n),a(Re(i))},l=n.options.server;i.origin===Ne.LOCAL&&l&&J(l.remove)&&!1!==r.remove?(e("DID_START_ITEM_REMOVE",{id:i.id}),l.remove(i.source,(function(){return s()}),(function(t){e("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:At("error",0,t,null),status:{main:tn(n.options.labelFileRemoveError)(t),sub:n.options.labelTapToRetry}})}))):(r.revert&&i.origin!==Ne.LOCAL&&null!==i.serverId&&i.revert(Bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:sn(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:sn(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){n.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:sn(n,(function(i){if(n.options.instantUpload){var a=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:i})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return a(!0);var r=o(Re(i));return null==r?a(!0):"boolean"==typeof r?a(r):void("function"==typeof r.then&&r.then(a))}e("REVERT_ITEM_PROCESSING",{query:i})})),REVERT_ITEM_PROCESSING:sn(n,(function(i){i.revert(Bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||nn(i))&&e("REMOVE_ITEM",{query:i.id})})).catch((function(){}))})),SET_OPTIONS:function(t){var n=t.options;a(n,(function(t,n){e("SET_"+pe(t,"_").toUpperCase(),{value:n})}))}}},cn=function(e){return e},dn=function(e){return document.createElement(e)},un=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},fn=function(e,t,n,i){var a=(i%360-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}},hn=function(e,t,n,i,a,o){var r=fn(e,t,n,a),s=fn(e,t,n,i);return["M",r.x,r.y,"A",n,n,0,o,0,s.x,s.y].join(" ")},pn=function(e,t,n,i,a){var o=1;return a>i&&a-i<=.5&&(o=0),i>a&&i-a>=.5&&(o=0),hn(e,t,n,360*Math.min(.9999,i),360*Math.min(.9999,a),o)},mn=L({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var i=d("svg");t.ref.path=d("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var i=parseInt(r(t.ref.path,"stroke-width"),10),a=.5*t.rect.element.width,o=0,s=0;n.spin?(o=0,s=.5):(o=0,s=n.progress);var l=pn(a,a,a-i,o,s);r(t.ref.path,"d",l),r(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),_n=L({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,i=n.isDisabled,a=t.query("GET_DISABLED")||0===n.opacity;a&&!i?(n.isDisabled=!0,r(t.element,"disabled","disabled")):!a&&i&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),vn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=n,a=n*n,o=n*n*n;return(e=Math.round(Math.abs(e)))<i?e+" bytes":e<a?Math.floor(e/i)+" KB":e<o?gn(e/a,1,t)+" MB":gn(e/o,2,t)+" GB"},gn=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},yn=function(e){var t=e.root,n=e.props,i=dn("span");i.className="filepond--file-info-main",r(i,"aria-hidden","true"),t.appendChild(i),t.ref.fileName=i;var a=dn("span");a.className="filepond--file-info-sub",t.appendChild(a),t.ref.fileSize=a,un(a,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),un(i,cn(t.query("GET_ITEM_NAME",n.id)))},bn=function(e){var t=e.root,n=e.props;un(t.ref.fileSize,vn(t.query("GET_ITEM_SIZE",n.id),".",t.query("GET_FILE_SIZE_BASE"))),un(t.ref.fileName,cn(t.query("GET_ITEM_NAME",n.id)))},wn=function(e){var t=e.root,n=e.props;Q(t.query("GET_ITEM_SIZE",n.id))||un(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},$n=L({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:P({DID_LOAD_ITEM:bn,DID_UPDATE_ITEM_META:bn,DID_THROW_ITEM_LOAD_ERROR:wn,DID_THROW_ITEM_INVALID:wn}),didCreateView:function(e){ze("CREATE_VIEW",Object.assign({},e,{view:e}))},create:yn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),kn=function(e){return Math.round(100*e)},En=function(e){var t=e.root,n=dn("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var i=dn("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,xn({root:t,action:{progress:null}})},xn=function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+kn(n.progress)+"%";un(t.ref.main,i),un(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Dn=function(e){var t=e.root;un(t.ref.main,""),un(t.ref.sub,"")},Cn=function(e){var t=e.root,n=e.action;un(t.ref.main,n.status.main),un(t.ref.sub,n.status.sub)},Tn=L({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:P({DID_LOAD_ITEM:Dn,DID_REVERT_ITEM_PROCESSING:Dn,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;un(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),un(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;un(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),un(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;un(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),un(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+kn(n.progress)+"%";un(t.ref.main,i),un(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:xn,DID_THROW_ITEM_LOAD_ERROR:Cn,DID_THROW_ITEM_INVALID:Cn,DID_THROW_ITEM_PROCESSING_ERROR:Cn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Cn,DID_THROW_ITEM_REMOVE_ERROR:Cn}),didCreateView:function(e){ze("CREATE_VIEW",Object.assign({},e,{view:e}))},create:En,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),In={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Sn=[];a(In,(function(e){Sn.push(e)}));var On,An=function(e){if("right"===Nn(e))return 0;var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Rn=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},Mn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Ln=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Nn=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Pn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},qn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:An},status:{translateX:An}},Fn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},jn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:An},status:{translateX:An,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:An},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Nn},info:{translateX:An},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Nn},buttonRemoveItem:{opacity:1},info:{translateX:An},status:{opacity:1,translateX:An}},DID_LOAD_ITEM:qn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:An},status:{translateX:An}},DID_START_ITEM_PROCESSING:Fn,DID_REQUEST_ITEM_PROCESSING:Fn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Fn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:An}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:An},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:qn},Bn=L({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Un=function(e){var t,n=e.root,i=e.props.id,o=n.query("GET_ALLOW_REVERT"),r=n.query("GET_ALLOW_REMOVE"),s=n.query("GET_ALLOW_PROCESS"),l=n.query("GET_INSTANT_UPLOAD"),c=n.query("IS_ASYNC"),d=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");c?s&&!o?t=function(e){return!/RevertItemProcessing/.test(e)}:!s&&o?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:s||o||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var u=t?Sn.filter(t):Sn.concat();if(l&&o&&(In.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",In.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!o){var f=jn.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=Ln,f.info.translateY=Mn,f.status.translateY=Mn,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){jn[e].status.translateY=Mn})),jn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Rn),d&&o){In.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var h=jn.DID_COMPLETE_ITEM_PROCESSING;h.info.translateX=An,h.status.translateY=Mn,h.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}r||(In.RemoveItem.disabled=!0),a(In,(function(e,t){var a=n.createChildView(_n,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});u.includes(e)&&n.appendChildView(a),t.disabled&&(a.element.setAttribute("disabled","disabled"),a.element.setAttribute("hidden","hidden")),a.element.dataset.align=n.query("GET_STYLE_"+t.align),a.element.classList.add(t.className),a.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:i})})),n.ref["button"+e]=a})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Bn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView($n,{id:i})),n.ref.status=n.appendChildView(n.createChildView(Tn,{id:i}));var p=n.appendChildView(n.createChildView(mn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));p.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=p;var m=n.appendChildView(n.createChildView(mn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=m,n.ref.activeStyles=[]},zn=function(e){var t=e.root,n=e.actions,i=e.props;Gn({root:t,actions:n,props:i});var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return jn[e.type]}));if(o){t.ref.activeStyles=[];var r=jn[o.type];a(Pn,(function(e,n){var i=t.ref[e];a(n,(function(n,a){var o=r[e]&&void 0!==r[e][n]?r[e][n]:a;t.ref.activeStyles.push({control:i,key:n,value:o})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,i=e.key,a=e.value;n[i]="function"==typeof a?a(t):a}))},Gn=P({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),Yn=L({create:Un,write:zn,didCreateView:function(e){ze("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),Hn=L({create:function(e){var t=e.root,n=e.props;t.ref.fileName=dn("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Yn,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:P({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;un(t.ref.fileName,cn(t.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function(e){ze("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),Wn={type:"spring",damping:.6,mass:7},Vn=function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Wn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Wn},styles:["translateY"]}}].forEach((function(e){Xn(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},Xn=function(e,t,n){var i=L({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),a=e.createChildView(i,t.props);e.ref[t.name]=e.appendChildView(a)},Qn=L({name:"panel",read:function(e){var t=e.root;return e.props.heightCurrent=t.ref.bottom.translateY},write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!G(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var i=t.ref.top.rect.element,a=t.ref.bottom.rect.element,o=Math.max(i.height+a.height,n.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(o-i.height-a.height)/100,t.ref.bottom.translateY=o-a.height}},create:Vn,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Kn=function(e){var t=e.map((function(e){return e.id})),n=void 0;return{setIndex:function(e){n=e},getIndex:function(){return n},getItemIndex:function(e){return t.indexOf(e.id)}}},Jn={type:"spring",stiffness:.75,damping:.45,mass:10},Zn="spring",ei={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ti=function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Hn,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(Qn,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";var i=function(e){if(e.isPrimary){var i=!1,a={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var o=Kn(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var r=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-a.x,y:e.pageY-a.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!i&&(i=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o}))},s=function e(s){s.isPrimary&&(document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",e),n.dragOffset={x:s.pageX-a.x,y:s.pageY-a.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o}),i&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))};document.addEventListener("pointermove",r),document.addEventListener("pointerup",s)}};t.element.addEventListener("pointerdown",i)}},ni=P({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),ii=P({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,i=e.props,a=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return ei[e.type]}));o&&o.type!==i.currentState&&(i.currentState=o.type,t.element.dataset.filepondItemState=ei[i.currentState]||"");var r=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");r?a||(t.height=t.rect.element.width*r):(ni({root:t,actions:n,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),a&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),ai=L({create:ti,write:ii,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Zn,scaleY:Zn,translateX:Jn,translateY:Jn,opacity:{type:"tween",duration:150}}}}),oi=function(e,t){return Math.max(1,Math.floor((e+1)/t))},ri=function(e,t,n){if(n){var i=e.rect.element.width,a=t.length,o=null;if(0===a||n.top<t[0].rect.element.top)return-1;var r=t[0].rect.element,s=r.marginLeft+r.marginRight,l=r.width+s,c=oi(i,l);if(1===c){for(var d=0;d<a;d++){var u=t[d],f=u.rect.outer.top+.5*u.rect.element.height;if(n.top<f)return d}return a}for(var h=r.marginTop+r.marginBottom,p=r.height+h,m=0;m<a;m++){var _=m%c*l,v=Math.floor(m/c)*p,g=v-r.marginTop,y=_+l,b=v+p+r.marginBottom;if(n.top<b&&n.top>g){if(n.left<y)return m;o=m!==a-1?m:null}}return null!==o?o:a}},si={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},li=function(e){var t=e.root;r(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},ci=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&di(e,t,n,i,a),e.scaleX=1,e.scaleY=1,e.opacity=1))},di=function(e,t,n,i,a){e.interactionMethod===ge.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===ge.DROP?(e.translateX=null,e.translateX=t-20*i,e.translateY=null,e.translateY=n-10*a,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===ge.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===ge.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},ui=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},fi=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight},hi=P({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=n.id,a=n.index,o=n.interactionMethod;t.ref.addIndex=a;var r=Date.now(),s=r,l=1;if(o!==ge.NONE){l=0;var c=t.query("GET_ITEM_INSERT_INTERVAL"),d=r-t.ref.lastItemSpanwDate;s=d<c?r+(c-d):r}t.ref.lastItemSpanwDate=s,t.appendChildView(t.createChildView(ai,{spawnDate:s,id:i,opacity:l,interactionMethod:o}),a)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,i=t.childViews.find((function(e){return e.id===n}));i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action,i=n.id,a=n.dragState,o=t.query("GET_ITEM",{id:i}),r=t.childViews.find((function(e){return e.id===i})),s=t.childViews.length,l=a.getItemIndex(o);if(r){var c={x:r.dragOrigin.x+r.dragOffset.x+r.dragCenter.x,y:r.dragOrigin.y+r.dragOffset.y+r.dragCenter.y},d=ui(r),u=fi(r),f=Math.floor(t.rect.outer.width/u);f>s&&(f=s);var h=Math.floor(s/f+1);si.setHeight=d*h,si.setWidth=u*f;var p={y:Math.floor(c.y/d),x:Math.floor(c.x/u),getGridIndex:function(){return c.y>si.getHeight||c.y<0||c.x>si.getWidth||c.x<0?l:this.y*f+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),i=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),a=i.findIndex((function(e){return e===r})),o=ui(r),s=i.length,l=s,d=0,u=0,f=0;f<s;f++)if(d=(u=d)+ui(i[f]),c.y<d){if(a>f){if(c.y<u+o){l=f;break}continue}l=f;break}return l}},m=f>1?p.getGridIndex():p.getColIndex();t.dispatch("MOVE_ITEM",{query:r,index:m});var _=a.getIndex();if(void 0===_||_!==m){if(a.setIndex(m),void 0===_)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:l,target:m})}}}}),pi=L({create:li,write:function(e){var t=e.root,n=e.props,i=e.actions,a=e.shouldOptimize;hi({root:t,props:n,actions:i});var o=n.dragCoordinates,r=t.rect.element.width,s=t.childViews.filter((function(e){return e.rect.element.height})),l=t.query("GET_ACTIVE_ITEMS").map((function(e){return s.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),c=o?ri(t,l,o):null,d=t.ref.addIndex||null;t.ref.addIndex=null;var u=0,f=0,h=0;if(0!==l.length){var p=l[0].rect.element,m=p.marginTop+p.marginBottom,_=p.marginLeft+p.marginRight,v=p.width+_,g=p.height+m,y=oi(r,v);if(1===y){var b=0,w=0;l.forEach((function(e,t){if(c){var n=t-c;w=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}a&&(e.translateX=null,e.translateY=null),e.markedForRemoval||ci(e,0,b+w);var i=(e.rect.element.height+m)*(e.markedForRemoval?e.opacity:1);b+=i}))}else{var $=0,k=0;l.forEach((function(e,t){t===c&&(u=1),t===d&&(h+=1),e.markedForRemoval&&e.opacity<.5&&(f-=1);var n=t+h+u+f,i=n%y,o=Math.floor(n/y),r=i*v,s=o*g,l=Math.sign(r-$),p=Math.sign(s-k);$=r,k=s,e.markedForRemoval||(a&&(e.translateX=null,e.translateY=null),ci(e,r,s,l,p))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),mi=function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(pi)),n.dragCoordinates=null,n.overflowing=!1},_i=P({DID_DRAG:function(e){var t=e.root,n=e.props,i=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),vi=L({create:mi,write:function(e){var t=e.root,n=e.props,i=e.actions;if(_i({root:t,props:n,actions:i}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var a=Math.round(n.overflow);a!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=a)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),gi=function(e,t,n){n?r(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},yi=function(e){if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){var t=dn("form"),n=e.parentNode,i=e.nextSibling;t.appendChild(e),t.reset(),i?n.insertBefore(e,i):n.appendChild(e)}}},bi=function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,r(t.element,"name",t.query("GET_NAME")),r(t.element,"aria-controls","filepond--assistant-"+n.id),r(t.element,"aria-labelledby","filepond--drop-label-"+n.id),wi({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),$i({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),ki({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Ei({root:t}),xi({root:t,action:{value:t.query("GET_REQUIRED")}}),Di({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var i=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(i),yi(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},wi=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&gi(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},$i=function(e){var t=e.root,n=e.action;gi(t.element,"multiple",n.value)},ki=function(e){var t=e.root,n=e.action;gi(t.element,"webkitdirectory",n.value)},Ei=function(e){var t=e.root,n=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE"),a=n||!i;gi(t.element,"disabled",a)},xi=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&gi(t.element,"required",!0):gi(t.element,"required",!1)},Di=function(e){var t=e.root,n=e.action;gi(t.element,"capture",!!n.value,!0===n.value?"":n.value)},Ci=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(gi(n,"required",!1),gi(n,"name",!1)):(gi(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&gi(n,"required",!0))},Ti=L({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:bi,destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:P({DID_LOAD_ITEM:Ci,DID_REMOVE_ITEM:Ci,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Ei,DID_SET_ALLOW_BROWSE:Ei,DID_SET_ALLOW_DIRECTORIES_ONLY:ki,DID_SET_ALLOW_MULTIPLE:$i,DID_SET_ACCEPTED_FILE_TYPES:wi,DID_SET_CAPTURE_METHOD:Di,DID_SET_REQUIRED:xi})}),Ii={ENTER:13,SPACE:32},Si=function(e){var t=e.root,n=e.props,i=dn("label");r(i,"for","filepond--browser-"+n.id),r(i,"id","filepond--drop-label-"+n.id),r(i,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(e.keyCode===Ii.ENTER||e.keyCode===Ii.SPACE)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===i||i.contains(e.target)||t.ref.label.click()},i.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Oi(i,n.caption),t.appendChild(i),t.ref.label=i},Oi=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&r(n,"tabindex","0"),t},Ai=L({name:"drop-label",ignoreRect:!0,create:Si,destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:P({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;Oi(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Ri=L({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Mi=function(e){var t=e.root,n=.5*t.rect.element.width,i=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(Ri,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:i}))},Li=function(e){var t=e.root,n=e.props,i=e.actions;Ni({root:t,props:n,actions:i});var a=t.ref.blob;0===i.length&&a&&0===a.opacity&&(t.removeChildView(a),t.ref.blob=null)},Ni=P({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):Mi({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Pi=L({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Li}),qi=function(e){return e.root.ref.fields={}},Fi=function(e,t){return e.ref.fields[t]},ji=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},Bi=function(e){var t=e.root;return ji(t)},Ui=P({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=dn("input");i.type="hidden",i.name=t.query("GET_NAME"),i.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=i,ji(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,i=Fi(t,n.id);i&&null!==n.serverFileReference&&(i.value=n.serverFileReference)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,i=Fi(t,n.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,i=Fi(t,n.id);i&&(null===n.value?i.removeAttribute("value"):i.value=n.value,ji(t))},DID_REORDER_ITEMS:Bi,DID_SORT_ITEMS:Bi}),zi=L({tag:"fieldset",name:"data",create:qi,write:Ui,ignoreRect:!0}),Gi=function(e){return"getRootNode"in e?e.getRootNode():document},Yi=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Hi=["css","csv","html","txt"],Wi={zip:"zip|compressed",epub:"application/epub+zip"},Vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),Yi.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):Hi.includes(e)?"text/"+e:Wi[e]||""},Xi=function(e){return new Promise((function(t,n){var i=oa(e);if(i.length&&!Qi(e))return t(i);Ki(e).then(t)}))},Qi=function(e){return!!e.files&&e.files.length>0},Ki=function(e){return new Promise((function(t,n){var i=(e.items?Array.from(e.items):[]).filter((function(e){return Ji(e)})).map((function(e){return Zi(e)}));i.length?Promise.all(i).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},Ji=function(e){if(ia(e)){var t=aa(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},Zi=function(e){return new Promise((function(t,n){na(e)?ea(aa(e)).then(t).catch(n):t([e.getAsFile()])}))},ea=function(e){return new Promise((function(t,n){var i=[],a=0,o=0,r=function(){0===o&&0===a&&t(i)};!function e(t){a++;var s=t.createReader();!function t(){s.readEntries((function(n){if(0===n.length)return a--,void r();n.forEach((function(t){t.isDirectory?e(t):(o++,t.file((function(e){var n=ta(e);t.fullPath&&(n._relativePath=t.fullPath),i.push(n),o--,r()})))})),t()}),n)}()}(e)}))},ta=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name,i=Vi(ft(e.name));return i.length?((e=e.slice(0,e.size,i)).name=n,e.lastModifiedDate=t,e):e},na=function(e){return ia(e)&&(aa(e)||{}).isDirectory},ia=function(e){return"webkitGetAsEntry"in e},aa=function(e){return e.webkitGetAsEntry()},oa=function(e){var t=[];try{if((t=sa(e)).length)return t;t=ra(e)}catch(e){}return t},ra=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},sa=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},la=[],ca=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},da=function(e,t,n){var i=ua(t),a={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return a.destroy=i.addListener(a),a},ua=function(e){var t=la.find((function(t){return t.element===e}));if(t)return t;var n=fa(e);return la.push(n),n},fa=function(e){var t=[],n={dragenter:va,dragover:ga,dragleave:ba,drop:ya},i={};a(n,(function(n,a){i[n]=a(e,t),e.addEventListener(n,i[n],!1)}));var o={element:e,addListener:function(r){return t.push(r),function(){t.splice(t.indexOf(r),1),0===t.length&&(la.splice(la.indexOf(o),1),a(n,(function(t){e.removeEventListener(t,i[t],!1)})))}}};return o},ha=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)},pa=function(e,t){var n=Gi(t),i=ha(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return i===t||t.contains(i)},ma=null,_a=function(e,t){try{e.dropEffect=t}catch(e){}},va=function(e,t){return function(e){e.preventDefault(),ma=e.target,t.forEach((function(t){var n=t.element,i=t.onenter;pa(e,n)&&(t.state="enter",i(ca(e)))}))}},ga=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Xi(n).then((function(i){var a=!1;t.some((function(t){var o=t.filterElement,r=t.element,s=t.onenter,l=t.onexit,c=t.ondrag,d=t.allowdrop;_a(n,"copy");var u=d(i);if(u)if(pa(e,r)){if(a=!0,null===t.state)return t.state="enter",void s(ca(e));if(t.state="over",o&&!u)return void _a(n,"none");c(ca(e))}else o&&!a&&_a(n,"none"),t.state&&(t.state=null,l(ca(e)));else _a(n,"none")}))}))}},ya=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Xi(n).then((function(n){t.forEach((function(t){var i=t.filterElement,a=t.element,o=t.ondrop,r=t.onexit,s=t.allowdrop;if(t.state=null,!i||pa(e,a))return s(n)?void o(ca(e),n):r(ca(e))}))}))}},ba=function(e,t){return function(e){ma===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(ca(e))}))}},wa=function(e,t,n){e.classList.add("filepond--hopper");var i=n.catchesDropsOnPage,a=n.requiresDropOnElement,o=n.filterItems,r=void 0===o?function(e){return e}:o,s=da(e,i?document.documentElement:e,a),l="",c="";s.allowdrop=function(e){return t(r(e))},s.ondrop=function(e,n){var i=r(n);t(i)?(c="drag-drop",d.onload(i,e)):d.ondragend(e)},s.ondrag=function(e){d.ondrag(e)},s.onenter=function(e){c="drag-over",d.ondragstart(e)},s.onexit=function(e){c="drag-exit",d.ondragend(e)};var d={updateHopperState:function(){l!==c&&(e.dataset.hopperState=c,l=c)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return d},$a=!1,ka=[],Ea=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,i=t;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}Xi(e.clipboardData).then((function(e){e.length&&ka.forEach((function(t){return t(e)}))}))},xa=function(e){ka.includes(e)||(ka.push(e),$a||($a=!0,document.addEventListener("paste",Ea)))},Da=function(e){Te(ka,ka.indexOf(e)),0===ka.length&&(document.removeEventListener("paste",Ea),$a=!1)},Ca=function(){var e=function(e){t.onload(e)},t={destroy:function(){Da(e)},onload:function(){}};return xa(e),t},Ta=null,Ia=null,Sa=[],Oa=function(e,t){e.element.textContent=t},Aa=function(e){e.element.textContent=""},Ra=function(e,t,n){var i=e.query("GET_TOTAL_ITEMS");Oa(e,n+" "+t+", "+i+" "+(1===i?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Ia),Ia=setTimeout((function(){Aa(e)}),1500)},Ma=function(e){return e.element.parentNode.contains(document.activeElement)},La=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename,a=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Oa(t,i+" "+a)},Na=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename;Oa(t,n.status.main+" "+i+" "+n.status.sub)},Pa=L({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,r(t.element,"role","status"),r(t.element,"aria-live","polite"),r(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:P({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(Ma(t)){t.element.textContent="";var i=t.query("GET_ITEM",n.id);Sa.push(i.filename),clearTimeout(Ta),Ta=setTimeout((function(){Ra(t,Sa.join(", "),t.query("GET_LABEL_FILE_ADDED")),Sa.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(Ma(t)){var i=n.item;Ra(t,i.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename,a=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Oa(t,i+" "+a)},DID_ABORT_ITEM_PROCESSING:La,DID_REVERT_ITEM_PROCESSING:La,DID_THROW_ITEM_REMOVE_ERROR:Na,DID_THROW_ITEM_LOAD_ERROR:Na,DID_THROW_ITEM_INVALID:Na,DID_THROW_ITEM_PROCESSING_ERROR:Na}),tag:"span",name:"assistant"}),qa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},Fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Date.now(),a=null;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];clearTimeout(a);var l=Date.now()-i,c=function(){i=Date.now(),e.apply(void 0,r)};l<t?n||(a=setTimeout(c,t-l)):c()}},ja=1e6,Ba=function(e){return e.preventDefault()},Ua=function(e){var t=e.root,n=e.props,i=t.query("GET_ID");i&&(t.element.id=i);var a=t.query("GET_CLASS_NAME");a&&a.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(Ai,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(vi,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Qn,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Pa,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(zi,Object.assign({},n))),t.ref.measure=dn("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!B(e.value)})).map((function(e){var n=e.name,i=e.value;t.element.dataset[n]=i})),t.ref.widthPrevious=null,t.ref.widthUpdated=Fa((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,r="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&r&&!o&&(t.element.addEventListener("touchmove",Ba,{passive:!1}),t.element.addEventListener("gesturestart",Ba));var s=t.query("GET_CREDITS");if(2===s.length){var l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],t.element.appendChild(l),t.ref.credits=l}},za=function(e){var t=e.root,n=e.props,i=e.actions;if(Ja({root:t,props:n,actions:i}),i.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!B(e.data.value)})).map((function(e){var n=e.type,i=e.data,a=qa(n.substr(8).toLowerCase(),"_");t.element.dataset[a]=i.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var a=t.ref.bounds;a||(a=t.ref.bounds=Ha(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var o=t.ref,r=o.hopper,s=o.label,l=o.list,c=o.panel;r&&r.updateHopperState();var d=t.query("GET_PANEL_ASPECT_RATIO"),u=t.query("GET_ALLOW_MULTIPLE"),f=t.query("GET_TOTAL_ITEMS"),h=f===(u?t.query("GET_MAX_FILES")||ja:1),p=i.find((function(e){return"DID_ADD_ITEM"===e.type}));if(h&&p){var m=p.data.interactionMethod;s.opacity=0,u?s.translateY=-40:m===ge.API?s.translateX=40:m===ge.BROWSE?s.translateY=40:s.translateY=30}else h||(s.opacity=1,s.translateX=0,s.translateY=0);var _=Ga(t),v=Ya(t),g=s.rect.element.height,y=!u||h?0:g,b=h?l.rect.element.marginTop:0,w=0===f?0:l.rect.element.marginBottom,$=y+b+v.visual+w,k=y+b+v.bounds+w;if(l.translateY=Math.max(0,y-l.rect.element.marginTop)-_.top,d){var E=t.rect.element.width,x=E*d;d!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=d,t.ref.updateHistory=[]);var D=t.ref.updateHistory;D.push(E);var C=2;if(D.length>2*C)for(var T=D.length,I=T-10,S=0,O=T;O>=I;O--)if(D[O]===D[O-2]&&S++,S>=C)return;c.scalable=!1,c.height=x;var A=x-y-(w-_.bottom)-(h?b:0);v.visual>A?l.overflow=A:l.overflow=null,t.height=x}else if(a.fixedHeight){c.scalable=!1;var R=a.fixedHeight-y-(w-_.bottom)-(h?b:0);v.visual>R?l.overflow=R:l.overflow=null}else if(a.cappedHeight){var M=$>=a.cappedHeight,L=Math.min(a.cappedHeight,$);c.scalable=!0,c.height=M?L:L-_.top-_.bottom;var N=L-y-(w-_.bottom)-(h?b:0);$>a.cappedHeight&&v.visual>N?l.overflow=N:l.overflow=null,t.height=Math.min(a.cappedHeight,k-_.top-_.bottom)}else{var P=f>0?_.top+_.bottom:0;c.scalable=!0,c.height=Math.max(g,$-P),t.height=Math.max(g,k-P)}t.ref.credits&&c.heightCurrent&&(t.ref.credits.style.transform="translateY("+c.heightCurrent+"px)")}},Ga=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Ya=function(e){var t=0,n=0,i=e.ref.list,a=i.childViews[0],o=a.childViews.filter((function(e){return e.rect.element.height})),r=e.query("GET_ACTIVE_ITEMS").map((function(e){return o.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===r.length)return{visual:t,bounds:n};var s=a.rect.element.width,l=ri(a,r,i.dragCoordinates),c=r[0].rect.element,d=c.marginTop+c.marginBottom,u=c.marginLeft+c.marginRight,f=c.width+u,h=c.height+d,p=void 0!==l&&l>=0?1:0,m=r.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,_=r.length+p+m,v=oi(s,f);return 1===v?r.forEach((function(e){var i=e.rect.element.height+d;n+=i,t+=i*e.opacity})):(n=Math.ceil(_/v)*h,t=n),{visual:t,bounds:n}},Ha=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},Wa=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),i=e.query("GET_ALLOW_MULTIPLE"),a=e.query("GET_TOTAL_ITEMS"),o=e.query("GET_MAX_FILES"),r=t.length;return!i&&r>1||!!(Q(o=i||n?o:1)&&a+r>o)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:At("warning",0,"Max files")}),!0)},Va=function(e,t,n){var i=e.childViews[0];return ri(i,t,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Xa=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),i=t&&!n;if(i&&!e.ref.hopper){var a=wa(e.element,(function(t){var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return ze("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!Wt(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});a.onload=function(t,n){var i=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));Ue("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(Wa(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:Va(e.ref.list,a,n),interactionMethod:ge.DROP})})),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},a.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},a.ondrag=Fa((function(t){e.dispatch("DID_DRAG",{position:t})})),a.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=a,e.ref.drip=e.appendChildView(e.createChildView(Pi))}else!i&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Qa=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),i=e.query("GET_DISABLED"),a=n&&!i;a&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Ti,Object.assign({},t,{onload:function(t){Ue("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(Wa(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ge.BROWSE})}))}})),0):!a&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Ka=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),i=t&&!n;i&&!e.ref.paster?(e.ref.paster=Ca(),e.ref.paster.onload=function(t){Ue("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(Wa(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ge.PASTE})}))}):!i&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Ja=P({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;Qa(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;Xa(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;Ka(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;Xa(t),Ka(t),Qa(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),Za=L({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Ua,write:za,destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Ba),t.element.removeEventListener("gesturestart",Ba)},mixins:{styles:["height"]}}),eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,i=He(),a=n(he(i),[ot,ve(i)],[ln,_e(i)]);a.dispatch("SET_OPTIONS",{options:e});var r=function(){document.hidden||a.dispatch("KICK")};document.addEventListener("visibilitychange",r);var s=null,l=!1,c=!1,d=null,u=null,f=function(){l||(l=!0),clearTimeout(s),s=setTimeout((function(){l=!1,d=null,u=null,c&&(c=!1,a.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",f);var h=Za(a,{id:ye()}),p=!1,m=!1,_={_read:function(){l&&(u=window.innerWidth,d||(d=u),c||u===d||(a.dispatch("DID_START_RESIZE"),c=!0)),m&&p&&(p=null===h.element.offsetParent),p||(h._read(),m=h.rect.element.hidden)},_write:function(e){var t=a.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));p&&!t.length||(w(t),p=h._write(e,t,c),Me(a.query("GET_ITEMS")),p&&a.processDispatchQueue())}},v=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var i=t.item?t.item:a.query("GET_ITEM",t.id);n.file=i?Re(i):null}return t.items&&(n.items=t.items.map(Re)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},g={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},y=function(e){var t=Object.assign({pond:M},e);delete t.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var i=["type","error","file"];Object.keys(e).filter((function(e){return!i.includes(e)})).forEach((function(t){return n.push(e[t])})),M.fire.apply(M,[e.type].concat(n));var o=a.query("GET_ON"+e.type.toUpperCase());o&&o.apply(void 0,n)},w=function(e){e.length&&e.filter((function(e){return g[e.type]})).forEach((function(e){var t=g[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?y(t(e.data)):setTimeout((function(){y(t(e.data))}),0)}))}))},$=function(e){return a.dispatch("SET_OPTIONS",{options:e})},k=function(e){return a.query("GET_ACTIVE_ITEM",e)},E=function(e){return new Promise((function(t,n){a.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){T([{source:e,options:t}],{index:t.index}).then((function(e){return n(e&&e[0])})).catch(i)}))},D=function(e){return e.file&&e.id},C=function(e,t){return"object"!=typeof e||D(e)||t||(t=e,e=void 0),a.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===a.query("GET_ACTIVE_ITEM",e)},T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var i=[],o={};if(j(t[0]))i.push.apply(i,t[0]),Object.assign(o,t[1]||{});else{var r=t[t.length-1];"object"!=typeof r||r instanceof Blob||Object.assign(o,t.pop()),i.push.apply(i,t)}a.dispatch("ADD_ITEMS",{items:i,index:o.index,interactionMethod:ge.API,success:e,failure:n})}))},I=function(){return a.query("GET_ACTIVE_ITEMS")},S=function(e){return new Promise((function(t,n){a.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t,a=i.length?i:I();return Promise.all(a.map(E))},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t;if(!i.length){var a=I().filter((function(e){return!(e.status===Le.IDLE&&e.origin===Ne.LOCAL)&&e.status!==Le.PROCESSING&&e.status!==Le.PROCESSING_COMPLETE&&e.status!==Le.PROCESSING_REVERT_ERROR}));return Promise.all(a.map(S))}return Promise.all(i.map(S))},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=Array.isArray(t[0])?t[0]:t;"object"==typeof a[a.length-1]?i=a.pop():Array.isArray(t[0])&&(i=t[1]);var o=I();return a.length?a.map((function(e){return b(e)?o[e]?o[e].id:null:e})).filter((function(e){return e})).map((function(e){return C(e,i)})):Promise.all(o.map((function(e){return C(e,i)})))},M=Object.assign({},Se(),{},_,{},me(a,i),{setOptions:$,addFile:x,addFiles:T,getFile:k,processFile:S,prepareFile:E,removeFile:C,moveFile:function(e,t){return a.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:I,processFiles:A,removeFiles:R,prepareFiles:O,sort:function(e){return a.dispatch("SORT",{compare:e})},browse:function(){var e=h.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){M.fire("destroy",h.element),a.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",r),a.dispatch("DID_DESTROY")},insertBefore:function(e){return q(h.element,e)},insertAfter:function(e){return F(h.element,e)},appendTo:function(e){return e.appendChild(h.element)},replaceElement:function(e){q(h.element,e),e.parentNode.removeChild(e),t=e},restoreElement:function(){t&&(F(t,h.element),h.element.parentNode.removeChild(h.element),t=null)},isAttachedTo:function(e){return h.element===e||t===e},element:{get:function(){return h.element}},status:{get:function(){return a.query("GET_STATUS")}}});return a.dispatch("DID_INIT"),o(M)},to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return a(He(),(function(e,n){t[e]=n[0]})),eo(Object.assign({},t,{},e))},no=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},io=function(e){return qa(e.replace(/^data-/,""))},ao=function e(t,n){a(n,(function(n,i){a(t,(function(e,a){var o=new RegExp(n);if(o.test(e)&&(delete t[e],!1!==i))if(H(i))t[i]=a;else{var r=i.group;ae(i)&&!t[r]&&(t[r]={}),t[r][no(e.replace(o,""))]=a}})),i.mapping&&e(t[i.group],i.mapping)}))},oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];a(e.attributes,(function(t){n.push(e.attributes[t])}));var i=n.filter((function(e){return e.name})).reduce((function(t,n){var i=r(e,n.name);return t[io(n.name)]=i===n.name||i,t}),{});return ao(i,t),i},ro=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ze("SET_ATTRIBUTE_TO_OPTION_MAP",n);var i=Object.assign({},t),a=oo("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(a).forEach((function(e){ae(a[e])?(ae(i[e])||(i[e]={}),Object.assign(i[e],a[e])):i[e]=a[e]})),i.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var o=to(i);return e.files&&Array.from(e.files).forEach((function(e){o.addFile(e)})),o.replaceElement(e),o},so=function(){return t(arguments.length<=0?void 0:arguments[0])?ro.apply(void 0,arguments):to.apply(void 0,arguments)},lo=["fire","_read","_write"],co=function(e){var t={};return Oe(e,t,lo),t},uo=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},fo=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var a=ye();i.onmessage=function(e){e.data.id===a&&t(e.data.message)},i.postMessage({id:a,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},ho=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},po=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},mo=function(e){return po(e,e.name)},_o=[],vo=function(e){if(!_o.includes(e)){_o.push(e);var t=e({addFilter:Ge,utils:{Type:je,forin:a,isString:H,isFile:Wt,toNaturalFileSize:vn,replaceInString:uo,getExtensionFromFilename:ft,getFilenameWithoutExtension:Yt,guesstimateMimeType:Vi,getFileFromBlob:_t,getFilenameFromURL:ut,createRoute:P,createWorker:fo,createView:L,createItemAPI:Re,loadImage:ho,copyFile:mo,renameFile:po,createBlob:gt,applyFilterChain:Ue,text:un,getNumericAspectRatioFromString:Qe},views:{fileActionButton:_n}});Ye(t.options)}},go=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},yo=function(){return"Promise"in window},bo=function(){return"slice"in Blob.prototype},wo=function(){return"URL"in window&&"createObjectURL"in window.URL},$o=function(){return"visibilityState"in document},ko=function(){return"performance"in window},Eo=function(){return"supports"in(window.CSS||{})},xo=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},Do=(On=m()&&!go()&&$o()&&yo()&&bo()&&wo()&&ko()&&(Eo()||xo()),function(){return On}),Co={apps:[]},To="filepond",Io=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=Io,e.destroy=Io,e.parse=Io,e.find=Io,e.registerPlugin=Io,e.getOptions=Io,e.setOptions=Io,Do()){N((function(){Co.apps.forEach((function(e){return e._read()}))}),(function(e){Co.apps.forEach((function(t){return t._write(e)}))}));var So=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Do,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return So()}),0):document.addEventListener("DOMContentLoaded",So);var Oo=function(){return a(He(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},Je),e.FileOrigin=Object.assign({},Ne),e.FileStatus=Object.assign({},Le),e.OptionTypes={},Oo(),e.create=function(){var t=so.apply(void 0,arguments);return t.on("destroy",e.destroy),Co.apps.push(t),co(t)},e.destroy=function(e){var t=Co.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Co.apps.splice(t,1)[0].restoreElement(),!0)},e.parse=function(t){return Array.from(t.querySelectorAll("."+To)).filter((function(e){return!Co.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(t){return e.create(t)}))},e.find=function(e){var t=Co.apps.find((function(t){return t.isAttachedTo(e)}));return t?co(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(vo),Oo()},e.getOptions=function(){var e={};return a(He(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(t){return ae(t)&&(Co.apps.forEach((function(e){e.setOptions(t)})),We(t)),e.getOptions()}}e.supported=Do,Object.defineProperty(e,"__esModule",{value:!0})}(t)},7053:(e,t,n)=>{var i,a,o;a=[n(9755),n(5592)],void 0===(o="function"==typeof(i=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?i.apply(t,a):i)||(e.exports=o)},5592:(e,t,n)=>{var i,a,o;a=[n(9755)],void 0===(o="function"==typeof(i=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})?i.apply(t,a):i)||(e.exports=o)},4414:(e,t,n)=>{var i,a,o;a=[n(9755),n(5592),n(7053)],void 0===(o="function"==typeof(i=function(e){var t;function n(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,o)}function o(){e.datepicker._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}return e.extend(e.ui,{datepicker:{version:"1.12.1"}}),e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,a,o;a="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),a)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):a&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,a,o,r=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),r&&(n.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[s?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(a=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:a,title:a}):a)),t[s?"before":"after"](n.trigger),n.trigger.on("click",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,a,o=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(n=0,i=0,a=0;a<e.length;a++)e[a].length>n&&(n=e[a].length,i=a);return i},o.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,a,o){var s,l,c,d,u,f=this._dialogInst;return f||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(f=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",f)),r(f.settings,a||{}),n=n&&n.constructor===Date?this._formatDate(f,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",f),this},_destroyDatepicker:function(n){var i,a=e(n),o=e.data(n,"datepicker");a.hasClass(this.markerClassName)&&(i=n.nodeName.toLowerCase(),e.removeData(n,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),a.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||a.removeClass(this.markerClassName).empty(),t===o&&(t=null))},_enableDatepicker:function(t){var n,i,a=e(t),o=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=a.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,a=e(t),o=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=a.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var a,o,s,l,c=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null;a=n||{},"string"==typeof n&&((a={})[n]=i),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,a),null!==s&&void 0!==a.dateFormat&&void 0===a.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==a.dateFormat&&void 0===a.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,a,o=e.datepicker._getInst(t.target),r=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return(a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,a[0]),(n=e.datepicker._get(o,"onSelect"))?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,a=e.datepicker._getInst(t.target);if(e.datepicker._get(a,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var i,a,o,s,l,c,d;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(o=(a=e.datepicker._get(i,"beforeShow"))?a.apply(t,[t,i]):{})&&(r(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each((function(){return!(s|="fixed"===e(this).css("position"))})),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),d=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),d):i.dpDiv[c||"show"](c?d:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),e.datepicker._curInst=i)))},_updateDatepicker:function(n){this.maxRows=4,t=n,n.dpDiv.empty().append(this._generateHTML(n)),this._attachHandlers(n);var i,a=this._getNumberOfMonths(n),r=a[1],s=17,l=n.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&o.apply(l.get(0)),n.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&n.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),n.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),n.dpDiv[(this._get(n,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),n===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),n.yearshtml&&(i=n.yearshtml,setTimeout((function(){i===n.yearshtml&&n.yearshtml&&n.dpDiv.find("select.ui-datepicker-year:first").replaceWith(n.yearshtml),i=n.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var a=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?a-r:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+a>l&&l>a?Math.abs(n.left+a-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),a=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,a,o,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(r,"showAnim"),i=this._get(r,"duration"),a=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[n]||e.effects[n])?r.dpDiv.hide(n,e.datepicker._get(r,"showOptions"),i,a):r.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,a),n||a(),this._datepickerShowing=!1,(o=this._get(r,"onClose"))&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var a=e(t),o=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),a=this._getInst(i[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(n=new Date,a.selectedDay=n.getDate(),a.drawMonth=a.selectedMonth=n.getMonth(),a.drawYear=a.selectedYear=n.getFullYear()),this._notifyChange(a),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var a=e(t),o=this._getInst(a[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(a)},_selectDay:function(t,n,i,a){var o,r=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((o=this._getInst(r[0])).selectedDay=o.currentDay=e("a",a).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,a=e(t),o=this._getInst(a[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,a,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),a=this.formatDate(n,i,this._getFormatConfig(t)),e(o).val(a))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var a,o,r,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,_=-1,v=-1,g=-1,y=!1,b=function(e){var n=a+1<t.length&&t.charAt(a+1)===e;return n&&a++,n},w=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),o=n.substring(l).match(a);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},$=function(t,i,a){var o=-1,r=e.map(b(t)?a:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(r,(function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return o=t[0],l+=i.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==t.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;a<t.length;a++)if(y)"'"!==t.charAt(a)||b("'")?k():y=!1;else switch(t.charAt(a)){case"d":v=w("d");break;case"D":$("D",u,f);break;case"o":g=w("o");break;case"m":_=w("m");break;case"M":_=$("M",h,p);break;case"y":m=w("y");break;case"@":m=(s=new Date(w("@"))).getFullYear(),_=s.getMonth()+1,v=s.getDate();break;case"!":m=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),_=s.getMonth()+1,v=s.getDate();break;case"'":b("'")?k():y=!0;break;default:k()}if(l<n.length&&(r=n.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=d?0:-100)),g>-1)for(_=1,v=g;!(v<=(o=this._getDaysInMonth(m,_-1)));)_++,v-=o;if((s=this._daylightSavingAdjust(new Date(m,_-1,v))).getFullYear()!==m||s.getMonth()+1!==_||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},d=function(e,t,n,i){return l(e)?i[t]:n[t]},u="",f=!1;if(t)for(i=0;i<e.length;i++)if(f)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):f=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),a,o);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),r,s);break;case"y":u+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":f=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,n="",i=!1,a=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||a("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":a("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),o=a,r=this._getFormatConfig(e);try{o=this.parseDate(n,i,r)||a}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=i.getFullYear(),o=i.getMonth(),r=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=s.exec(n)}return new Date(a,o,r)},r=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:a(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,a=e.selectedMonth,o=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),a===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,a,o,r,s,l,c,d,u,f,h,p,m,_,v,g,y,b,w,$,k,E,x,D,C,T,I,S,O,A,R,M,L,N,P,q,F,j=new Date,B=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),G=this._get(e,"hideIfNoPrevNext"),Y=this._get(e,"navigationAsDateFormat"),H=this._getNumberOfMonths(e),W=this._get(e,"showCurrentAtPos"),V=this._get(e,"stepMonths"),X=1!==H[0]||1!==H[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-W,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-H[0]*H[1]+1,J.getDate())),t=K&&t<K?K:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-V,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":G?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",a=this._get(e,"nextText"),a=Y?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Z+V,1)),this._getFormatConfig(e)):a,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+a+"</span></a>":G?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+a+"</span></a>",r=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Q:B,r=Y?this.formatDate(r,s,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(U?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),f=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),_=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),g=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),b="",$=0;$<H[0];$++){for(k="",this.maxRows=4,E=0;E<H[1];E++){if(x=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),D=" ui-corner-all",C="",X){if(C+="<div class='ui-datepicker-group",H[1]>1)switch(E){case 0:C+=" ui-datepicker-group-first",D=" ui-corner-"+(U?"right":"left");break;case H[1]-1:C+=" ui-datepicker-group-last",D=" ui-corner-"+(U?"left":"right");break;default:C+=" ui-datepicker-group-middle",D=""}C+="'>"}for(C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===$?U?o:i:"")+(/all|right/.test(D)&&0===$?U?i:o:"")+this._generateMonthYearHeader(e,Z,ee,K,J,$>0||E>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)T+="<th scope='col'"+((w+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[I=(w+d)%7]+"'>"+h[I]+"</span></th>";for(C+=T+"</tr></thead><tbody>",S=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,S)),O=(this._getFirstDayOfMonth(ee,Z)-d+7)%7,A=Math.ceil((O+S)/7),R=X&&this.maxRows>A?this.maxRows:A,this.maxRows=R,M=this._daylightSavingAdjust(new Date(ee,Z,1-O)),L=0;L<R;L++){for(C+="<tr>",N=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(M)+"</td>":"",w=0;w<7;w++)P=_?_.apply(e.input?e.input[0]:null,[M]):[!0,""],F=(q=M.getMonth()!==Z)&&!g||!P[0]||K&&M<K||J&&M>J,N+="<td class='"+((w+d+6)%7>=5?" ui-datepicker-week-end":"")+(q?" ui-datepicker-other-month":"")+(M.getTime()===x.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===M.getTime()&&y.getTime()===x.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(q&&!v?"":" "+P[1]+(M.getTime()===Q.getTime()?" "+this._currentClass:"")+(M.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(q&&!v||!P[2]?"":" title='"+P[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(q&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===B.getTime()?" ui-state-highlight":"")+(M.getTime()===Q.getTime()?" ui-state-active":"")+(q?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);C+=N+"</tr>"}++Z>11&&(Z=0,ee++),k+=C+="</tbody></table>"+(X?"</div>"+(H[0]>0&&E===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=k}return b+=c,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,n,i,a,o,r,s){var l,c,d,u,f,h,p,m,_=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),g=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(o||!_)b+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=a&&a.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=i.getMonth())&&(!c||d<=a.getMonth())&&(b+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+s[d]+"</option>");b+="</select>"}if(g||(y+=b+(!o&&_&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(u=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),p=(h=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t})(u[0]),m=Math.max(p,h(u[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=a?Math.min(m,a.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),g&&(y+=(!o&&_&&v?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),a=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,a))+("D"===n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,a,o)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=n&&t<n?n:t;return i&&a>i?i:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var a=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:a[0]*a[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,a=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),r=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),r=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!a||t.getTime()>=a.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker})?i.apply(t,a):i)||(e.exports=o)},9755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,a){"use strict";var o=[],r=Object.getPrototypeOf,s=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,d=o.indexOf,u={},f=u.toString,h=u.hasOwnProperty,p=h.toString,m=p.call(Object),_={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},y=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,a,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in b)(a=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,a);n.head.appendChild(o).parentNode.removeChild(o)}function $(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[f.call(e)]||"object":typeof e}var k="3.6.0",E=function(e,t){return new E.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=$(e);return!v(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:k,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var e,t,n,i,a,o,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||v(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&r!==i&&(c&&i&&(E.isPlainObject(i)||(a=Array.isArray(i)))?(n=r[t],o=a&&!Array.isArray(n)?[]:a||E.isPlainObject(n)?n:{},a=!1,r[t]=E.extend(c,o,i)):void 0!==i&&(r[t]=i));return r},E.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=r(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(x(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?E.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,o=e.length,r=!n;a<o;a++)!t(e[a],a)!==r&&i.push(e[a]);return i},map:function(e,t,n){var i,a,o=0,r=[];if(x(e))for(i=e.length;o<i;o++)null!=(a=t(e[o],o,n))&&r.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&r.push(a);return l(r)},guid:1,support:_}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var D=function(e){var t,n,i,a,o,r,s,l,c,d,u,f,h,p,m,_,v,g,y,b="sizzle"+1*new Date,w=e.document,$=0,k=0,E=le(),x=le(),D=le(),C=le(),T=function(e,t){return e===t&&(u=!0),0},I={}.hasOwnProperty,S=[],O=S.pop,A=S.push,R=S.push,M=S.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",q="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+q+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+P+"*\\]",j=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(P+"+","g"),U=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),Y=new RegExp(P+"|>"),H=new RegExp(j),W=new RegExp("^"+q+"$"),V={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},re=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(S=M.call(w.childNodes),w.childNodes),S[w.childNodes.length].nodeType}catch(e){R={apply:S.length?function(e,t){A.apply(e,M.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,a){var o,s,c,d,u,p,v,g=t&&t.ownerDocument,w=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return i;if(!a&&(f(t),t=t||h,m)){if(11!==w&&(u=Z.exec(e)))if(o=u[1]){if(9===w){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(g&&(c=g.getElementById(o))&&y(t,c)&&c.id===o)return i.push(c),i}else{if(u[2])return R.apply(i,t.getElementsByTagName(e)),i;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!C[e+" "]&&(!_||!_.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,g=t,1===w&&(Y.test(e)||G.test(e))){for((g=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((d=t.getAttribute("id"))?d=d.replace(ie,ae):t.setAttribute("id",d=b)),s=(p=r(e)).length;s--;)p[s]=(d?"#"+d:":scope")+" "+ye(p[s]);v=p.join(",")}try{return R.apply(i,g.querySelectorAll(v)),i}catch(t){C(e,!0)}finally{d===b&&t.removeAttribute("id")}}}return l(e.replace(U,"$1"),t,i,a)}function le(){var e=[];return function t(n,a){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function ce(e){return e[b]=!0,e}function de(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),a=n.length;a--;)i.attrHandle[n[a]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function _e(e){return ce((function(t){return t=+t,ce((function(n,i){for(var a,o=e([],n.length,t),r=o.length;r--;)n[a=o[r]]&&(n[a]=!(i[a]=n[a]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,a,r=e?e.ownerDocument||e:w;return r!=h&&9===r.nodeType&&r.documentElement?(p=(h=r).documentElement,m=!o(h),w!=h&&(a=h.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",oe,!1):a.attachEvent&&a.attachEvent("onunload",oe)),n.scope=de((function(e){return p.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=de((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=de((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(h.getElementsByClassName),n.getById=de((function(e){return p.appendChild(e).id=b,!h.getElementsByName||!h.getElementsByName(b).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,a,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(a=t.getElementsByName(e),i=0;o=a[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[a++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],_=[],(n.qsa=J.test(h.querySelectorAll))&&(de((function(e){var t;p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+N+")"),e.querySelectorAll("[id~="+b+"-]").length||_.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||_.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||_.push(".#.+[+~]"),e.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")})),de((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")}))),(n.matchesSelector=J.test(g=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&de((function(e){n.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),v.push("!=",j)})),_=_.length&&new RegExp(_.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),y=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==h||e.ownerDocument==w&&y(w,e)?-1:t==h||t.ownerDocument==w&&y(w,t)?1:d?L(d,e)-L(d,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,a=e.parentNode,o=t.parentNode,r=[e],s=[t];if(!a||!o)return e==h?-1:t==h?1:a?-1:o?1:d?L(d,e)-L(d,t):0;if(a===o)return fe(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;r[i]===s[i];)i++;return i?fe(r[i],s[i]):r[i]==w?-1:s[i]==w?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&m&&!C[t+" "]&&(!v||!v.test(t))&&(!_||!_.test(t)))try{var i=g.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){C(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&f(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&f(e);var a=i.attrHandle[t.toLowerCase()],o=a&&I.call(i.attrHandle,t.toLowerCase())?a(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ie,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],a=0,o=0;if(u=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(T),u){for(;t=e[o++];)t===e[o]&&(a=i.push(o));for(;a--;)e.splice(i[a],1)}return d=null,e},a=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=a(t);return n},(i=se.selectors={cacheLength:50,createPseudo:ce,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=r(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+P+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var a=se.attr(i,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,a){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,f,h,p,m=o!==r?"nextSibling":"previousSibling",_=t.parentNode,v=s&&t.nodeName.toLowerCase(),g=!l&&!s,y=!1;if(_){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[r?_.firstChild:_.lastChild],r&&g){for(y=(h=(c=(d=(u=(f=_)[b]||(f[b]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===$&&c[1])&&c[2],f=h&&_.childNodes[h];f=++h&&f&&f[m]||(y=h=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){d[e]=[$,h,y];break}}else if(g&&(y=h=(c=(d=(u=(f=t)[b]||(f[b]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===$&&c[1]),!1===y)for(;(f=++h&&f&&f[m]||(y=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(g&&((d=(u=f[b]||(f[b]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]=[$,y]),f!==t)););return(y-=a)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,a=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[b]?a(t):a.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,o=a(e,t),r=o.length;r--;)e[i=L(e,o[r])]=!(n[i]=o[r])})):function(e){return a(e,0,n)}):a}},pseudos:{not:ce((function(e){var t=[],n=[],i=s(e.replace(U,"$1"));return i[b]?ce((function(e,t,n,a){for(var o,r=i(e,null,a,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))})):function(e,a,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||a(t)).indexOf(e)>-1}})),lang:ce((function(e){return W.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:_e((function(){return[0]})),last:_e((function(e,t){return[t-1]})),eq:_e((function(e,t,n){return[n<0?n+t:n]})),even:_e((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:_e((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:_e((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:_e((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ge(){}function ye(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,a=t.next,o=a||i,r=n&&"parentNode"===o,s=k++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a);return!1}:function(t,n,l){var c,d,u,f=[$,s];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(d=(u=t[b]||(t[b]={}))[t.uniqueID]||(u[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=d[o])&&c[0]===$&&c[1]===s)return f[2]=c[2];if(d[o]=f,f[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function $e(e,t,n,i,a){for(var o,r=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,a)||(r.push(o),c&&t.push(s)));return r}function ke(e,t,n,i,a,o){return i&&!i[b]&&(i=ke(i)),a&&!a[b]&&(a=ke(a,o)),ce((function(o,r,s,l){var c,d,u,f=[],h=[],p=r.length,m=o||function(e,t,n){for(var i=0,a=t.length;i<a;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),_=!e||!o&&t?m:$e(m,f,e,s,l),v=n?a||(o?e:p||i)?[]:r:_;if(n&&n(_,v,s,l),i)for(c=$e(v,h),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[h[d]]=!(_[h[d]]=u));if(o){if(a||e){if(a){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(_[d]=u);a(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=a?L(o,u):f[d])>-1&&(o[c]=!(r[c]=u))}}else v=$e(v===r?v.splice(p,v.length):v),a?a(null,r,v,l):R.apply(r,v)}))}function Ee(e){for(var t,n,a,o=e.length,r=i.relative[e[0].type],s=r||i.relative[" "],l=r?1:0,d=be((function(e){return e===t}),s,!0),u=be((function(e){return L(t,e)>-1}),s,!0),f=[function(e,n,i){var a=!r&&(i||n!==c)||((t=n).nodeType?d(e,n,i):u(e,n,i));return t=null,a}];l<o;l++)if(n=i.relative[e[l].type])f=[be(we(f),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(a=++l;a<o&&!i.relative[e[a].type];a++);return ke(l>1&&we(f),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(U,"$1"),n,l<a&&Ee(e.slice(l,a)),a<o&&Ee(e=e.slice(a)),a<o&&ye(e))}f.push(n)}return we(f)}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,r=se.tokenize=function(e,t){var n,a,o,r,s,l,c,d=x[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(r in n&&!(a=z.exec(s))||(a&&(s=s.slice(a[0].length)||s),l.push(o=[])),n=!1,(a=G.exec(s))&&(n=a.shift(),o.push({value:n,type:a[0].replace(U," ")}),s=s.slice(n.length)),i.filter)!(a=V[r].exec(s))||c[r]&&!(a=c[r](a))||(n=a.shift(),o.push({value:n,type:r,matches:a}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):x(e,l).slice(0)},s=se.compile=function(e,t){var n,a=[],o=[],s=D[e+" "];if(!s){for(t||(t=r(e)),n=t.length;n--;)(s=Ee(t[n]))[b]?a.push(s):o.push(s);(s=D(e,function(e,t){var n=t.length>0,a=e.length>0,o=function(o,r,s,l,d){var u,p,_,v=0,g="0",y=o&&[],b=[],w=c,k=o||a&&i.find.TAG("*",d),E=$+=null==w?1:Math.random()||.1,x=k.length;for(d&&(c=r==h||r||d);g!==x&&null!=(u=k[g]);g++){if(a&&u){for(p=0,r||u.ownerDocument==h||(f(u),s=!m);_=e[p++];)if(_(u,r||h,s)){l.push(u);break}d&&($=E)}n&&((u=!_&&u)&&v--,o&&y.push(u))}if(v+=g,n&&g!==v){for(p=0;_=t[p++];)_(y,b,r,s);if(o){if(v>0)for(;g--;)y[g]||b[g]||(b[g]=O.call(l));b=$e(b)}R.apply(l,b),d&&!o&&b.length>0&&v+t.length>1&&se.uniqueSort(l)}return d&&($=E,c=w),y};return n?ce(o):o}(o,a))).selector=e}return s},l=se.select=function(e,t,n,a){var o,l,c,d,u,f="function"==typeof e&&e,h=!a&&r(e=f.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=V.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[d=c.type]);)if((u=i.find[d])&&(a=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=a.length&&ye(l)))return R.apply(n,a),n;break}}return(f||s(e,h))(a,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!u,f(),n.sortDetached=de((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),de((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&de((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute("disabled")}))||ue(N,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(i);E.find=D,E.expr=D.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=D.uniqueSort,E.text=D.getText,E.isXMLDoc=D.isXML,E.contains=D.contains,E.escapeSelector=D.escape;var C=function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&E(e).is(n))break;i.push(e)}return i},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},I=E.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return v(t)?E.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return d.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?E.find.matchesSelector(i,e)?[i]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,i=this.length,a=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<i;t++)if(E.contains(a[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)E.find(e,a[t],n);return i>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&I.test(e)?E(e):e||[],!1).length}});var R,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),O.test(i[1])&&E.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(a=y.getElementById(i[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,R=E(y);var L=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,a=this.length,o=[],r="string"!=typeof e&&E(e);if(!I.test(e))for(;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?d.call(E(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(S(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,i){var a=E.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=E.filter(i,a)),this.length>1&&(N[e]||E.uniqueSort(a),L.test(e)&&a.reverse()),this.pushStack(a)}}));var q=/[^\x20\t\r\n\f]+/g;function F(e){return e}function j(e){throw e}function B(e,t,n,i){var a;try{e&&v(a=e.promise)?a.call(e).done(t).fail(n):e&&v(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(q)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,i,a,o=[],r=[],s=-1,l=function(){for(a=a||e.once,i=t=!0;r.length;s=-1)for(n=r.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,a&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,r.push(n)),function t(n){E.each(n,(function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==$(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return a=r=[],o=n="",this},disabled:function(){return!o},lock:function(){return a=r=[],n||t||(o=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],r.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,i){var a=v(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=a&&a.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,a?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,a){var o=0;function r(e,t,n,a){return function(){var s=this,l=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?a?c.call(i,r(o,t,F,a),r(o,t,j,a)):(o++,c.call(i,r(o,t,F,a),r(o,t,j,a),r(o,t,F,t.notifyWith))):(n!==F&&(s=void 0,l=[i]),(a||t.resolveWith)(s,l))}},d=a?c:function(){try{c()}catch(i){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(i,d.stackTrace),e+1>=o&&(n!==j&&(s=void 0,l=[i]),t.rejectWith(s,l))}};e?d():(E.Deferred.getStackHook&&(d.stackTrace=E.Deferred.getStackHook()),i.setTimeout(d))}}return E.Deferred((function(i){t[0][3].add(r(0,i,v(a)?a:F,i.notifyWith)),t[1][3].add(r(0,i,v(e)?e:F)),t[2][3].add(r(0,i,v(n)?n:j))})).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},o={};return E.each(t,(function(e,i){var r=i[2],s=i[5];a[i[1]]=r.add,s&&r.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=r.fireWith})),a.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),a=s.call(arguments),o=E.Deferred(),r=function(e){return function(n){i[e]=this,a[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(i,a)}};if(t<=1&&(B(e,o.done(r(n)).resolve,o.reject,!t),"pending"===o.state()||v(a[n]&&a[n].then)))return o.then();for(;n--;)B(a[n],r(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&U.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){i.setTimeout((function(){throw e}))};var z=E.Deferred();function G(){y.removeEventListener("DOMContentLoaded",G),i.removeEventListener("load",G),E.ready()}E.fn.ready=function(e){return z.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||z.resolveWith(y,[E]))}}),E.ready.then=z.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",G),i.addEventListener("load",G));var Y=function(e,t,n,i,a,o,r){var s=0,l=e.length,c=null==n;if("object"===$(n))for(s in a=!0,n)Y(e,t,s,n[s],!0,o,r);else if(void 0!==i&&(a=!0,v(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(E(e),n)})),t))for(;s<l;s++)t(e[s],n,r?i:i.call(e[s],s,t(e[s],n)));return a?e:c?t.call(e):l?t(e[0],n):o},H=/^-ms-/,W=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function X(e){return e.replace(H,"ms-").replace(W,V)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=E.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,a=this.cache(e);if("string"==typeof t)a[X(t)]=n;else for(i in t)a[X(i)]=t[i];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in i?[t]:t.match(q)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||E.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var J=new K,Z=new K,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,i,a,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(a=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=X(i.slice(5)),ne(o,i,a[i]));J.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each((function(){Z.set(this,e)})):Y(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),i=n.length,a=n.shift(),o=E._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete o.stop,a.call(e,(function(){E.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:E.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=E.Deferred(),o=this,r=this.length,s=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=J.get(o[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],re=y.documentElement,se=function(e){return E.contains(e.ownerDocument,e)},le={composed:!0};re.getRootNode&&(se=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===E.css(e,"display")};function de(e,t,n,i){var a,o,r=20,s=i?function(){return i.cur()}:function(){return E.css(e,t,"")},l=s(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),d=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+l)&&ae.exec(E.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;r--;)E.style(e,t,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(r=0),d/=o;d*=2,E.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,a=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=a)),a}var ue={};function fe(e){var t,n=e.ownerDocument,i=e.nodeName,a=ue[i];return a||(t=n.body.appendChild(n.createElement(i)),a=E.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),ue[i]=a,a)}function he(e,t){for(var n,i,a=[],o=0,r=e.length;o<r;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(a[o]=J.get(i,"display")||null,a[o]||(i.style.display="")),""===i.style.display&&ce(i)&&(a[o]=fe(i))):"none"!==n&&(a[o]="none",J.set(i,"display",n)));for(o=0;o<r;o++)null!=a[o]&&(e[o].style.display=a[o]);return e}E.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?E(this).show():E(this).hide()}))}});var pe,me,_e=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;pe=y.createDocumentFragment().appendChild(y.createElement("div")),(me=y.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),pe.appendChild(me),_.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",_.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&S(e,t)?E.merge([e],n):n}function we(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,_.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var $e=/<|&#?\w+;/;function ke(e,t,n,i,a){for(var o,r,s,l,c,d,u=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===$(o))E.merge(f,o.nodeType?[o]:o);else if($e.test(o)){for(r=r||u.appendChild(t.createElement("div")),s=(ve.exec(o)||["",""])[1].toLowerCase(),l=ye[s]||ye._default,r.innerHTML=l[1]+E.htmlPrefilter(o)+l[2],d=l[0];d--;)r=r.lastChild;E.merge(f,r.childNodes),(r=u.firstChild).textContent=""}else f.push(t.createTextNode(o));for(u.textContent="",h=0;o=f[h++];)if(i&&E.inArray(o,i)>-1)a&&a.push(o);else if(c=se(o),r=be(u.appendChild(o),"script"),c&&we(r),n)for(d=0;o=r[d++];)ge.test(o.type||"")&&n.push(o);return u}var Ee=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function De(){return!1}function Ce(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,i,a,o){var r,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,s,n,i,t[s],o);return e}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),!1===a)a=De;else if(!a)return e;return 1===o&&(r=a,(a=function(e){return E().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=E.guid++)),e.each((function(){E.event.add(this,t,a,i,n)}))}function Ie(e,t,n){n?(J.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var i,a,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),J.set(this,t,o),i=n(this,t),this[t](),o!==(a=J.get(this,t))||i?J.set(this,t,!1):a={},o!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else o.length&&(J.set(this,t,{value:E.event.trigger(E.extend(o[0],E.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&E.event.add(e,t,xe)}E.event={global:{},add:function(e,t,n,i,a){var o,r,s,l,c,d,u,f,h,p,m,_=J.get(e);if(Q(e))for(n.handler&&(n=(o=n).handler,a=o.selector),a&&E.find.matchesSelector(re,a),n.guid||(n.guid=E.guid++),(l=_.events)||(l=_.events=Object.create(null)),(r=_.handle)||(r=_.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(q)||[""]).length;c--;)h=m=(s=Ee.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(u=E.event.special[h]||{},h=(a?u.delegateType:u.bindType)||h,u=E.event.special[h]||{},d=E.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&E.expr.match.needsContext.test(a),namespace:p.join(".")},o),(f=l[h])||((f=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,p,r)||e.addEventListener&&e.addEventListener(h,r)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,d):f.push(d),E.event.global[h]=!0)},remove:function(e,t,n,i,a){var o,r,s,l,c,d,u,f,h,p,m,_=J.hasData(e)&&J.get(e);if(_&&(l=_.events)){for(c=(t=(t||"").match(q)||[""]).length;c--;)if(h=m=(s=Ee.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(u=E.event.special[h]||{},f=l[h=(i?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=f.length;o--;)d=f[o],!a&&m!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(f.splice(o,1),d.selector&&f.delegateCount--,u.remove&&u.remove.call(e,d));r&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,p,_.handle)||E.removeEvent(e,h,_.handle),delete l[h])}else for(h in l)E.event.remove(e,h+t[c],n,i,!0);E.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,a,o,r,s=new Array(arguments.length),l=E.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],d=E.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(r=E.event.handlers.call(this,l,c),t=0;(a=r[t++])&&!l.isPropagationStopped();)for(l.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,a,o,r,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],r={},n=0;n<l;n++)void 0===r[a=(i=t[n]).selector+" "]&&(r[a]=i.needsContext?E(a,this).index(c)>-1:E.find(a,this,null,[c]).length),r[a]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return _e.test(t.type)&&t.click&&S(t,"input")&&Ie(t,"click",xe),!1},trigger:function(e){var t=this||e;return _e.test(t.type)&&t.click&&S(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return _e.test(t.type)&&t.click&&S(t,"input")&&J.get(t,"click")||S(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:De,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){E.event.special[e]={setup:function(){return Ie(this,e,Ce),!1},trigger:function(){return Ie(this,e),!0},_default:function(){return!0},delegateType:t}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,o=e.handleObj;return a&&(a===i||E.contains(i,a))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=De),this.each((function(){E.event.remove(this,e,n,t)}))}});var Se=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,i,a,o,r,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(a in J.remove(t,"handle events"),s)for(n=0,i=s[a].length;n<i;n++)E.event.add(t,a,s[a][n]);Z.hasData(e)&&(o=Z.access(e),r=E.extend({},o),Z.set(t,r))}}function Pe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,i){t=l(t);var a,o,r,s,c,d,u=0,f=e.length,h=f-1,p=t[0],m=v(p);if(m||f>1&&"string"==typeof p&&!_.checkClone&&Oe.test(p))return e.each((function(a){var o=e.eq(a);m&&(t[0]=p.call(this,a,o.html())),qe(o,t,n,i)}));if(f&&(o=(a=ke(t,e[0].ownerDocument,!1,e,i)).firstChild,1===a.childNodes.length&&(a=o),o||i)){for(s=(r=E.map(be(a,"script"),Me)).length;u<f;u++)c=a,u!==h&&(c=E.clone(c,!0,!0),s&&E.merge(r,be(c,"script"))),n.call(e[u],c,u);if(s)for(d=r[r.length-1].ownerDocument,E.map(r,Le),u=0;u<s;u++)c=r[u],ge.test(c.type||"")&&!J.access(c,"globalEval")&&E.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?E._evalUrl&&!c.noModule&&E._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):w(c.textContent.replace(Ae,""),c,d))}return e}function Fe(e,t,n){for(var i,a=t?E.filter(t,e):e,o=0;null!=(i=a[o]);o++)n||1!==i.nodeType||E.cleanData(be(i)),i.parentNode&&(n&&se(i)&&we(be(i,"script")),i.parentNode.removeChild(i));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,a,o,r,s=e.cloneNode(!0),l=se(e);if(!(_.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(r=be(s),i=0,a=(o=be(e)).length;i<a;i++)Pe(o[i],r[i]);if(t)if(n)for(o=o||be(e),r=r||be(s),i=0,a=o.length;i<a;i++)Ne(o[i],r[i]);else Ne(e,s);return(r=be(s,"script")).length>0&&we(r,!l&&be(e,"script")),s},cleanData:function(e){for(var t,n,i,a=E.event.special,o=0;void 0!==(n=e[o]);o++)if(Q(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)a[i]?E.event.remove(n,i):E.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return Y(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return qe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)}))},prepend:function(){return qe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return Y(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!ye[(ve.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,i=[],a=E(e),o=a.length-1,r=0;r<=o;r++)n=r===o?this:this.clone(!0),E(a[r])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var je=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ue=function(e,t,n){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.call(e),t)e.style[a]=o[a];return i},ze=new RegExp(oe.join("|"),"i");function Ge(e,t,n){var i,a,o,r,s=e.style;return(n=n||Be(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||se(e)||(r=E.style(e,t)),!_.pixelBoxStyles()&&je.test(r)&&ze.test(t)&&(i=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=a,s.maxWidth=o)),void 0!==r?r+"":r}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(d);var e=i.getComputedStyle(d);n="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",r=36===t(e.right),a=36===t(e.width),d.style.position="absolute",o=12===t(d.offsetWidth/3),re.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var n,a,o,r,s,l,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===d.style.backgroundClip,E.extend(_,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,a;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),a=i.getComputedStyle(t),s=parseInt(a.height,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),s}}))}();var He=["Webkit","Moz","ms"],We=y.createElement("div").style,Ve={};function Xe(e){var t=E.cssProps[e]||Ve[e];return t||(e in We?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=He.length;n--;)if((e=He[n]+t)in We)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var i=ae.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function tt(e,t,n,i,a,o){var r="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=E.css(e,n+oe[r],!0,a)),i?("content"===n&&(l-=E.css(e,"padding"+oe[r],!0,a)),"margin"!==n&&(l-=E.css(e,"border"+oe[r]+"Width",!0,a))):(l+=E.css(e,"padding"+oe[r],!0,a),"padding"!==n?l+=E.css(e,"border"+oe[r]+"Width",!0,a):s+=E.css(e,"border"+oe[r]+"Width",!0,a));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function nt(e,t,n){var i=Be(e),a=(!_.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,i),o=a,r=Ge(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(r)){if(!n)return r;r="auto"}return(!_.boxSizingReliable()&&a||!_.reliableTrDimensions()&&S(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===E.css(e,"display",!1,i))&&e.getClientRects().length&&(a="border-box"===E.css(e,"boxSizing",!1,i),(o=s in e)&&(r=e[s])),(r=parseFloat(r)||0)+tt(e,t,n||(a?"border":"content"),o,i,r)+"px"}function it(e,t,n,i,a){return new it.prototype.init(e,t,n,i,a)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,r,s=X(t),l=Ke.test(t),c=e.style;if(l||(t=Xe(s)),r=E.cssHooks[t]||E.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(a=r.get(e,!1,i))?a:c[t];"string"===(o=typeof n)&&(a=ae.exec(n))&&a[1]&&(n=de(e,t,a),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=a&&a[3]||(E.cssNumber[s]?"":"px")),_.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var a,o,r,s=X(t);return Ke.test(t)||(t=Xe(s)),(r=E.cssHooks[t]||E.cssHooks[s])&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=Ge(e,t,i)),"normal"===a&&t in Ze&&(a=Ze[t]),""===n||n?(o=parseFloat(a),!0===n||isFinite(o)?o||0:a):a}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,i):Ue(e,Je,(function(){return nt(e,t,i)}))},set:function(e,n,i){var a,o=Be(e),r=!_.scrollboxSize()&&"absolute"===o.position,s=(r||i)&&"border-box"===E.css(e,"boxSizing",!1,o),l=i?tt(e,t,i,s,o):0;return s&&r&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),l&&(a=ae.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),et(0,n,l)}}})),E.cssHooks.marginLeft=Ye(_.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var i=0,a={},o="string"==typeof n?n.split(" "):[n];i<4;i++)a[e+oe[i]+t]=o[i]||o[i-2]||o[0];return a}},"margin"!==e&&(E.cssHooks[e+t].set=et)})),E.fn.extend({css:function(e,t){return Y(this,(function(e,t,n){var i,a,o={},r=0;if(Array.isArray(t)){for(i=Be(e),a=t.length;r<a;r++)o[t[r]]=E.css(e,t[r],!1,i);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=it,it.prototype={constructor:it,init:function(e,t,n,i,a,o){this.elem=e,this.prop=n,this.easing=a||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=it.prototype.init,E.fx.step={};var at,ot,rt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function lt(){ot&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(lt):i.setTimeout(lt,E.fx.interval),E.fx.tick())}function ct(){return i.setTimeout((function(){at=void 0})),at=Date.now()}function dt(e,t){var n,i=0,a={height:e};for(t=t?1:0;i<4;i+=2-t)a["margin"+(n=oe[i])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ut(e,t,n){for(var i,a=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,r=a.length;o<r;o++)if(i=a[o].call(n,t,e))return i}function ft(e,t,n){var i,a,o=0,r=ft.prefilters.length,s=E.Deferred().always((function(){delete l.elem})),l=function(){if(a)return!1;for(var t=at||ct(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,r=c.tweens.length;o<r;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&r?n:(r||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var i=E.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var n,i,a,o,r;for(n in e)if(a=t[i=X(n)],o=e[n],Array.isArray(o)&&(a=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(r=E.cssHooks[i])&&"expand"in r)for(n in o=r.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=a);else t[i]=a}(d,c.opts.specialEasing);o<r;o++)if(i=ft.prefilters[o].call(c,e,d,c.opts))return v(i.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return E.map(d,ut,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return de(n.elem,e,ae.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(q);for(var n,i=0,a=e.length;i<a;i++)n=e[i],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,a,o,r,s,l,c,d,u="width"in t||"height"in t,f=this,h={},p=e.style,m=e.nodeType&&ce(e),_=J.get(e,"fxshow");for(i in n.queue||(null==(r=E._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,s=r.empty.fire,r.empty.fire=function(){r.unqueued||s()}),r.unqueued++,f.always((function(){f.always((function(){r.unqueued--,E.queue(e,"fx").length||r.empty.fire()}))}))),t)if(a=t[i],rt.test(a)){if(delete t[i],o=o||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!_||void 0===_[i])continue;m=!0}h[i]=_&&_[i]||E.style(e,i)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(h))for(i in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=_&&_.display)&&(c=J.get(e,"display")),"none"===(d=E.css(e,"display"))&&(c?d=c:(he([e],!0),c=e.style.display||c,d=E.css(e,"display"),he([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===E.css(e,"float")&&(l||(f.done((function(){p.display=c})),null==c&&(d=p.display,c="none"===d?"":d)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(_?"hidden"in _&&(m=_.hidden):_=J.access(e,"fxshow",{display:c}),o&&(_.hidden=!m),m&&he([e],!0),f.done((function(){for(i in m||he([e]),J.remove(e,"fxshow"),h)E.style(e,i,h[i])}))),l=ut(m?_[i]:0,i,f),i in _||(_[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=E.isEmptyObject(e),o=E.speed(t,n,i),r=function(){var t=ft(this,E.extend({},e),o);(a||J.get(this,"finish"))&&t.stop(!0)};return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,a=null!=e&&e+"queueHooks",o=E.timers,r=J.get(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&st.test(a)&&i(r[a]);for(a=o.length;a--;)o[a].elem!==this||null!=e&&o[a].queue!==e||(o[a].anim.stop(n),t=!1,o.splice(a,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],o=E.timers,r=i?i.length:0;for(n.finish=!0,E.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,i,a)}})),E.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),at=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ot||(ot=!0,lt())},E.fx.stop=function(){ot=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var a=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(a)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",_.checkOn=""!==e.value,_.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",_.radioValue="t"===e.value}();var ht,pt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return Y(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var i,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(a=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(i=a.get(e,t))?i:null==(i=E.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&"radio"===t&&S(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,a=t&&t.match(q);if(a&&1===e.nodeType)for(;n=a[i++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||E.find.attr;pt[t]=function(e,t,i){var a,o,r=t.toLowerCase();return i||(o=pt[r],pt[r]=a,a=null!=n(e,t,i)?r:null,pt[r]=o),a}}));var mt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function vt(e){return(e.match(q)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(q)||[]}E.fn.extend({prop:function(e,t){return Y(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var i,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,a=E.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,i,a,o,r,s,l=0;if(v(e))return this.each((function(t){E(this).addClass(e.call(this,t,gt(this)))}));if((t=yt(e)).length)for(;n=this[l++];)if(a=gt(n),i=1===n.nodeType&&" "+vt(a)+" "){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a!==(s=vt(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,a,o,r,s,l=0;if(v(e))return this.each((function(t){E(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[l++];)if(a=gt(n),i=1===n.nodeType&&" "+vt(a)+" "){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a!==(s=vt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,a,o,r;if(i)for(a=0,o=E(this),r=yt(e);t=r[a++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+vt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;E.fn.extend({val:function(e){var t,n,i,a=this[0];return arguments.length?(i=v(e),this.each((function(n){var a;1===this.nodeType&&(null==(a=i?e.call(this,n,E(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=E.map(a,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))}))):a?(t=E.valHooks[a.type]||E.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(bt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:vt(E.text(e))}},select:{get:function(e){var t,n,i,a=e.options,o=e.selectedIndex,r="select-one"===e.type,s=r?null:[],l=r?o+1:a.length;for(i=o<0?l:r?o:0;i<l;i++)if(((n=a[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(t=E(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,a=e.options,o=E.makeArray(t),r=a.length;r--;)((i=a[r]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},_.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),_.focusin="onfocusin"in i;var wt=/^(?:focusinfocus|focusoutblur)$/,$t=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,a){var o,r,s,l,c,d,u,f,p=[n||y],m=h.call(e,"type")?e.type:e,_=h.call(e,"namespace")?e.namespace.split("."):[];if(r=f=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!wt.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(_=m.split("."),m=_.shift(),_.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[E.expando]?e:new E.Event(m,"object"==typeof e&&e)).isTrigger=a?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),u=E.event.special[m]||{},a||!u.trigger||!1!==u.trigger.apply(n,t))){if(!a&&!u.noBubble&&!g(n)){for(l=u.delegateType||m,wt.test(l+m)||(r=r.parentNode);r;r=r.parentNode)p.push(r),s=r;s===(n.ownerDocument||y)&&p.push(s.defaultView||s.parentWindow||i)}for(o=0;(r=p[o++])&&!e.isPropagationStopped();)f=r,e.type=o>1?l:u.bindType||m,(d=(J.get(r,"events")||Object.create(null))[e.type]&&J.get(r,"handle"))&&d.apply(r,t),(d=c&&r[c])&&d.apply&&Q(r)&&(e.result=d.apply(r,t),!1===e.result&&e.preventDefault());return e.type=m,a||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!Q(n)||c&&v(n[m])&&!g(n)&&((s=n[c])&&(n[c]=null),E.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,$t),n[m](),e.isPropagationStopped()&&f.removeEventListener(m,$t),E.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(i,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),_.focusin||E.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,a=J.access(i,t);a||i.addEventListener(e,n,!0),J.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,a=J.access(i,t)-1;a?J.access(i,t,a):(i.removeEventListener(e,n,!0),J.remove(i,t))}}}));var kt=i.location,Et={guid:Date.now()},xt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Dt=/\[\]$/,Ct=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;function St(e,t,n,i){var a;if(Array.isArray(t))E.each(t,(function(t,a){n||Dt.test(e)?i(e,a):St(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,i)}));else if(n||"object"!==$(t))i(e,t);else for(a in t)St(e+"["+a+"]",t[a],n,i)}E.param=function(e,t){var n,i=[],a=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){a(this.name,this.value)}));else for(n in e)St(n,e[n],t,a);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&It.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!_e.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}})):{name:t.name,value:n.replace(Ct,"\r\n")}})).get()}});var Ot=/%20/g,At=/#.*$/,Rt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Pt={},qt={},Ft="*/".concat("*"),jt=y.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,o=t.toLowerCase().match(q)||[];if(v(n))for(;i=o[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ut(e,t,n,i){var a={},o=e===qt;function r(s){var l;return a[s]=!0,E.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),l}return r(t.dataTypes[0])||!a["*"]&&r("*")}function zt(e,t){var n,i,a=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&E.extend(!0,e,i),e}jt.href=kt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,E.ajaxSettings),t):zt(E.ajaxSettings,e)},ajaxPrefilter:Bt(Pt),ajaxTransport:Bt(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,a,o,r,s,l,c,d,u,f,h=E.ajaxSetup({},t),p=h.context||h,m=h.context&&(p.nodeType||p.jquery)?E(p):E.event,_=E.Deferred(),v=E.Callbacks("once memory"),g=h.statusCode||{},b={},w={},$="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!r)for(r={};t=Mt.exec(o);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)g[t]=[g[t],e[t]];return this},abort:function(e){var t=e||$;return n&&n.abort(t),x(0,t),this}};if(_.promise(k),h.url=((e||h.url||kt.href)+"").replace(Nt,kt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(q)||[""],null==h.crossDomain){l=y.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=E.param(h.data,h.traditional)),Ut(Pt,h,t,k),c)return k;for(u in(d=E.event&&h.global)&&0==E.active++&&E.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Lt.test(h.type),a=h.url.replace(At,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ot,"+")):(f=h.url.slice(a.length),h.data&&(h.processData||"string"==typeof h.data)&&(a+=(xt.test(a)?"&":"?")+h.data,delete h.data),!1===h.cache&&(a=a.replace(Rt,"$1"),f=(xt.test(a)?"&":"?")+"_="+Et.guid+++f),h.url=a+f),h.ifModified&&(E.lastModified[a]&&k.setRequestHeader("If-Modified-Since",E.lastModified[a]),E.etag[a]&&k.setRequestHeader("If-None-Match",E.etag[a])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(p,k,h)||c))return k.abort();if($="abort",v.add(h.complete),k.done(h.success),k.fail(h.error),n=Ut(qt,h,t,k)){if(k.readyState=1,d&&m.trigger("ajaxSend",[k,h]),c)return k;h.async&&h.timeout>0&&(s=i.setTimeout((function(){k.abort("timeout")}),h.timeout));try{c=!1,n.send(b,x)}catch(e){if(c)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,r,l){var u,f,y,b,w,$=t;c||(c=!0,s&&i.clearTimeout(s),n=void 0,o=l||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(b=function(e,t,n){for(var i,a,o,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,k,r)),!u&&E.inArray("script",h.dataTypes)>-1&&E.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),b=function(e,t,n,i){var a,o,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=c[l+" "+o]||c["* "+o]))for(a in c)if((s=a.split(" "))[1]===o&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[a]:!0!==c[a]&&(o=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,b,k,u),u?(h.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(E.lastModified[a]=w),(w=k.getResponseHeader("etag"))&&(E.etag[a]=w)),204===e||"HEAD"===h.type?$="nocontent":304===e?$="notmodified":($=b.state,f=b.data,u=!(y=b.error))):(y=$,!e&&$||($="error",e<0&&(e=0))),k.status=e,k.statusText=(t||$)+"",u?_.resolveWith(p,[f,$,k]):_.rejectWith(p,[k,$,y]),k.statusCode(g),g=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,h,u?f:y]),v.fireWith(p,[k,$]),d&&(m.trigger("ajaxComplete",[k,h]),--E.active||E.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,i,a){return v(n)&&(a=a||i,i=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:a,data:n,success:i},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Yt=E.ajaxSettings.xhr();_.cors=!!Yt&&"withCredentials"in Yt,_.ajax=Yt=!!Yt,E.ajaxTransport((function(e){var t,n;if(_.cors||Yt&&!e.crossDomain)return{send:function(a,o){var r,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];for(r in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)s.setRequestHeader(r,a[r]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,a){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Ht,Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||E.expando+"_"+Et.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var a,o,r,s=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Vt,"$1"+a):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return r||E.error(a+" was not called"),r[0]},e.dataTypes[0]="json",o=i[a],i[a]=function(){r=arguments},n.always((function(){void 0===o?E(i).removeProp(a):i[a]=o,e[a]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(a)),r&&v(o)&&o(r[0]),r=o=void 0})),"script"})),_.createHTMLDocument=((Ht=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(_.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(a=O.exec(e))?[t.createElement(a[1])]:(a=ke([e],t,o),o&&o.length&&E(o).remove(),E.merge([],a.childNodes)));var i,a,o},E.fn.load=function(e,t,n){var i,a,o,r=this,s=e.indexOf(" ");return s>-1&&(i=vt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),r.length>0&&E.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done((function(e){o=arguments,r.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)})).always(n&&function(e,t){r.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var i,a,o,r,s,l,c=E.css(e,"position"),d=E(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=E.css(e,"top"),l=E.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(r=(i=d.position()).top,a=i.left):(r=parseFloat(o)||0,a=parseFloat(l)||0),v(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+a),"using"in t?t.using.call(e,u):d.css(u)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],a={top:0,left:0};if("fixed"===E.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((a=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),a.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-E.css(i,"marginTop",!0),left:t.left-a.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||re}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(i){return Y(this,(function(e,i,a){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===a)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:a,n?a:o.pageYOffset):e[i]=a}),e,i,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Ye(_.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),je.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){E.fn[i]=function(a,o){var r=arguments.length&&(n||"boolean"!=typeof a),s=n||(!0===a||!0===o?"margin":"border");return Y(this,(function(t,n,a){var o;return g(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===a?E.css(t,n,s):E.style(t,n,a,s)}),t,r?a:void 0,r)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,i,a;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=s.call(arguments,2),(a=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,a},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=S,E.isFunction=v,E.isWindow=g,E.camelCase=X,E.type=$,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var Qt=i.jQuery,Kt=i.$;return E.noConflict=function(e){return i.$===E&&(i.$=Kt),e&&i.jQuery===E&&(i.jQuery=Qt),E},void 0===a&&(i.jQuery=i.$=E),E}))},1448:e=>{window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=[],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],r={t:"top",r:"right",b:"bottom",l:"left",c:"centered"};function s(){}var l=["click","focusin","keydown","input"];function c(e){l.forEach((function(t){e.addEventListener(t,e===document?T:I)}))}function d(e){return Array.isArray(e)?e.map(d):"[object Object]"===D(e)?Object.keys(e).reduce((function(t,n){return t[n]=d(e[n]),t}),{}):e}function u(e,t){var n=e.calendar.querySelector(".qs-overlay"),i=n&&!n.classList.contains("qs-hidden");t=t||new Date(e.currentYear,e.currentMonth),e.calendar.innerHTML=[f(t,e,i),h(t,e,i),p(e,i)].join(""),i&&window.requestAnimationFrame((function(){E(!0,e)}))}function f(e,t,n){return['<div class="qs-controls'+(n?" qs-blur":"")+'">','<div class="qs-arrow qs-left"></div>','<div class="qs-month-year">','<span class="qs-month">'+t.months[e.getMonth()]+"</span>",'<span class="qs-year">'+e.getFullYear()+"</span>","</div>",'<div class="qs-arrow qs-right"></div>',"</div>"].join("")}function h(e,t,n){var i=t.currentMonth,a=t.currentYear,o=t.dateSelected,r=t.maxDate,s=t.minDate,l=t.showAllDates,c=t.days,d=t.disabledDates,u=t.startDay,f=t.weekendIndices,h=t.events,p=t.getRange?t.getRange():{},m=+p.start,_=+p.end,v=w(new Date(e).setDate(1)),g=v.getDay()-u,y=g<0?7:0;v.setMonth(v.getMonth()+1),v.setDate(0);var b=v.getDate(),$=[],k=y+7*((g+b)/7|0);k+=(g+b)%7?7:0;for(var E=1;E<=k;E++){var x=(E-1)%7,D=c[x],C=E-(g>=0?g:7+g),T=new Date(a,i,C),I=h[+T],S=C<1||C>b,O=S?C<1?-1:1:0,A=S&&!l,R=A?"":T.getDate(),M=+T==+o,L=x===f[0]||x===f[1],N=m!==_,P="qs-square "+D;I&&!A&&(P+=" qs-event"),S&&(P+=" qs-outside-current-month"),!l&&S||(P+=" qs-num"),M&&(P+=" qs-active"),(d[+T]||t.disabler(T)||L&&t.noWeekends||s&&+T<+s||r&&+T>+r)&&!A&&(P+=" qs-disabled"),+w(new Date)==+T&&(P+=" qs-current"),+T===m&&_&&N&&(P+=" qs-range-start"),+T>m&&+T<_&&(P+=" qs-range-middle"),+T===_&&m&&N&&(P+=" qs-range-end"),A&&(P+=" qs-empty",R=""),$.push('<div class="'+P+'" data-direction="'+O+'">'+R+"</div>")}var q=c.map((function(e){return'<div class="qs-square qs-day">'+e+"</div>"})).concat($);return q.unshift('<div class="qs-squares'+(n?" qs-blur":"")+'">'),q.push("</div>"),q.join("")}function p(e,t){var n=e.overlayPlaceholder,i=e.overlayButton;return['<div class="qs-overlay'+(t?"":" qs-hidden")+'">',"<div>",'<input class="qs-overlay-year" placeholder="'+n+'" inputmode="numeric" />','<div class="qs-close">&#10005;</div>',"</div>",'<div class="qs-overlay-month-container">'+e.overlayMonths.map((function(e,t){return'<div class="qs-overlay-month" data-month-num="'+t+'">'+e+"</div>"})).join("")+"</div>",'<div class="qs-submit qs-disabled">'+i+"</div>","</div>"].join("")}function m(e,t,n){var i=t.el,a=t.calendar.querySelector(".qs-active"),o=e.textContent,r=t.sibling;(i.disabled||i.readOnly)&&t.respectDisabledReadOnly||(t.dateSelected=n?void 0:new Date(t.currentYear,t.currentMonth,o),a&&a.classList.remove("qs-active"),n||e.classList.add("qs-active"),v(i,t,n),n||$(t),r&&(_({instance:t,deselect:n}),t.first&&!r.dateSelected&&(r.currentYear=t.currentYear,r.currentMonth=t.currentMonth,r.currentMonthName=t.currentMonthName),u(t),u(r)),t.onSelect(t,n?void 0:new Date(t.dateSelected)))}function _(e){var t=e.instance.first?e.instance:e.instance.sibling,n=t.sibling;t===e.instance?e.deselect?(t.minDate=t.originalMinDate,n.minDate=n.originalMinDate):n.minDate=t.dateSelected:e.deselect?(n.maxDate=n.originalMaxDate,t.maxDate=t.originalMaxDate):t.maxDate=n.dateSelected}function v(e,t,n){if(!t.nonInput)return n?e.value="":t.formatter!==s?t.formatter(e,t.dateSelected,t):void(e.value=t.dateSelected.toDateString())}function g(e,t,n,i){n||i?(n&&(t.currentYear=+n),i&&(t.currentMonth=+i)):(t.currentMonth+=e.contains("qs-right")?1:-1,12===t.currentMonth?(t.currentMonth=0,t.currentYear++):-1===t.currentMonth&&(t.currentMonth=11,t.currentYear--)),t.currentMonthName=t.months[t.currentMonth],u(t),t.onMonthChange(t)}function y(e){if(!e.noPosition){var t=e.position.top,n=e.position.right;if(e.position.centered)return e.calendarContainer.classList.add("qs-centered");var i=e.positionedEl.getBoundingClientRect(),a=e.el.getBoundingClientRect(),o=e.calendarContainer.getBoundingClientRect(),r=a.top-i.top+(t?-1*o.height:a.height)+"px",s=a.left-i.left+(n?a.width-o.width:0)+"px";e.calendarContainer.style.setProperty("top",r),e.calendarContainer.style.setProperty("left",s)}}function b(e){return"[object Date]"===D(e)&&"Invalid Date"!==e.toString()}function w(e){if(b(e)||"number"==typeof e&&!isNaN(e)){var t=new Date(+e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}}function $(e){e.disabled||!e.calendarContainer.classList.contains("qs-hidden")&&!e.alwaysShow&&("overlay"!==e.defaultView&&E(!0,e),e.calendarContainer.classList.add("qs-hidden"),e.onHide(e))}function k(e){e.disabled||(e.calendarContainer.classList.remove("qs-hidden"),"overlay"===e.defaultView&&E(!1,e),y(e),e.onShow(e))}function E(e,t){var n=t.calendar,i=n.querySelector(".qs-overlay"),a=i.querySelector(".qs-overlay-year"),o=n.querySelector(".qs-controls"),r=n.querySelector(".qs-squares");e?(i.classList.add("qs-hidden"),o.classList.remove("qs-blur"),r.classList.remove("qs-blur"),a.value=""):(i.classList.remove("qs-hidden"),o.classList.add("qs-blur"),r.classList.add("qs-blur"),a.focus())}function x(e,t,n,i){var a=isNaN(+(new Date).setFullYear(t.value||void 0)),o=a?null:t.value;13===e.which||13===e.keyCode||"click"===e.type?i?g(null,n,o,i):a||t.classList.contains("qs-disabled")||g(null,n,o):n.calendar.contains(t)&&n.calendar.querySelector(".qs-submit").classList[a?"add":"remove"]("qs-disabled")}function D(e){return{}.toString.call(e)}function C(e){i.forEach((function(t){t!==e&&$(t)}))}function T(e){if(!e.__qs_shadow_dom){var t=e.which||e.keyCode,n=e.type,a=e.target,r=a.classList,s=i.filter((function(e){return e.calendar.contains(a)||e.el===a}))[0],l=s&&s.calendar.contains(a);if(!(s&&s.isMobile&&s.disableMobile))if("click"===n){if(!s)return i.forEach($);if(s.disabled)return;var c=s.calendar,d=s.calendarContainer,f=s.disableYearOverlay,h=s.nonInput,p=c.querySelector(".qs-overlay-year"),_=!!c.querySelector(".qs-hidden"),v=c.querySelector(".qs-month-year").contains(a),y=a.dataset.monthNum;if(s.noPosition&&!l)(d.classList.contains("qs-hidden")?k:$)(s);else if(r.contains("qs-arrow"))g(r,s);else if(v||r.contains("qs-close"))f||E(!_,s);else if(y)x(e,p,s,y);else{if(r.contains("qs-disabled"))return;if(r.contains("qs-num")){var b=a.textContent,w=+a.dataset.direction,D=new Date(s.currentYear,s.currentMonth+w,b);if(w){s.currentYear=D.getFullYear(),s.currentMonth=D.getMonth(),s.currentMonthName=o[s.currentMonth],u(s);for(var T,I=s.calendar.querySelectorAll('[data-direction="0"]'),S=0;!T;){var O=I[S];O.textContent===b&&(T=O),S++}a=T}return void(+D==+s.dateSelected?m(a,s,!0):a.classList.contains("qs-disabled")||m(a,s))}r.contains("qs-submit")?x(e,p,s):h&&a===s.el&&(k(s),C(s))}}else if("focusin"===n&&s)k(s),C(s);else if("keydown"===n&&9===t&&s)$(s);else if("keydown"===n&&s&&!s.disabled){var A=!s.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");13===t&&A&&l?x(e,a,s):27===t&&A&&l&&E(!0,s)}else if("input"===n){if(!s||!s.calendar.contains(a))return;var R=s.calendar.querySelector(".qs-submit"),M=a.value.split("").reduce((function(e,t){return e||"0"!==t?e+(t.match(/[0-9]/)?t:""):""}),"").slice(0,4);a.value=M,R.classList[4===M.length?"remove":"add"]("qs-disabled")}}}function I(e){T(e),e.__qs_shadow_dom=!0}function S(e,t){l.forEach((function(n){e.removeEventListener(n,t)}))}function O(){k(this)}function A(){$(this)}function R(e,t){var n=w(e),i=this.currentYear,a=this.currentMonth,o=this.sibling;if(null==e)return this.dateSelected=void 0,v(this.el,this,!0),o&&(_({instance:this,deselect:!0}),u(o)),u(this),this;if(!b(e))throw new Error("`setDate` needs a JavaScript Date object.");if(this.disabledDates[+n]||n<this.minDate||n>this.maxDate)throw new Error("You can't manually set a date that's disabled.");this.dateSelected=n,t&&(this.currentYear=n.getFullYear(),this.currentMonth=n.getMonth(),this.currentMonthName=this.months[n.getMonth()]),v(this.el,this),o&&(_({instance:this}),u(o));var r=i===n.getFullYear()&&a===n.getMonth();return r||t?u(this,n):r||u(this,new Date(i,a,1)),this}function M(e){return N(this,e,!0)}function L(e){return N(this,e)}function N(e,t,n){var i=e.dateSelected,a=e.first,o=e.sibling,r=e.minDate,s=e.maxDate,l=w(t),c=n?"Min":"Max";function d(){return"original"+c+"Date"}function f(){return c.toLowerCase()+"Date"}function h(){return"set"+c}function p(){throw new Error("Out-of-range date passed to "+h())}if(null==t)e[d()]=void 0,o?(o[d()]=void 0,n?(a&&!i||!a&&!o.dateSelected)&&(e.minDate=void 0,o.minDate=void 0):(a&&!o.dateSelected||!a&&!i)&&(e.maxDate=void 0,o.maxDate=void 0)):e[f()]=void 0;else{if(!b(t))throw new Error("Invalid date passed to "+h());o?((a&&n&&l>(i||s)||a&&!n&&l<(o.dateSelected||r)||!a&&n&&l>(o.dateSelected||s)||!a&&!n&&l<(i||r))&&p(),e[d()]=l,o[d()]=l,(n&&(a&&!i||!a&&!o.dateSelected)||!n&&(a&&!o.dateSelected||!a&&!i))&&(e[f()]=l,o[f()]=l)):((n&&l>(i||s)||!n&&l<(i||r))&&p(),e[f()]=l)}return o&&u(o),u(e),e}function P(){var e=this.first?this:this.sibling,t=e.sibling;return{start:e.dateSelected,end:t.dateSelected}}function q(){var e=this.shadowDom,t=this.positionedEl,n=this.calendarContainer,a=this.sibling,o=this;this.inlinePosition&&(i.some((function(e){return e!==o&&e.positionedEl===t}))||t.style.setProperty("position",null)),n.remove(),i=i.filter((function(e){return e!==o})),a&&delete a.sibling,i.length||S(document,T);var r=i.some((function(t){return t.shadowDom===e}));for(var s in e&&!r&&S(e,I),this)delete this[s];i.length||l.forEach((function(e){document.removeEventListener(e,T)}))}function F(e,t){var n=new Date(e);if(!b(n))throw new Error("Invalid date passed to `navigate`");this.currentYear=n.getFullYear(),this.currentMonth=n.getMonth(),u(this),t&&this.onMonthChange(this)}function j(){var e=!this.calendarContainer.classList.contains("qs-hidden"),t=!this.calendarContainer.querySelector(".qs-overlay").classList.contains("qs-hidden");e&&E(t,this)}t.default=function(e,t){var n=function(e,t){var n,l,c=function(e){var t=d(e);t.events&&(t.events=t.events.reduce((function(e,t){if(!b(t))throw new Error('"options.events" must only contain valid JavaScript Date objects.');return e[+w(t)]=!0,e}),{})),["startDate","dateSelected","minDate","maxDate"].forEach((function(e){var n=t[e];if(n&&!b(n))throw new Error('"options.'+e+'" needs to be a valid JavaScript Date object.');t[e]=w(n)}));var n=t.position,o=t.maxDate,l=t.minDate,c=t.dateSelected,u=t.overlayPlaceholder,f=t.overlayButton,h=t.startDay,p=t.id;if(t.startDate=w(t.startDate||c||new Date),t.disabledDates=(t.disabledDates||[]).reduce((function(e,t){var n=+w(t);if(!b(t))throw new Error('You supplied an invalid date to "options.disabledDates".');if(n===+w(c))throw new Error('"disabledDates" cannot contain the same date as "dateSelected".');return e[n]=1,e}),{}),t.hasOwnProperty("id")&&null==p)throw new Error("`id` cannot be `null` or `undefined`");if(null!=p){var m=i.filter((function(e){return e.id===p}));if(m.length>1)throw new Error("Only two datepickers can share an id.");m.length?(t.second=!0,t.sibling=m[0]):t.first=!0}var _=["tr","tl","br","bl","c"].some((function(e){return n===e}));if(n&&!_)throw new Error('"options.position" must be one of the following: tl, tr, bl, br, or c.');function v(e){throw new Error('"dateSelected" in options is '+(e?"less":"greater")+' than "'+(e||"max")+'Date".')}if(t.position=function(e){var t=e[0],n=e[1],i={};return i[r[t]]=1,n&&(i[r[n]]=1),i}(n||"bl"),o<l)throw new Error('"maxDate" in options is less than "minDate".');if(c&&(l>c&&v("min"),o<c&&v()),["onSelect","onShow","onHide","onMonthChange","formatter","disabler"].forEach((function(e){"function"!=typeof t[e]&&(t[e]=s)})),["customDays","customMonths","customOverlayMonths"].forEach((function(e,n){var i=t[e],a=n?12:7;if(i){if(!Array.isArray(i)||i.length!==a||i.some((function(e){return"string"!=typeof e})))throw new Error('"'+e+'" must be an array with '+a+" strings.");t[n?n<2?"months":"overlayMonths":"days"]=i}})),h&&h>0&&h<7){var g=(t.customDays||a).slice(),y=g.splice(0,h);t.customDays=g.concat(y),t.startDay=+h,t.weekendIndices=[g.length-1,g.length]}else t.startDay=0,t.weekendIndices=[6,0];"string"!=typeof u&&delete t.overlayPlaceholder,"string"!=typeof f&&delete t.overlayButton;var $=t.defaultView;if($&&"calendar"!==$&&"overlay"!==$)throw new Error('options.defaultView must either be "calendar" or "overlay".');return t.defaultView=$||"calendar",t}(t||{startDate:w(new Date),position:"bl",defaultView:"calendar"}),u=e;if("string"==typeof u)u="#"===u[0]?document.getElementById(u.slice(1)):document.querySelector(u);else{if("[object ShadowRoot]"===D(u))throw new Error("Using a shadow DOM as your selector is not supported.");for(var f,h=u.parentNode;!f;){var p=D(h);"[object HTMLDocument]"===p?f=!0:"[object ShadowRoot]"===p?(f=!0,n=h,l=h.host):h=h.parentNode}}if(!u)throw new Error("No selector / element found.");if(i.some((function(e){return e.el===u})))throw new Error("A datepicker already exists on that element.");var m=u===document.body,_=n?u.parentElement||n:m?document.body:u.parentElement,g=n?u.parentElement||l:_,y=document.createElement("div"),$=document.createElement("div");y.className="qs-datepicker-container qs-hidden",$.className="qs-datepicker";var E={shadowDom:n,customElement:l,positionedEl:g,el:u,parent:_,nonInput:"INPUT"!==u.nodeName,noPosition:m,position:!m&&c.position,startDate:c.startDate,dateSelected:c.dateSelected,disabledDates:c.disabledDates,minDate:c.minDate,maxDate:c.maxDate,noWeekends:!!c.noWeekends,weekendIndices:c.weekendIndices,calendarContainer:y,calendar:$,currentMonth:(c.startDate||c.dateSelected).getMonth(),currentMonthName:(c.months||o)[(c.startDate||c.dateSelected).getMonth()],currentYear:(c.startDate||c.dateSelected).getFullYear(),events:c.events||{},defaultView:c.defaultView,setDate:R,remove:q,setMin:M,setMax:L,show:O,hide:A,navigate:F,toggleOverlay:j,onSelect:c.onSelect,onShow:c.onShow,onHide:c.onHide,onMonthChange:c.onMonthChange,formatter:c.formatter,disabler:c.disabler,months:c.months||o,days:c.customDays||a,startDay:c.startDay,overlayMonths:c.overlayMonths||(c.months||o).map((function(e){return e.slice(0,3)})),overlayPlaceholder:c.overlayPlaceholder||"4-digit year",overlayButton:c.overlayButton||"Submit",disableYearOverlay:!!c.disableYearOverlay,disableMobile:!!c.disableMobile,isMobile:"ontouchstart"in window,alwaysShow:!!c.alwaysShow,id:c.id,showAllDates:!!c.showAllDates,respectDisabledReadOnly:!!c.respectDisabledReadOnly,first:c.first,second:c.second};if(c.sibling){var x=c.sibling,C=E,T=x.minDate||C.minDate,I=x.maxDate||C.maxDate;C.sibling=x,x.sibling=C,x.minDate=T,x.maxDate=I,C.minDate=T,C.maxDate=I,x.originalMinDate=T,x.originalMaxDate=I,C.originalMinDate=T,C.originalMaxDate=I,x.getRange=P,C.getRange=P}c.dateSelected&&v(u,E);var S=getComputedStyle(g).position;m||S&&"static"!==S||(E.inlinePosition=!0,g.style.setProperty("position","relative"));var N=i.filter((function(e){return e.positionedEl===E.positionedEl}));return N.some((function(e){return e.inlinePosition}))&&(E.inlinePosition=!0,N.forEach((function(e){e.inlinePosition=!0}))),y.appendChild($),_.appendChild(y),E.alwaysShow&&k(E),E}(e,t);if(i.length||c(document),n.shadowDom&&(i.some((function(e){return e.shadowDom===n.shadowDom}))||c(n.shadowDom)),i.push(n),n.second){var l=n.sibling;_({instance:n,deselect:!n.dateSelected}),_({instance:l,deselect:!l.dateSelected}),u(l)}return u(n,n.startDate||n.dateSelected),n.alwaysShow&&y(n),n}}]).default},6486:function(e,t,n){var i;e=n.nmd(e),function(){var a,o="Expected a function",r="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,d=64,u=128,f=256,h=1/0,p=9007199254740991,m=NaN,_=4294967295,v=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",d],["rearg",f]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",w="[object Date]",$="[object Error]",k="[object Function]",E="[object GeneratorFunction]",x="[object Map]",D="[object Number]",C="[object Object]",T="[object Promise]",I="[object RegExp]",S="[object Set]",O="[object String]",A="[object Symbol]",R="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",N="[object Float32Array]",P="[object Float64Array]",q="[object Int8Array]",F="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",z="[object Uint16Array]",G="[object Uint32Array]",Y=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Q=RegExp(V.source),K=RegExp(X.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ae.source),re=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,_e=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",De="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="[']",Oe="[\\ud800-\\udfff]",Ae="["+Ie+"]",Re="["+Ee+"]",Me="\\d+",Le="[\\u2700-\\u27bf]",Ne="["+De+"]",Pe="[^\\ud800-\\udfff"+Ie+Me+xe+De+Ce+"]",qe="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Ce+"]",ze="(?:"+Ne+"|"+Pe+")",Ge="(?:"+Ue+"|"+Pe+")",Ye="(?:['](?:d|ll|m|re|s|t|ve))?",He="(?:['](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Re+"|"+qe+")"+"?",Ve="[\\ufe0e\\ufe0f]?",Xe=Ve+We+("(?:\\u200d(?:"+[Fe,je,Be].join("|")+")"+Ve+We+")*"),Qe="(?:"+[Le,je,Be].join("|")+")"+Xe,Ke="(?:"+[Fe+Re+"?",Re,je,Be,Oe].join("|")+")",Je=RegExp(Se,"g"),Ze=RegExp(Re,"g"),et=RegExp(qe+"(?="+qe+")|"+Ke+Xe,"g"),tt=RegExp([Ue+"?"+Ne+"+"+Ye+"(?="+[Ae,Ue,"$"].join("|")+")",Ge+"+"+He+"(?="+[Ae,Ue+ze,"$"].join("|")+")",Ue+"?"+ze+"+"+Ye,Ue+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Qe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Te+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,rt={};rt[N]=rt[P]=rt[q]=rt[F]=rt[j]=rt[B]=rt[U]=rt[z]=rt[G]=!0,rt[g]=rt[y]=rt[M]=rt[b]=rt[L]=rt[w]=rt[$]=rt[k]=rt[x]=rt[D]=rt[C]=rt[I]=rt[S]=rt[O]=rt[R]=!1;var st={};st[g]=st[y]=st[M]=st[L]=st[b]=st[w]=st[N]=st[P]=st[q]=st[F]=st[j]=st[x]=st[D]=st[C]=st[I]=st[S]=st[O]=st[A]=st[B]=st[U]=st[z]=st[G]=!0,st[$]=st[k]=st[R]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,dt=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=ut||ft||Function("return this")(),pt=t&&!t.nodeType&&t,mt=pt&&e&&!e.nodeType&&e,_t=mt&&mt.exports===pt,vt=_t&&ut.process,gt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),yt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,wt=gt&&gt.isMap,$t=gt&&gt.isRegExp,kt=gt&&gt.isSet,Et=gt&&gt.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Dt(e,t,n,i){for(var a=-1,o=null==e?0:e.length;++a<o;){var r=e[a];t(i,r,n(r),e)}return i}function Ct(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function St(e,t){for(var n=-1,i=null==e?0:e.length,a=0,o=[];++n<i;){var r=e[n];t(r,n,e)&&(o[a++]=r)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function At(e,t,n){for(var i=-1,a=null==e?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}function Rt(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}function Mt(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}function Lt(e,t,n,i){var a=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function Nt(e,t,n,i){var a=null==e?0:e.length;for(i&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Pt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var qt=Yt("length");function Ft(e,t,n){var i;return n(e,(function(e,n,a){if(t(e,n,a))return i=n,!1})),i}function jt(e,t,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t==t?function(e,t,n){var i=n-1,a=e.length;for(;++i<a;)if(e[i]===t)return i;return-1}(e,t,n):jt(e,zt,n)}function Ut(e,t,n,i){for(var a=n-1,o=e.length;++a<o;)if(i(e[a],t))return a;return-1}function zt(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Vt(e,t)/n:m}function Yt(e){return function(t){return null==t?a:t[e]}}function Ht(e){return function(t){return null==e?a:e[t]}}function Wt(e,t,n,i,a){return a(e,(function(e,a,o){n=i?(i=!1,e):t(n,e,a,o)})),n}function Vt(e,t){for(var n,i=-1,o=e.length;++i<o;){var r=t(e[i]);r!==a&&(n=n===a?r:n+r)}return n}function Xt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Qt(e){return e?e.slice(0,mn(e)+1).replace(re,""):e}function Kt(e){return function(t){return e(t)}}function Jt(e,t){return Rt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function en(e,t){for(var n=-1,i=e.length;++n<i&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var an=Ht({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),on=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+lt[e]}function sn(e){return nt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,i=e.length,a=0,o=[];++n<i;){var r=e[n];r!==t&&r!==s||(e[n]=s,o[a++]=n)}return o}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):qt(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var _n=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,i=(t=null==t?ht:vn.defaults(ht.Object(),t,vn.pick(ht,at))).Array,se=t.Date,Ee=t.Error,xe=t.Function,De=t.Math,Ce=t.Object,Te=t.RegExp,Ie=t.String,Se=t.TypeError,Oe=i.prototype,Ae=xe.prototype,Re=Ce.prototype,Me=t["__core-js_shared__"],Le=Ae.toString,Ne=Re.hasOwnProperty,Pe=0,qe=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Re.toString,je=Le.call(Ce),Be=ht._,Ue=Te("^"+Le.call(Ne).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=_t?t.Buffer:a,Ge=t.Symbol,Ye=t.Uint8Array,He=ze?ze.allocUnsafe:a,We=cn(Ce.getPrototypeOf,Ce),Ve=Ce.create,Xe=Re.propertyIsEnumerable,Qe=Oe.splice,Ke=Ge?Ge.isConcatSpreadable:a,et=Ge?Ge.iterator:a,nt=Ge?Ge.toStringTag:a,lt=function(){try{var e=po(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=se&&se.now!==ht.Date.now&&se.now,pt=t.setTimeout!==ht.setTimeout&&t.setTimeout,mt=De.ceil,vt=De.floor,gt=Ce.getOwnPropertySymbols,qt=ze?ze.isBuffer:a,Ht=t.isFinite,gn=Oe.join,yn=cn(Ce.keys,Ce),bn=De.max,wn=De.min,$n=se.now,kn=t.parseInt,En=De.random,xn=Oe.reverse,Dn=po(t,"DataView"),Cn=po(t,"Map"),Tn=po(t,"Promise"),In=po(t,"Set"),Sn=po(t,"WeakMap"),On=po(Ce,"create"),An=Sn&&new Sn,Rn={},Mn=Bo(Dn),Ln=Bo(Cn),Nn=Bo(Tn),Pn=Bo(In),qn=Bo(Sn),Fn=Ge?Ge.prototype:a,jn=Fn?Fn.valueOf:a,Bn=Fn?Fn.toString:a;function Un(e){if(as(e)&&!Wr(e)&&!(e instanceof Hn)){if(e instanceof Yn)return e;if(Ne.call(e,"__wrapped__"))return Uo(e)}return new Yn(e)}var zn=function(){function e(){}return function(t){if(!is(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function Gn(){}function Yn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Jn(e,t){var n=Wr(e),i=!n&&Hr(e),a=!n&&!i&&Kr(e),o=!n&&!i&&!a&&fs(e),r=n||i||a||o,s=r?Xt(e.length,Ie):[],l=s.length;for(var c in e)!t&&!Ne.call(e,c)||r&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,l))||s.push(c);return s}function Zn(e){var t=e.length;return t?e[Qi(0,t-1)]:a}function ei(e,t){return qo(Oa(e),ci(t,0,e.length))}function ti(e){return qo(Oa(e))}function ni(e,t,n){(n!==a&&!zr(e[t],n)||n===a&&!(t in e))&&si(e,t,n)}function ii(e,t,n){var i=e[t];Ne.call(e,t)&&zr(i,n)&&(n!==a||t in e)||si(e,t,n)}function ai(e,t){for(var n=e.length;n--;)if(zr(e[n][0],t))return n;return-1}function oi(e,t,n,i){return pi(e,(function(e,a,o){t(i,e,n(e),o)})),i}function ri(e,t){return e&&Aa(t,Ms(t),e)}function si(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function li(e,t){for(var n=-1,o=t.length,r=i(o),s=null==e;++n<o;)r[n]=s?a:Is(e,t[n]);return r}function ci(e,t,n){return e==e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function di(e,t,n,i,o,r){var s,l=1&t,c=2&t,d=4&t;if(n&&(s=o?n(e,i,o,r):n(e)),s!==a)return s;if(!is(e))return e;var u=Wr(e);if(u){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Oa(e,s)}else{var f=vo(e),h=f==k||f==E;if(Kr(e))return xa(e,l);if(f==C||f==g||h&&!o){if(s=c||h?{}:yo(e),!l)return c?function(e,t){return Aa(e,_o(e),t)}(e,function(e,t){return e&&Aa(t,Ls(t),e)}(s,e)):function(e,t){return Aa(e,mo(e),t)}(e,ri(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case M:return Da(e);case b:case w:return new i(+e);case L:return function(e,t){var n=t?Da(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case P:case q:case F:case j:case B:case U:case z:case G:return Ca(e,n);case x:return new i;case D:case O:return new i(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new i;case A:return a=e,jn?Ce(jn.call(a)):{}}var a}(e,f,l)}}r||(r=new Kn);var p=r.get(e);if(p)return p;r.set(e,s),cs(e)?e.forEach((function(i){s.add(di(i,t,n,i,e,r))})):os(e)&&e.forEach((function(i,a){s.set(a,di(i,t,n,a,e,r))}));var m=u?a:(d?c?ro:oo:c?Ls:Ms)(e);return Ct(m||e,(function(i,a){m&&(i=e[a=i]),ii(s,a,di(i,t,n,a,e,r))})),s}function ui(e,t,n){var i=n.length;if(null==e)return!i;for(e=Ce(e);i--;){var o=n[i],r=t[o],s=e[o];if(s===a&&!(o in e)||!r(s))return!1}return!0}function fi(e,t,n){if("function"!=typeof e)throw new Se(o);return Mo((function(){e.apply(a,n)}),t)}function hi(e,t,n,i){var a=-1,o=Ot,r=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Rt(t,Kt(n))),i?(o=At,r=!1):t.length>=200&&(o=Zt,r=!1,t=new Qn(t));e:for(;++a<s;){var d=e[a],u=null==n?d:n(d);if(d=i||0!==d?d:0,r&&u==u){for(var f=c;f--;)if(t[f]===u)continue e;l.push(d)}else o(t,u,i)||l.push(d)}return l}Un.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Gn.prototype,Un.prototype.constructor=Un,Yn.prototype=zn(Gn.prototype),Yn.prototype.constructor=Yn,Hn.prototype=zn(Gn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===r?a:n}return Ne.call(t,e)?t[e]:a},Wn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==a:Ne.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===a?r:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=ai(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,n=ai(t,e);return n<0?a:t[n][1]},Vn.prototype.has=function(e){return ai(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,i=ai(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Cn||Vn),string:new Wn}},Xn.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return fo(this,e).get(e)},Xn.prototype.has=function(e){return fo(this,e).has(e)},Xn.prototype.set=function(e,t){var n=fo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,r),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var i=n.__data__;if(!Cn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(i)}return n.set(e,t),this.size=n.size,this};var pi=La($i),mi=La(ki,!0);function _i(e,t){var n=!0;return pi(e,(function(e,i,a){return n=!!t(e,i,a)})),n}function vi(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],s=t(r);if(null!=s&&(l===a?s==s&&!us(s):n(s,l)))var l=s,c=r}return c}function gi(e,t){var n=[];return pi(e,(function(e,i,a){t(e,i,a)&&n.push(e)})),n}function yi(e,t,n,i,a){var o=-1,r=e.length;for(n||(n=bo),a||(a=[]);++o<r;){var s=e[o];t>0&&n(s)?t>1?yi(s,t-1,n,i,a):Mt(a,s):i||(a[a.length]=s)}return a}var bi=Na(),wi=Na(!0);function $i(e,t){return e&&bi(e,t,Ms)}function ki(e,t){return e&&wi(e,t,Ms)}function Ei(e,t){return St(t,(function(t){return es(e[t])}))}function xi(e,t){for(var n=0,i=(t=wa(t,e)).length;null!=e&&n<i;)e=e[jo(t[n++])];return n&&n==i?e:a}function Di(e,t,n){var i=t(e);return Wr(e)?i:Mt(i,n(e))}function Ci(e){return null==e?e===a?"[object Undefined]":"[object Null]":nt&&nt in Ce(e)?function(e){var t=Ne.call(e,nt),n=e[nt];try{e[nt]=a;var i=!0}catch(e){}var o=Fe.call(e);i&&(t?e[nt]=n:delete e[nt]);return o}(e):function(e){return Fe.call(e)}(e)}function Ti(e,t){return e>t}function Ii(e,t){return null!=e&&Ne.call(e,t)}function Si(e,t){return null!=e&&t in Ce(e)}function Oi(e,t,n){for(var o=n?At:Ot,r=e[0].length,s=e.length,l=s,c=i(s),d=1/0,u=[];l--;){var f=e[l];l&&t&&(f=Rt(f,Kt(t))),d=wn(f.length,d),c[l]=!n&&(t||r>=120&&f.length>=120)?new Qn(l&&f):a}f=e[0];var h=-1,p=c[0];e:for(;++h<r&&u.length<d;){var m=f[h],_=t?t(m):m;if(m=n||0!==m?m:0,!(p?Zt(p,_):o(u,_,n))){for(l=s;--l;){var v=c[l];if(!(v?Zt(v,_):o(e[l],_,n)))continue e}p&&p.push(_),u.push(m)}}return u}function Ai(e,t,n){var i=null==(e=So(e,t=wa(t,e)))?e:e[jo(Zo(t))];return null==i?a:xt(i,e,n)}function Ri(e){return as(e)&&Ci(e)==g}function Mi(e,t,n,i,o){return e===t||(null==e||null==t||!as(e)&&!as(t)?e!=e&&t!=t:function(e,t,n,i,o,r){var s=Wr(e),l=Wr(t),c=s?y:vo(e),d=l?y:vo(t),u=(c=c==g?C:c)==C,f=(d=d==g?C:d)==C,h=c==d;if(h&&Kr(e)){if(!Kr(t))return!1;s=!0,u=!1}if(h&&!u)return r||(r=new Kn),s||fs(e)?io(e,t,n,i,o,r):function(e,t,n,i,a,o,r){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new Ye(e),new Ye(t)));case b:case w:case D:return zr(+e,+t);case $:return e.name==t.name&&e.message==t.message;case I:case O:return e==t+"";case x:var s=ln;case S:var l=1&i;if(s||(s=un),e.size!=t.size&&!l)return!1;var c=r.get(e);if(c)return c==t;i|=2,r.set(e,t);var d=io(s(e),s(t),i,a,o,r);return r.delete(e),d;case A:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,i,o,r);if(!(1&n)){var p=u&&Ne.call(e,"__wrapped__"),m=f&&Ne.call(t,"__wrapped__");if(p||m){var _=p?e.value():e,v=m?t.value():t;return r||(r=new Kn),o(_,v,n,i,r)}}if(!h)return!1;return r||(r=new Kn),function(e,t,n,i,o,r){var s=1&n,l=oo(e),c=l.length,d=oo(t).length;if(c!=d&&!s)return!1;var u=c;for(;u--;){var f=l[u];if(!(s?f in t:Ne.call(t,f)))return!1}var h=r.get(e),p=r.get(t);if(h&&p)return h==t&&p==e;var m=!0;r.set(e,t),r.set(t,e);var _=s;for(;++u<c;){var v=e[f=l[u]],g=t[f];if(i)var y=s?i(g,v,f,t,e,r):i(v,g,f,e,t,r);if(!(y===a?v===g||o(v,g,n,i,r):y)){m=!1;break}_||(_="constructor"==f)}if(m&&!_){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return r.delete(e),r.delete(t),m}(e,t,n,i,o,r)}(e,t,n,i,Mi,o))}function Li(e,t,n,i){var o=n.length,r=o,s=!i;if(null==e)return!r;for(e=Ce(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<r;){var c=(l=n[o])[0],d=e[c],u=l[1];if(s&&l[2]){if(d===a&&!(c in e))return!1}else{var f=new Kn;if(i)var h=i(d,u,c,e,t,f);if(!(h===a?Mi(u,d,3,i,f):h))return!1}}return!0}function Ni(e){return!(!is(e)||(t=e,qe&&qe in t))&&(es(e)?Ue:ge).test(Bo(e));var t}function Pi(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Wr(e)?zi(e[0],e[1]):Ui(e):ml(e)}function qi(e){if(!Do(e))return yn(e);var t=[];for(var n in Ce(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fi(e){if(!is(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=Do(e),n=[];for(var i in e)("constructor"!=i||!t&&Ne.call(e,i))&&n.push(i);return n}function ji(e,t){return e<t}function Bi(e,t){var n=-1,a=Xr(e)?i(e.length):[];return pi(e,(function(e,i,o){a[++n]=t(e,i,o)})),a}function Ui(e){var t=ho(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Li(n,e,t)}}function zi(e,t){return ko(e)&&Co(t)?To(jo(e),t):function(n){var i=Is(n,e);return i===a&&i===t?Ss(n,e):Mi(t,i,3)}}function Gi(e,t,n,i,o){e!==t&&bi(t,(function(r,s){if(o||(o=new Kn),is(r))!function(e,t,n,i,o,r,s){var l=Ao(e,n),c=Ao(t,n),d=s.get(c);if(d)return void ni(e,n,d);var u=r?r(l,c,n+"",e,t,s):a,f=u===a;if(f){var h=Wr(c),p=!h&&Kr(c),m=!h&&!p&&fs(c);u=c,h||p||m?Wr(l)?u=l:Qr(l)?u=Oa(l):p?(f=!1,u=xa(c,!0)):m?(f=!1,u=Ca(c,!0)):u=[]:ss(c)||Hr(c)?(u=l,Hr(l)?u=bs(l):is(l)&&!es(l)||(u=yo(c))):f=!1}f&&(s.set(c,u),o(u,c,i,r,s),s.delete(c));ni(e,n,u)}(e,t,s,n,Gi,i,o);else{var l=i?i(Ao(e,s),r,s+"",e,t,o):a;l===a&&(l=r),ni(e,s,l)}}),Ls)}function Yi(e,t){var n=e.length;if(n)return wo(t+=t<0?n:0,n)?e[t]:a}function Hi(e,t,n){t=t.length?Rt(t,(function(e){return Wr(e)?function(t){return xi(t,1===e.length?e[0]:e)}:e})):[rl];var i=-1;return t=Rt(t,Kt(uo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Bi(e,(function(e,n,a){return{criteria:Rt(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,a=e.criteria,o=t.criteria,r=a.length,s=n.length;for(;++i<r;){var l=Ta(a[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wi(e,t,n){for(var i=-1,a=t.length,o={};++i<a;){var r=t[i],s=xi(e,r);n(s,r)&&ta(o,wa(r,e),s)}return o}function Vi(e,t,n,i){var a=i?Ut:Bt,o=-1,r=t.length,s=e;for(e===t&&(t=Oa(t)),n&&(s=Rt(e,Kt(n)));++o<r;)for(var l=0,c=t[o],d=n?n(c):c;(l=a(s,d,l,i))>-1;)s!==e&&Qe.call(s,l,1),Qe.call(e,l,1);return e}function Xi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var a=t[n];if(n==i||a!==o){var o=a;wo(a)?Qe.call(e,a,1):ha(e,a)}}return e}function Qi(e,t){return e+vt(En()*(t-e+1))}function Ki(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Ji(e,t){return Lo(Io(e,t,rl),e+"")}function Zi(e){return Zn(zs(e))}function ea(e,t){var n=zs(e);return qo(n,ci(t,0,n.length))}function ta(e,t,n,i){if(!is(e))return e;for(var o=-1,r=(t=wa(t,e)).length,s=r-1,l=e;null!=l&&++o<r;){var c=jo(t[o]),d=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var u=l[c];(d=i?i(u,c,l):a)===a&&(d=is(u)?u:wo(t[o+1])?[]:{})}ii(l,c,d),l=l[c]}return e}var na=An?function(e,t){return An.set(e,t),e}:rl,ia=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:il(t),writable:!0})}:rl;function aa(e){return qo(zs(e))}function oa(e,t,n){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=i(o);++a<o;)r[a]=e[a+t];return r}function ra(e,t){var n;return pi(e,(function(e,i,a){return!(n=t(e,i,a))})),!!n}function sa(e,t,n){var i=0,a=null==e?i:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;i<a;){var o=i+a>>>1,r=e[o];null!==r&&!us(r)&&(n?r<=t:r<t)?i=o+1:a=o}return a}return la(e,t,rl,n)}function la(e,t,n,i){var o=0,r=null==e?0:e.length;if(0===r)return 0;for(var s=(t=n(t))!=t,l=null===t,c=us(t),d=t===a;o<r;){var u=vt((o+r)/2),f=n(e[u]),h=f!==a,p=null===f,m=f==f,_=us(f);if(s)var v=i||m;else v=d?m&&(i||h):l?m&&h&&(i||!p):c?m&&h&&!p&&(i||!_):!p&&!_&&(i?f<=t:f<t);v?o=u+1:r=u}return wn(r,4294967294)}function ca(e,t){for(var n=-1,i=e.length,a=0,o=[];++n<i;){var r=e[n],s=t?t(r):r;if(!n||!zr(s,l)){var l=s;o[a++]=0===r?0:r}}return o}function da(e){return"number"==typeof e?e:us(e)?m:+e}function ua(e){if("string"==typeof e)return e;if(Wr(e))return Rt(e,ua)+"";if(us(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fa(e,t,n){var i=-1,a=Ot,o=e.length,r=!0,s=[],l=s;if(n)r=!1,a=At;else if(o>=200){var c=t?null:Ka(e);if(c)return un(c);r=!1,a=Zt,l=new Qn}else l=t?[]:s;e:for(;++i<o;){var d=e[i],u=t?t(d):d;if(d=n||0!==d?d:0,r&&u==u){for(var f=l.length;f--;)if(l[f]===u)continue e;t&&l.push(u),s.push(d)}else a(l,u,n)||(l!==s&&l.push(u),s.push(d))}return s}function ha(e,t){return null==(e=So(e,t=wa(t,e)))||delete e[jo(Zo(t))]}function pa(e,t,n,i){return ta(e,t,n(xi(e,t)),i)}function ma(e,t,n,i){for(var a=e.length,o=i?a:-1;(i?o--:++o<a)&&t(e[o],o,e););return n?oa(e,i?0:o,i?o+1:a):oa(e,i?o+1:0,i?a:o)}function _a(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function va(e,t,n){var a=e.length;if(a<2)return a?fa(e[0]):[];for(var o=-1,r=i(a);++o<a;)for(var s=e[o],l=-1;++l<a;)l!=o&&(r[o]=hi(r[o]||s,e[l],t,n));return fa(yi(r,1),t,n)}function ga(e,t,n){for(var i=-1,o=e.length,r=t.length,s={};++i<o;){var l=i<r?t[i]:a;n(s,e[i],l)}return s}function ya(e){return Qr(e)?e:[]}function ba(e){return"function"==typeof e?e:rl}function wa(e,t){return Wr(e)?e:ko(e,t)?[e]:Fo(ws(e))}var $a=Ji;function ka(e,t,n){var i=e.length;return n=n===a?i:n,!t&&n>=i?e:oa(e,t,n)}var Ea=ut||function(e){return ht.clearTimeout(e)};function xa(e,t){if(t)return e.slice();var n=e.length,i=He?He(n):new e.constructor(n);return e.copy(i),i}function Da(e){var t=new e.constructor(e.byteLength);return new Ye(t).set(new Ye(e)),t}function Ca(e,t){var n=t?Da(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ta(e,t){if(e!==t){var n=e!==a,i=null===e,o=e==e,r=us(e),s=t!==a,l=null===t,c=t==t,d=us(t);if(!l&&!d&&!r&&e>t||r&&s&&c&&!l&&!d||i&&s&&c||!n&&c||!o)return 1;if(!i&&!r&&!d&&e<t||d&&n&&o&&!i&&!r||l&&n&&o||!s&&o||!c)return-1}return 0}function Ia(e,t,n,a){for(var o=-1,r=e.length,s=n.length,l=-1,c=t.length,d=bn(r-s,0),u=i(c+d),f=!a;++l<c;)u[l]=t[l];for(;++o<s;)(f||o<r)&&(u[n[o]]=e[o]);for(;d--;)u[l++]=e[o++];return u}function Sa(e,t,n,a){for(var o=-1,r=e.length,s=-1,l=n.length,c=-1,d=t.length,u=bn(r-l,0),f=i(u+d),h=!a;++o<u;)f[o]=e[o];for(var p=o;++c<d;)f[p+c]=t[c];for(;++s<l;)(h||o<r)&&(f[p+n[s]]=e[o++]);return f}function Oa(e,t){var n=-1,a=e.length;for(t||(t=i(a));++n<a;)t[n]=e[n];return t}function Aa(e,t,n,i){var o=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var l=t[r],c=i?i(n[l],e[l],l,n,e):a;c===a&&(c=e[l]),o?si(n,l,c):ii(n,l,c)}return n}function Ra(e,t){return function(n,i){var a=Wr(n)?Dt:oi,o=t?t():{};return a(n,e,uo(i,2),o)}}function Ma(e){return Ji((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:a,s=o>2?n[2]:a;for(r=e.length>3&&"function"==typeof r?(o--,r):a,s&&$o(n[0],n[1],s)&&(r=o<3?a:r,o=1),t=Ce(t);++i<o;){var l=n[i];l&&e(t,l,i,r)}return t}))}function La(e,t){return function(n,i){if(null==n)return n;if(!Xr(n))return e(n,i);for(var a=n.length,o=t?a:-1,r=Ce(n);(t?o--:++o<a)&&!1!==i(r[o],o,r););return n}}function Na(e){return function(t,n,i){for(var a=-1,o=Ce(t),r=i(t),s=r.length;s--;){var l=r[e?s:++a];if(!1===n(o[l],l,o))break}return t}}function Pa(e){return function(t){var n=sn(t=ws(t))?pn(t):a,i=n?n[0]:t.charAt(0),o=n?ka(n,1).join(""):t.slice(1);return i[e]()+o}}function qa(e){return function(t){return Lt(el(Hs(t).replace(Je,"")),e,"")}}function Fa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),i=e.apply(n,t);return is(i)?i:n}}function ja(e){return function(t,n,i){var o=Ce(t);if(!Xr(t)){var r=uo(n,3);t=Ms(t),n=function(e){return r(o[e],e,o)}}var s=e(t,n,i);return s>-1?o[r?t[s]:s]:a}}function Ba(e){return ao((function(t){var n=t.length,i=n,r=Yn.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new Se(o);if(r&&!l&&"wrapper"==lo(s))var l=new Yn([],!0)}for(i=l?i:n;++i<n;){var c=lo(s=t[i]),d="wrapper"==c?so(s):a;l=d&&Eo(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[lo(d[0])].apply(l,d[3]):1==s.length&&Eo(s)?l[c]():l.thru(s)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&Wr(i))return l.plant(i).value();for(var a=0,o=n?t[a].apply(this,e):i;++a<n;)o=t[a].call(this,o);return o}}))}function Ua(e,t,n,o,r,s,l,c,d,f){var h=t&u,p=1&t,m=2&t,_=24&t,v=512&t,g=m?a:Fa(e);return function a(){for(var u=arguments.length,y=i(u),b=u;b--;)y[b]=arguments[b];if(_)var w=co(a),$=nn(y,w);if(o&&(y=Ia(y,o,r,_)),s&&(y=Sa(y,s,l,_)),u-=$,_&&u<f){var k=dn(y,w);return Xa(e,t,Ua,a.placeholder,n,y,k,c,d,f-u)}var E=p?n:this,x=m?E[e]:e;return u=y.length,c?y=Oo(y,c):v&&u>1&&y.reverse(),h&&d<u&&(y.length=d),this&&this!==ht&&this instanceof a&&(x=g||Fa(x)),x.apply(E,y)}}function za(e,t){return function(n,i){return function(e,t,n,i){return $i(e,(function(e,a,o){t(i,n(e),a,o)})),i}(n,e,t(i),{})}}function Ga(e,t){return function(n,i){var o;if(n===a&&i===a)return t;if(n!==a&&(o=n),i!==a){if(o===a)return i;"string"==typeof n||"string"==typeof i?(n=ua(n),i=ua(i)):(n=da(n),i=da(i)),o=e(n,i)}return o}}function Ya(e){return ao((function(t){return t=Rt(t,Kt(uo())),Ji((function(n){var i=this;return e(t,(function(e){return xt(e,i,n)}))}))}))}function Ha(e,t){var n=(t=t===a?" ":ua(t)).length;if(n<2)return n?Ki(t,e):t;var i=Ki(t,mt(e/hn(t)));return sn(t)?ka(pn(i),0,e).join(""):i.slice(0,e)}function Wa(e){return function(t,n,o){return o&&"number"!=typeof o&&$o(t,n,o)&&(n=o=a),t=_s(t),n===a?(n=t,t=0):n=_s(n),function(e,t,n,a){for(var o=-1,r=bn(mt((t-e)/(n||1)),0),s=i(r);r--;)s[a?r:++o]=e,e+=n;return s}(t,n,o=o===a?t<n?1:-1:_s(o),e)}}function Va(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Xa(e,t,n,i,o,r,s,l,u,f){var h=8&t;t|=h?c:d,4&(t&=~(h?d:c))||(t&=-4);var p=[e,t,o,h?r:a,h?s:a,h?a:r,h?a:s,l,u,f],m=n.apply(a,p);return Eo(e)&&Ro(m,p),m.placeholder=i,No(m,e,t)}function Qa(e){var t=De[e];return function(e,n){if(e=ys(e),(n=null==n?0:wn(vs(n),292))&&Ht(e)){var i=(ws(e)+"e").split("e");return+((i=(ws(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Ka=In&&1/un(new In([,-0]))[1]==h?function(e){return new In(e)}:ul;function Ja(e){return function(t){var n=vo(t);return n==x?ln(t):n==S?fn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Za(e,t,n,r,h,p,m,_){var v=2&t;if(!v&&"function"!=typeof e)throw new Se(o);var g=r?r.length:0;if(g||(t&=-97,r=h=a),m=m===a?m:bn(vs(m),0),_=_===a?_:vs(_),g-=h?h.length:0,t&d){var y=r,b=h;r=h=a}var w=v?a:so(e),$=[e,t,n,r,h,y,b,p,m,_];if(w&&function(e,t){var n=e[1],i=t[1],a=n|i,o=a<131,r=i==u&&8==n||i==u&&n==f&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!r)return e;1&i&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ia(c,l,t[4]):l,e[4]=c?dn(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Sa(c,l,t[6]):l,e[6]=c?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);i&u&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}($,w),e=$[0],t=$[1],n=$[2],r=$[3],h=$[4],!(_=$[9]=$[9]===a?v?0:e.length:bn($[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,n){var o=Fa(e);return function r(){for(var s=arguments.length,l=i(s),c=s,d=co(r);c--;)l[c]=arguments[c];var u=s<3&&l[0]!==d&&l[s-1]!==d?[]:dn(l,d);return(s-=u.length)<n?Xa(e,t,Ua,r.placeholder,a,l,u,a,a,n-s):xt(this&&this!==ht&&this instanceof r?o:e,this,l)}}(e,t,_):t!=c&&33!=t||h.length?Ua.apply(a,$):function(e,t,n,a){var o=1&t,r=Fa(e);return function t(){for(var s=-1,l=arguments.length,c=-1,d=a.length,u=i(d+l),f=this&&this!==ht&&this instanceof t?r:e;++c<d;)u[c]=a[c];for(;l--;)u[c++]=arguments[++s];return xt(f,o?n:this,u)}}(e,t,n,r);else var k=function(e,t,n){var i=1&t,a=Fa(e);return function t(){return(this&&this!==ht&&this instanceof t?a:e).apply(i?n:this,arguments)}}(e,t,n);return No((w?na:Ro)(k,$),e,t)}function eo(e,t,n,i){return e===a||zr(e,Re[n])&&!Ne.call(i,n)?t:e}function to(e,t,n,i,o,r){return is(e)&&is(t)&&(r.set(t,e),Gi(e,t,a,to,r),r.delete(t)),e}function no(e){return ss(e)?a:e}function io(e,t,n,i,o,r){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var d=r.get(e),u=r.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=2&n?new Qn:a;for(r.set(e,t),r.set(t,e);++f<l;){var m=e[f],_=t[f];if(i)var v=s?i(_,m,f,t,e,r):i(m,_,f,e,t,r);if(v!==a){if(v)continue;h=!1;break}if(p){if(!Pt(t,(function(e,t){if(!Zt(p,t)&&(m===e||o(m,e,n,i,r)))return p.push(t)}))){h=!1;break}}else if(m!==_&&!o(m,_,n,i,r)){h=!1;break}}return r.delete(e),r.delete(t),h}function ao(e){return Lo(Io(e,a,Vo),e+"")}function oo(e){return Di(e,Ms,mo)}function ro(e){return Di(e,Ls,_o)}var so=An?function(e){return An.get(e)}:ul;function lo(e){for(var t=e.name+"",n=Rn[t],i=Ne.call(Rn,t)?n.length:0;i--;){var a=n[i],o=a.func;if(null==o||o==e)return a.name}return t}function co(e){return(Ne.call(Un,"placeholder")?Un:e).placeholder}function uo(){var e=Un.iteratee||sl;return e=e===sl?Pi:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var n,i,a=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function ho(e){for(var t=Ms(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,Co(a)]}return t}function po(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return Ni(n)?n:a}var mo=gt?function(e){return null==e?[]:(e=Ce(e),St(gt(e),(function(t){return Xe.call(e,t)})))}:gl,_o=gt?function(e){for(var t=[];e;)Mt(t,mo(e)),e=We(e);return t}:gl,vo=Ci;function go(e,t,n){for(var i=-1,a=(t=wa(t,e)).length,o=!1;++i<a;){var r=jo(t[i]);if(!(o=null!=e&&n(e,r)))break;e=e[r]}return o||++i!=a?o:!!(a=null==e?0:e.length)&&ns(a)&&wo(r,a)&&(Wr(e)||Hr(e))}function yo(e){return"function"!=typeof e.constructor||Do(e)?{}:zn(We(e))}function bo(e){return Wr(e)||Hr(e)||!!(Ke&&e&&e[Ke])}function wo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function $o(e,t,n){if(!is(n))return!1;var i=typeof t;return!!("number"==i?Xr(n)&&wo(t,n.length):"string"==i&&t in n)&&zr(n[t],e)}function ko(e,t){if(Wr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function Eo(e){var t=lo(e),n=Un[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var i=so(n);return!!i&&e===i[0]}(Dn&&vo(new Dn(new ArrayBuffer(1)))!=L||Cn&&vo(new Cn)!=x||Tn&&vo(Tn.resolve())!=T||In&&vo(new In)!=S||Sn&&vo(new Sn)!=R)&&(vo=function(e){var t=Ci(e),n=t==C?e.constructor:a,i=n?Bo(n):"";if(i)switch(i){case Mn:return L;case Ln:return x;case Nn:return T;case Pn:return S;case qn:return R}return t});var xo=Me?es:yl;function Do(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Co(e){return e==e&&!is(e)}function To(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==a||e in Ce(n)))}}function Io(e,t,n){return t=bn(t===a?e.length-1:t,0),function(){for(var a=arguments,o=-1,r=bn(a.length-t,0),s=i(r);++o<r;)s[o]=a[t+o];o=-1;for(var l=i(t+1);++o<t;)l[o]=a[o];return l[t]=n(s),xt(e,this,l)}}function So(e,t){return t.length<2?e:xi(e,oa(t,0,-1))}function Oo(e,t){for(var n=e.length,i=wn(t.length,n),o=Oa(e);i--;){var r=t[i];e[i]=wo(r,n)?o[r]:a}return e}function Ao(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=Po(na),Mo=pt||function(e,t){return ht.setTimeout(e,t)},Lo=Po(ia);function No(e,t,n){var i=t+"";return Lo(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Ct(v,(function(n){var i="_."+n[0];t&n[1]&&!Ot(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(de):[]}(i),n)))}function Po(e){var t=0,n=0;return function(){var i=$n(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function qo(e,t){var n=-1,i=e.length,o=i-1;for(t=t===a?i:t;++n<t;){var r=Qi(n,o),s=e[r];e[r]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=Pr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ie,(function(e,n,i,a){t.push(i?a.replace(he,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Hn)return e.clone();var t=new Yn(e.__wrapped__,e.__chain__);return t.__actions__=Oa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Ji((function(e,t){return Qr(e)?hi(e,yi(t,1,Qr,!0)):[]})),Go=Ji((function(e,t){var n=Zo(t);return Qr(n)&&(n=a),Qr(e)?hi(e,yi(t,1,Qr,!0),uo(n,2)):[]})),Yo=Ji((function(e,t){var n=Zo(t);return Qr(n)&&(n=a),Qr(e)?hi(e,yi(t,1,Qr,!0),a,n):[]}));function Ho(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=null==n?0:vs(n);return a<0&&(a=bn(i+a,0)),jt(e,uo(t,3),a)}function Wo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==a&&(o=vs(n),o=n<0?bn(i+o,0):wn(o,i-1)),jt(e,uo(t,3),o,!0)}function Vo(e){return(null==e?0:e.length)?yi(e,1):[]}function Xo(e){return e&&e.length?e[0]:a}var Qo=Ji((function(e){var t=Rt(e,ya);return t.length&&t[0]===e[0]?Oi(t):[]})),Ko=Ji((function(e){var t=Zo(e),n=Rt(e,ya);return t===Zo(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Oi(n,uo(t,2)):[]})),Jo=Ji((function(e){var t=Zo(e),n=Rt(e,ya);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Oi(n,a,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:a}var er=Ji(tr);function tr(e,t){return e&&e.length&&t&&t.length?Vi(e,t):e}var nr=ao((function(e,t){var n=null==e?0:e.length,i=li(e,t);return Xi(e,Rt(t,(function(e){return wo(e,n)?+e:e})).sort(Ta)),i}));function ir(e){return null==e?e:xn.call(e)}var ar=Ji((function(e){return fa(yi(e,1,Qr,!0))})),or=Ji((function(e){var t=Zo(e);return Qr(t)&&(t=a),fa(yi(e,1,Qr,!0),uo(t,2))})),rr=Ji((function(e){var t=Zo(e);return t="function"==typeof t?t:a,fa(yi(e,1,Qr,!0),a,t)}));function sr(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Qr(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return Rt(e,Yt(t))}))}function lr(e,t){if(!e||!e.length)return[];var n=sr(e);return null==t?n:Rt(n,(function(e){return xt(t,a,e)}))}var cr=Ji((function(e,t){return Qr(e)?hi(e,t):[]})),dr=Ji((function(e){return va(St(e,Qr))})),ur=Ji((function(e){var t=Zo(e);return Qr(t)&&(t=a),va(St(e,Qr),uo(t,2))})),fr=Ji((function(e){var t=Zo(e);return t="function"==typeof t?t:a,va(St(e,Qr),a,t)})),hr=Ji(sr);var pr=Ji((function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,lr(e,n)}));function mr(e){var t=Un(e);return t.__chain__=!0,t}function _r(e,t){return t(e)}var vr=ao((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return li(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hn&&wo(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:_r,args:[o],thisArg:a}),new Yn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(o)}));var gr=Ra((function(e,t,n){Ne.call(e,n)?++e[n]:si(e,n,1)}));var yr=ja(Ho),br=ja(Wo);function wr(e,t){return(Wr(e)?Ct:pi)(e,uo(t,3))}function $r(e,t){return(Wr(e)?Tt:mi)(e,uo(t,3))}var kr=Ra((function(e,t,n){Ne.call(e,n)?e[n].push(t):si(e,n,[t])}));var Er=Ji((function(e,t,n){var a=-1,o="function"==typeof t,r=Xr(e)?i(e.length):[];return pi(e,(function(e){r[++a]=o?xt(t,e,n):Ai(e,t,n)})),r})),xr=Ra((function(e,t,n){si(e,n,t)}));function Dr(e,t){return(Wr(e)?Rt:Bi)(e,uo(t,3))}var Cr=Ra((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Tr=Ji((function(e,t){if(null==e)return[];var n=t.length;return n>1&&$o(e,t[0],t[1])?t=[]:n>2&&$o(t[0],t[1],t[2])&&(t=[t[0]]),Hi(e,yi(t,1),[])})),Ir=ft||function(){return ht.Date.now()};function Sr(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,Za(e,u,a,a,a,a,t)}function Or(e,t){var n;if("function"!=typeof t)throw new Se(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var Ar=Ji((function(e,t,n){var i=1;if(n.length){var a=dn(n,co(Ar));i|=c}return Za(e,i,t,n,a)})),Rr=Ji((function(e,t,n){var i=3;if(n.length){var a=dn(n,co(Rr));i|=c}return Za(t,i,e,n,a)}));function Mr(e,t,n){var i,r,s,l,c,d,u=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Se(o);function m(t){var n=i,o=r;return i=r=a,u=t,l=e.apply(o,n)}function _(e){return u=e,c=Mo(g,t),f?m(e):l}function v(e){var n=e-d;return d===a||n>=t||n<0||h&&e-u>=s}function g(){var e=Ir();if(v(e))return y(e);c=Mo(g,function(e){var n=t-(e-d);return h?wn(n,s-(e-u)):n}(e))}function y(e){return c=a,p&&i?m(e):(i=r=a,l)}function b(){var e=Ir(),n=v(e);if(i=arguments,r=this,d=e,n){if(c===a)return _(d);if(h)return Ea(c),c=Mo(g,t),m(d)}return c===a&&(c=Mo(g,t)),l}return t=ys(t)||0,is(n)&&(f=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==a&&Ea(c),u=0,i=d=r=c=a},b.flush=function(){return c===a?l:y(Ir())},b}var Lr=Ji((function(e,t){return fi(e,1,t)})),Nr=Ji((function(e,t,n){return fi(e,ys(t)||0,n)}));function Pr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Se(o);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],o=n.cache;if(o.has(a))return o.get(a);var r=e.apply(this,i);return n.cache=o.set(a,r)||o,r};return n.cache=new(Pr.Cache||Xn),n}function qr(e){if("function"!=typeof e)throw new Se(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pr.Cache=Xn;var Fr=$a((function(e,t){var n=(t=1==t.length&&Wr(t[0])?Rt(t[0],Kt(uo())):Rt(yi(t,1),Kt(uo()))).length;return Ji((function(i){for(var a=-1,o=wn(i.length,n);++a<o;)i[a]=t[a].call(this,i[a]);return xt(e,this,i)}))})),jr=Ji((function(e,t){var n=dn(t,co(jr));return Za(e,c,a,t,n)})),Br=Ji((function(e,t){var n=dn(t,co(Br));return Za(e,d,a,t,n)})),Ur=ao((function(e,t){return Za(e,f,a,a,a,t)}));function zr(e,t){return e===t||e!=e&&t!=t}var Gr=Va(Ti),Yr=Va((function(e,t){return e>=t})),Hr=Ri(function(){return arguments}())?Ri:function(e){return as(e)&&Ne.call(e,"callee")&&!Xe.call(e,"callee")},Wr=i.isArray,Vr=yt?Kt(yt):function(e){return as(e)&&Ci(e)==M};function Xr(e){return null!=e&&ns(e.length)&&!es(e)}function Qr(e){return as(e)&&Xr(e)}var Kr=qt||yl,Jr=bt?Kt(bt):function(e){return as(e)&&Ci(e)==w};function Zr(e){if(!as(e))return!1;var t=Ci(e);return t==$||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!is(e))return!1;var t=Ci(e);return t==k||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function is(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function as(e){return null!=e&&"object"==typeof e}var os=wt?Kt(wt):function(e){return as(e)&&vo(e)==x};function rs(e){return"number"==typeof e||as(e)&&Ci(e)==D}function ss(e){if(!as(e)||Ci(e)!=C)return!1;var t=We(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==je}var ls=$t?Kt($t):function(e){return as(e)&&Ci(e)==I};var cs=kt?Kt(kt):function(e){return as(e)&&vo(e)==S};function ds(e){return"string"==typeof e||!Wr(e)&&as(e)&&Ci(e)==O}function us(e){return"symbol"==typeof e||as(e)&&Ci(e)==A}var fs=Et?Kt(Et):function(e){return as(e)&&ns(e.length)&&!!rt[Ci(e)]};var hs=Va(ji),ps=Va((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Xr(e))return ds(e)?pn(e):Oa(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=vo(e);return(t==x?ln:t==S?un:zs)(e)}function _s(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=_s(e),n=t%1;return t==t?n?t-n:t:0}function gs(e){return e?ci(vs(e),0,_):0}function ys(e){if("number"==typeof e)return e;if(us(e))return m;if(is(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=is(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||ye.test(e)?dt(e.slice(2),n?2:8):_e.test(e)?m:+e}function bs(e){return Aa(e,Ls(e))}function ws(e){return null==e?"":ua(e)}var $s=Ma((function(e,t){if(Do(t)||Xr(t))Aa(t,Ms(t),e);else for(var n in t)Ne.call(t,n)&&ii(e,n,t[n])})),ks=Ma((function(e,t){Aa(t,Ls(t),e)})),Es=Ma((function(e,t,n,i){Aa(t,Ls(t),e,i)})),xs=Ma((function(e,t,n,i){Aa(t,Ms(t),e,i)})),Ds=ao(li);var Cs=Ji((function(e,t){e=Ce(e);var n=-1,i=t.length,o=i>2?t[2]:a;for(o&&$o(t[0],t[1],o)&&(i=1);++n<i;)for(var r=t[n],s=Ls(r),l=-1,c=s.length;++l<c;){var d=s[l],u=e[d];(u===a||zr(u,Re[d])&&!Ne.call(e,d))&&(e[d]=r[d])}return e})),Ts=Ji((function(e){return e.push(a,to),xt(Ps,a,e)}));function Is(e,t,n){var i=null==e?a:xi(e,t);return i===a?n:i}function Ss(e,t){return null!=e&&go(e,t,Si)}var Os=za((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),il(rl)),As=za((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Rs=Ji(Ai);function Ms(e){return Xr(e)?Jn(e):qi(e)}function Ls(e){return Xr(e)?Jn(e,!0):Fi(e)}var Ns=Ma((function(e,t,n){Gi(e,t,n)})),Ps=Ma((function(e,t,n,i){Gi(e,t,n,i)})),qs=ao((function(e,t){var n={};if(null==e)return n;var i=!1;t=Rt(t,(function(t){return t=wa(t,e),i||(i=t.length>1),t})),Aa(e,ro(e),n),i&&(n=di(n,7,no));for(var a=t.length;a--;)ha(n,t[a]);return n}));var Fs=ao((function(e,t){return null==e?{}:function(e,t){return Wi(e,t,(function(t,n){return Ss(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Rt(ro(e),(function(e){return[e]}));return t=uo(t),Wi(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Ja(Ms),Us=Ja(Ls);function zs(e){return null==e?[]:Jt(e,Ms(e))}var Gs=qa((function(e,t,n){return t=t.toLowerCase(),e+(n?Ys(t):t)}));function Ys(e){return Zs(ws(e).toLowerCase())}function Hs(e){return(e=ws(e))&&e.replace(we,an).replace(Ze,"")}var Ws=qa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Vs=qa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Pa("toLowerCase");var Qs=qa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=qa((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Js=qa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Pa("toUpperCase");function el(e,t,n){return e=ws(e),(t=n?a:t)===a?function(e){return it.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var tl=Ji((function(e,t){try{return xt(e,a,t)}catch(e){return Zr(e)?e:new Ee(e)}})),nl=ao((function(e,t){return Ct(t,(function(t){t=jo(t),si(e,t,Ar(e[t],e))})),e}));function il(e){return function(){return e}}var al=Ba(),ol=Ba(!0);function rl(e){return e}function sl(e){return Pi("function"==typeof e?e:di(e,1))}var ll=Ji((function(e,t){return function(n){return Ai(n,e,t)}})),cl=Ji((function(e,t){return function(n){return Ai(e,n,t)}}));function dl(e,t,n){var i=Ms(t),a=Ei(t,i);null!=n||is(t)&&(a.length||!i.length)||(n=t,t=e,e=this,a=Ei(t,Ms(t)));var o=!(is(n)&&"chain"in n&&!n.chain),r=es(e);return Ct(a,(function(n){var i=t[n];e[n]=i,r&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),a=n.__actions__=Oa(this.__actions__);return a.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Mt([this.value()],arguments))})})),e}function ul(){}var fl=Ya(Rt),hl=Ya(It),pl=Ya(Pt);function ml(e){return ko(e)?Yt(jo(e)):function(e){return function(t){return xi(t,e)}}(e)}var _l=Wa(),vl=Wa(!0);function gl(){return[]}function yl(){return!1}var bl=Ga((function(e,t){return e+t}),0),wl=Qa("ceil"),$l=Ga((function(e,t){return e/t}),1),kl=Qa("floor");var El,xl=Ga((function(e,t){return e*t}),1),Dl=Qa("round"),Cl=Ga((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Se(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Sr,Un.assign=$s,Un.assignIn=ks,Un.assignInWith=Es,Un.assignWith=xs,Un.at=Ds,Un.before=Or,Un.bind=Ar,Un.bindAll=nl,Un.bindKey=Rr,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wr(e)?e:[e]},Un.chain=mr,Un.chunk=function(e,t,n){t=(n?$o(e,t,n):t===a)?1:bn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var r=0,s=0,l=i(mt(o/t));r<o;)l[s++]=oa(e,r,r+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,a=[];++t<n;){var o=e[t];o&&(a[i++]=o)}return a},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Mt(Wr(n)?Oa(n):[n],yi(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Se(o);return[n(e[0]),e[1]]})):[],Ji((function(n){for(var i=-1;++i<t;){var a=e[i];if(xt(a[0],this,n))return xt(a[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ms(e);return function(n){return ui(n,e,t)}}(di(e,1))},Un.constant=il,Un.countBy=gr,Un.create=function(e,t){var n=zn(e);return null==t?n:ri(n,t)},Un.curry=function e(t,n,i){var o=Za(t,8,a,a,a,a,a,n=i?a:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,i){var o=Za(t,l,a,a,a,a,a,n=i?a:n);return o.placeholder=e.placeholder,o},Un.debounce=Mr,Un.defaults=Cs,Un.defaultsDeep=Ts,Un.defer=Lr,Un.delay=Nr,Un.difference=zo,Un.differenceBy=Go,Un.differenceWith=Yo,Un.drop=function(e,t,n){var i=null==e?0:e.length;return i?oa(e,(t=n||t===a?1:vs(t))<0?0:t,i):[]},Un.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?oa(e,0,(t=i-(t=n||t===a?1:vs(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?ma(e,uo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?ma(e,uo(t,3),!0):[]},Un.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&$o(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(i=i===a||i>o?o:vs(i))<0&&(i+=o),i=n>i?0:gs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Un.filter=function(e,t){return(Wr(e)?St:gi)(e,uo(t,3))},Un.flatMap=function(e,t){return yi(Dr(e,t),1)},Un.flatMapDeep=function(e,t){return yi(Dr(e,t),h)},Un.flatMapDepth=function(e,t,n){return n=n===a?1:vs(n),yi(Dr(e,t),n)},Un.flatten=Vo,Un.flattenDeep=function(e){return(null==e?0:e.length)?yi(e,h):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?yi(e,t=t===a?1:vs(t)):[]},Un.flip=function(e){return Za(e,512)},Un.flow=al,Un.flowRight=ol,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var a=e[t];i[a[0]]=a[1]}return i},Un.functions=function(e){return null==e?[]:Ei(e,Ms(e))},Un.functionsIn=function(e){return null==e?[]:Ei(e,Ls(e))},Un.groupBy=kr,Un.initial=function(e){return(null==e?0:e.length)?oa(e,0,-1):[]},Un.intersection=Qo,Un.intersectionBy=Ko,Un.intersectionWith=Jo,Un.invert=Os,Un.invertBy=As,Un.invokeMap=Er,Un.iteratee=sl,Un.keyBy=xr,Un.keys=Ms,Un.keysIn=Ls,Un.map=Dr,Un.mapKeys=function(e,t){var n={};return t=uo(t,3),$i(e,(function(e,i,a){si(n,t(e,i,a),e)})),n},Un.mapValues=function(e,t){var n={};return t=uo(t,3),$i(e,(function(e,i,a){si(n,i,t(e,i,a))})),n},Un.matches=function(e){return Ui(di(e,1))},Un.matchesProperty=function(e,t){return zi(e,di(t,1))},Un.memoize=Pr,Un.merge=Ns,Un.mergeWith=Ps,Un.method=ll,Un.methodOf=cl,Un.mixin=dl,Un.negate=qr,Un.nthArg=function(e){return e=vs(e),Ji((function(t){return Yi(t,e)}))},Un.omit=qs,Un.omitBy=function(e,t){return js(e,qr(uo(t)))},Un.once=function(e){return Or(2,e)},Un.orderBy=function(e,t,n,i){return null==e?[]:(Wr(t)||(t=null==t?[]:[t]),Wr(n=i?a:n)||(n=null==n?[]:[n]),Hi(e,t,n))},Un.over=fl,Un.overArgs=Fr,Un.overEvery=hl,Un.overSome=pl,Un.partial=jr,Un.partialRight=Br,Un.partition=Cr,Un.pick=Fs,Un.pickBy=js,Un.property=ml,Un.propertyOf=function(e){return function(t){return null==e?a:xi(e,t)}},Un.pull=er,Un.pullAll=tr,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vi(e,t,uo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vi(e,t,a,n):e},Un.pullAt=nr,Un.range=_l,Un.rangeRight=vl,Un.rearg=Ur,Un.reject=function(e,t){return(Wr(e)?St:gi)(e,qr(uo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,a=[],o=e.length;for(t=uo(t,3);++i<o;){var r=e[i];t(r,i,e)&&(n.push(r),a.push(i))}return Xi(e,a),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Se(o);return Ji(e,t=t===a?t:vs(t))},Un.reverse=ir,Un.sampleSize=function(e,t,n){return t=(n?$o(e,t,n):t===a)?1:vs(t),(Wr(e)?ei:ea)(e,t)},Un.set=function(e,t,n){return null==e?e:ta(e,t,n)},Un.setWith=function(e,t,n,i){return i="function"==typeof i?i:a,null==e?e:ta(e,t,n,i)},Un.shuffle=function(e){return(Wr(e)?ti:aa)(e)},Un.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&$o(e,t,n)?(t=0,n=i):(t=null==t?0:vs(t),n=n===a?i:vs(n)),oa(e,t,n)):[]},Un.sortBy=Tr,Un.sortedUniq=function(e){return e&&e.length?ca(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ca(e,uo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&$o(e,t,n)&&(t=n=a),(n=n===a?_:n>>>0)?(e=ws(e))&&("string"==typeof t||null!=t&&!ls(t))&&!(t=ua(t))&&sn(e)?ka(pn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Se(o);return t=null==t?0:bn(vs(t),0),Ji((function(n){var i=n[t],a=ka(n,0,t);return i&&Mt(a,i),xt(e,this,a)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?oa(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?oa(e,0,(t=n||t===a?1:vs(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?oa(e,(t=i-(t=n||t===a?1:vs(t)))<0?0:t,i):[]},Un.takeRightWhile=function(e,t){return e&&e.length?ma(e,uo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?ma(e,uo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new Se(o);return is(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),Mr(e,t,{leading:i,maxWait:t,trailing:a})},Un.thru=_r,Un.toArray=ms,Un.toPairs=Bs,Un.toPairsIn=Us,Un.toPath=function(e){return Wr(e)?Rt(e,jo):us(e)?[e]:Oa(Fo(ws(e)))},Un.toPlainObject=bs,Un.transform=function(e,t,n){var i=Wr(e),a=i||Kr(e)||fs(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=a?i?new o:[]:is(e)&&es(o)?zn(We(e)):{}}return(a?Ct:$i)(e,(function(e,i,a){return t(n,e,i,a)})),n},Un.unary=function(e){return Sr(e,1)},Un.union=ar,Un.unionBy=or,Un.unionWith=rr,Un.uniq=function(e){return e&&e.length?fa(e):[]},Un.uniqBy=function(e,t){return e&&e.length?fa(e,uo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?fa(e,a,t):[]},Un.unset=function(e,t){return null==e||ha(e,t)},Un.unzip=sr,Un.unzipWith=lr,Un.update=function(e,t,n){return null==e?e:pa(e,t,ba(n))},Un.updateWith=function(e,t,n,i){return i="function"==typeof i?i:a,null==e?e:pa(e,t,ba(n),i)},Un.values=zs,Un.valuesIn=function(e){return null==e?[]:Jt(e,Ls(e))},Un.without=cr,Un.words=el,Un.wrap=function(e,t){return jr(ba(t),e)},Un.xor=dr,Un.xorBy=ur,Un.xorWith=fr,Un.zip=hr,Un.zipObject=function(e,t){return ga(e||[],t||[],ii)},Un.zipObjectDeep=function(e,t){return ga(e||[],t||[],ta)},Un.zipWith=pr,Un.entries=Bs,Un.entriesIn=Us,Un.extend=ks,Un.extendWith=Es,dl(Un,Un),Un.add=bl,Un.attempt=tl,Un.camelCase=Gs,Un.capitalize=Ys,Un.ceil=wl,Un.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=ys(n))==n?n:0),t!==a&&(t=(t=ys(t))==t?t:0),ci(ys(e),t,n)},Un.clone=function(e){return di(e,4)},Un.cloneDeep=function(e){return di(e,5)},Un.cloneDeepWith=function(e,t){return di(e,5,t="function"==typeof t?t:a)},Un.cloneWith=function(e,t){return di(e,4,t="function"==typeof t?t:a)},Un.conformsTo=function(e,t){return null==t||ui(e,t,Ms(t))},Un.deburr=Hs,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=$l,Un.endsWith=function(e,t,n){e=ws(e),t=ua(t);var i=e.length,o=n=n===a?i:ci(vs(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=zr,Un.escape=function(e){return(e=ws(e))&&K.test(e)?e.replace(X,on):e},Un.escapeRegExp=function(e){return(e=ws(e))&&oe.test(e)?e.replace(ae,"\\$&"):e},Un.every=function(e,t,n){var i=Wr(e)?It:_i;return n&&$o(e,t,n)&&(t=a),i(e,uo(t,3))},Un.find=yr,Un.findIndex=Ho,Un.findKey=function(e,t){return Ft(e,uo(t,3),$i)},Un.findLast=br,Un.findLastIndex=Wo,Un.findLastKey=function(e,t){return Ft(e,uo(t,3),ki)},Un.floor=kl,Un.forEach=wr,Un.forEachRight=$r,Un.forIn=function(e,t){return null==e?e:bi(e,uo(t,3),Ls)},Un.forInRight=function(e,t){return null==e?e:wi(e,uo(t,3),Ls)},Un.forOwn=function(e,t){return e&&$i(e,uo(t,3))},Un.forOwnRight=function(e,t){return e&&ki(e,uo(t,3))},Un.get=Is,Un.gt=Gr,Un.gte=Yr,Un.has=function(e,t){return null!=e&&go(e,t,Ii)},Un.hasIn=Ss,Un.head=Xo,Un.identity=rl,Un.includes=function(e,t,n,i){e=Xr(e)?e:zs(e),n=n&&!i?vs(n):0;var a=e.length;return n<0&&(n=bn(a+n,0)),ds(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Bt(e,t,n)>-1},Un.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=null==n?0:vs(n);return a<0&&(a=bn(i+a,0)),Bt(e,t,a)},Un.inRange=function(e,t,n){return t=_s(t),n===a?(n=t,t=0):n=_s(n),function(e,t,n){return e>=wn(t,n)&&e<bn(t,n)}(e=ys(e),t,n)},Un.invoke=Rs,Un.isArguments=Hr,Un.isArray=Wr,Un.isArrayBuffer=Vr,Un.isArrayLike=Xr,Un.isArrayLikeObject=Qr,Un.isBoolean=function(e){return!0===e||!1===e||as(e)&&Ci(e)==b},Un.isBuffer=Kr,Un.isDate=Jr,Un.isElement=function(e){return as(e)&&1===e.nodeType&&!ss(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Xr(e)&&(Wr(e)||"string"==typeof e||"function"==typeof e.splice||Kr(e)||fs(e)||Hr(e)))return!e.length;var t=vo(e);if(t==x||t==S)return!e.size;if(Do(e))return!qi(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Mi(e,t)},Un.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:a)?n(e,t):a;return i===a?Mi(e,t,a,n):!!i},Un.isError=Zr,Un.isFinite=function(e){return"number"==typeof e&&Ht(e)},Un.isFunction=es,Un.isInteger=ts,Un.isLength=ns,Un.isMap=os,Un.isMatch=function(e,t){return e===t||Li(e,t,ho(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Li(e,t,ho(t),n)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(xo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ni(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=is,Un.isObjectLike=as,Un.isPlainObject=ss,Un.isRegExp=ls,Un.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=p},Un.isSet=cs,Un.isString=ds,Un.isSymbol=us,Un.isTypedArray=fs,Un.isUndefined=function(e){return e===a},Un.isWeakMap=function(e){return as(e)&&vo(e)==R},Un.isWeakSet=function(e){return as(e)&&"[object WeakSet]"==Ci(e)},Un.join=function(e,t){return null==e?"":gn.call(e,t)},Un.kebabCase=Ws,Un.last=Zo,Un.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==a&&(o=(o=vs(n))<0?bn(i+o,0):wn(o,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):jt(e,zt,o,!0)},Un.lowerCase=Vs,Un.lowerFirst=Xs,Un.lt=hs,Un.lte=ps,Un.max=function(e){return e&&e.length?vi(e,rl,Ti):a},Un.maxBy=function(e,t){return e&&e.length?vi(e,uo(t,2),Ti):a},Un.mean=function(e){return Gt(e,rl)},Un.meanBy=function(e,t){return Gt(e,uo(t,2))},Un.min=function(e){return e&&e.length?vi(e,rl,ji):a},Un.minBy=function(e,t){return e&&e.length?vi(e,uo(t,2),ji):a},Un.stubArray=gl,Un.stubFalse=yl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xl,Un.nth=function(e,t){return e&&e.length?Yi(e,vs(t)):a},Un.noConflict=function(){return ht._===this&&(ht._=Be),this},Un.noop=ul,Un.now=Ir,Un.pad=function(e,t,n){e=ws(e);var i=(t=vs(t))?hn(e):0;if(!t||i>=t)return e;var a=(t-i)/2;return Ha(vt(a),n)+e+Ha(mt(a),n)},Un.padEnd=function(e,t,n){e=ws(e);var i=(t=vs(t))?hn(e):0;return t&&i<t?e+Ha(t-i,n):e},Un.padStart=function(e,t,n){e=ws(e);var i=(t=vs(t))?hn(e):0;return t&&i<t?Ha(t-i,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(ws(e).replace(re,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&$o(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=_s(e),t===a?(t=e,e=0):t=_s(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=En();return wn(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return Qi(e,t)},Un.reduce=function(e,t,n){var i=Wr(e)?Lt:Wt,a=arguments.length<3;return i(e,uo(t,4),n,a,pi)},Un.reduceRight=function(e,t,n){var i=Wr(e)?Nt:Wt,a=arguments.length<3;return i(e,uo(t,4),n,a,mi)},Un.repeat=function(e,t,n){return t=(n?$o(e,t,n):t===a)?1:vs(t),Ki(ws(e),t)},Un.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var i=-1,o=(t=wa(t,e)).length;for(o||(o=1,e=a);++i<o;){var r=null==e?a:e[jo(t[i])];r===a&&(i=o,r=n),e=es(r)?r.call(e):r}return e},Un.round=Dl,Un.runInContext=e,Un.sample=function(e){return(Wr(e)?Zn:Zi)(e)},Un.size=function(e){if(null==e)return 0;if(Xr(e))return ds(e)?hn(e):e.length;var t=vo(e);return t==x||t==S?e.size:qi(e).length},Un.snakeCase=Qs,Un.some=function(e,t,n){var i=Wr(e)?Pt:ra;return n&&$o(e,t,n)&&(t=a),i(e,uo(t,3))},Un.sortedIndex=function(e,t){return sa(e,t)},Un.sortedIndexBy=function(e,t,n){return la(e,t,uo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=sa(e,t);if(i<n&&zr(e[i],t))return i}return-1},Un.sortedLastIndex=function(e,t){return sa(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return la(e,t,uo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=sa(e,t,!0)-1;if(zr(e[n],t))return n}return-1},Un.startCase=Ks,Un.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:ci(vs(n),0,e.length),t=ua(t),e.slice(n,n+t.length)==t},Un.subtract=Cl,Un.sum=function(e){return e&&e.length?Vt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Vt(e,uo(t,2)):0},Un.template=function(e,t,n){var i=Un.templateSettings;n&&$o(e,t,n)&&(t=a),e=ws(e),t=Es({},t,i,eo);var o,r,s=Es({},t.imports,i.imports,eo),l=Ms(s),c=Jt(s,l),d=0,u=t.interpolate||$e,f="__p += '",h=Te((t.escape||$e).source+"|"+u.source+"|"+(u===ee?pe:$e).source+"|"+(t.evaluate||$e).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,(function(t,n,i,a,s,l){return i||(i=a),f+=e.slice(d,l).replace(ke,rn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(r=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),f+="';\n";var m=Ne.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(r?f.replace(Y,""):f).replace(H,"$1").replace(W,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=tl((function(){return xe(l,p+"return "+f).apply(a,c)}));if(_.source=f,Zr(_))throw _;return _},Un.times=function(e,t){if((e=vs(e))<1||e>p)return[];var n=_,i=wn(e,_);t=uo(t),e-=_;for(var a=Xt(i,t);++n<e;)t(n);return a},Un.toFinite=_s,Un.toInteger=vs,Un.toLength=gs,Un.toLower=function(e){return ws(e).toLowerCase()},Un.toNumber=ys,Un.toSafeInteger=function(e){return e?ci(vs(e),-9007199254740991,p):0===e?e:0},Un.toString=ws,Un.toUpper=function(e){return ws(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ws(e))&&(n||t===a))return Qt(e);if(!e||!(t=ua(t)))return e;var i=pn(e),o=pn(t);return ka(i,en(i,o),tn(i,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===a))return e.slice(0,mn(e)+1);if(!e||!(t=ua(t)))return e;var i=pn(e);return ka(i,0,tn(i,pn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===a))return e.replace(re,"");if(!e||!(t=ua(t)))return e;var i=pn(e);return ka(i,en(i,pn(t))).join("")},Un.truncate=function(e,t){var n=30,i="...";if(is(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,i="omission"in t?ua(t.omission):i}var r=(e=ws(e)).length;if(sn(e)){var s=pn(e);r=s.length}if(n>=r)return e;var l=n-hn(i);if(l<1)return i;var c=s?ka(s,0,l).join(""):e.slice(0,l);if(o===a)return c+i;if(s&&(l+=c.length-l),ls(o)){if(e.slice(l).search(o)){var d,u=c;for(o.global||(o=Te(o.source,ws(me.exec(o))+"g")),o.lastIndex=0;d=o.exec(u);)var f=d.index;c=c.slice(0,f===a?l:f)}}else if(e.indexOf(ua(o),l)!=l){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+i},Un.unescape=function(e){return(e=ws(e))&&Q.test(e)?e.replace(V,_n):e},Un.uniqueId=function(e){var t=++Pe;return ws(e)+t},Un.upperCase=Js,Un.upperFirst=Zs,Un.each=wr,Un.eachRight=$r,Un.first=Xo,dl(Un,(El={},$i(Un,(function(e,t){Ne.call(Un.prototype,t)||(El[t]=e)})),El),{chain:!1}),Un.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Ct(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===a?1:bn(vs(n),0);var i=this.__filtered__&&!t?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(n,i.__takeCount__):i.__views__.push({size:wn(n,_),type:e+(i.__dir__<0?"Right":"")}),i},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(rl)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Ji((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Ai(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(qr(uo(e)))},Hn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(_)},$i(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Un[i?"take"+("last"==t?"Right":""):t],r=i||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Hn,c=s[0],d=l||Wr(t),u=function(e){var t=o.apply(Un,Mt([e],s));return i&&f?t[0]:t};d&&n&&"function"==typeof c&&1!=c.length&&(l=d=!1);var f=this.__chain__,h=!!this.__actions__.length,p=r&&!f,m=l&&!h;if(!r&&d){t=m?t:new Hn(this);var _=e.apply(t,s);return _.__actions__.push({func:_r,args:[u],thisArg:a}),new Yn(_,f)}return p&&m?e.apply(this,s):(_=this.thru(u),p?i?_.value()[0]:_.value():_)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var a=this.value();return t.apply(Wr(a)?a:[],e)}return this[n]((function(n){return t.apply(Wr(n)?n:[],e)}))}})),$i(Hn.prototype,(function(e,t){var n=Un[t];if(n){var i=n.name+"";Ne.call(Rn,i)||(Rn[i]=[]),Rn[i].push({name:t,func:n})}})),Rn[Ua(a,2).name]=[{name:"wrapper",func:a}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Oa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oa(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wr(e),i=t<0,a=n?e.length:0,o=function(e,t,n){var i=-1,a=n.length;for(;++i<a;){var o=n[i],r=o.size;switch(o.type){case"drop":e+=r;break;case"dropRight":t-=r;break;case"take":t=wn(t,e+r);break;case"takeRight":e=bn(e,t-r)}}return{start:e,end:t}}(0,a,this.__views__),r=o.start,s=o.end,l=s-r,c=i?s:r-1,d=this.__iteratees__,u=d.length,f=0,h=wn(l,this.__takeCount__);if(!n||!i&&a==l&&h==l)return _a(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var m=-1,_=e[c+=t];++m<u;){var v=d[m],g=v.iteratee,y=v.type,b=g(_);if(2==y)_=b;else if(!b){if(1==y)continue e;break e}}p[f++]=_}return p},Un.prototype.at=vr,Un.prototype.chain=function(){return mr(this)},Un.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===a&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Gn;){var i=Uo(n);i.__index__=0,i.__values__=a,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:_r,args:[ir],thisArg:a}),new Yn(t,this.__chain__)}return this.thru(ir)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return _a(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,et&&(Un.prototype[et]=function(){return this}),Un}();ht._=vn,(i=function(){return vn}.call(t,n,t,e))===a||(e.exports=i)}.call(this)},7425:()=>{},8981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ce});var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,a=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(i&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),a))}};function r(e){return e&&"[object Function]"==={}.toString.call(e)}function s(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=s(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+i)?e:c(l(e))}function d(e){return e&&e.referenceNode?e.referenceNode:e}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),f=i&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?u:10===e?f:u||f}function p(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===s(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,a=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(a,0);var r,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(a))return"BODY"===(s=(r=l).nodeName)||"HTML"!==s&&p(r.firstElementChild)!==r?p(l):l;var c=m(e);return c.host?_(c.host,t):_(e,m(t).host)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var a=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||a;return o[n]}return e[n]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(t,"top"),a=v(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=a*o,e.right+=a*o,e}function y(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function b(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],h(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,i=h(10)&&getComputedStyle(n);return{height:b("Height",t,n,i),width:b("Width",t,n,i)}}var $=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function D(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){var t={};try{if(h(10)){t=e.getBoundingClientRect();var n=v(e,"top"),i=v(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?w(e.ownerDocument):{},r=o.width||e.clientWidth||a.width,l=o.height||e.clientHeight||a.height,c=e.offsetWidth-r,d=e.offsetHeight-l;if(c||d){var u=s(e);c-=y(u,"x"),d-=y(u,"y"),a.width-=c,a.height-=d}return D(a)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=h(10),a="HTML"===t.nodeName,o=C(e),r=C(t),l=c(e),d=s(t),u=parseFloat(d.borderTopWidth),f=parseFloat(d.borderLeftWidth);n&&a&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var p=D({top:o.top-r.top-u,left:o.left-r.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&a){var m=parseFloat(d.marginTop),_=parseFloat(d.marginLeft);p.top-=u-m,p.bottom-=u-m,p.left-=f-_,p.right-=f-_,p.marginTop=m,p.marginLeft=_}return(i&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=g(p,t)),p}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=T(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),r=t?0:v(n),s=t?0:v(n,"left"),l={top:r-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:a,height:o};return D(l)}function S(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===s(e,"position"))return!0;var n=l(e);return!!n&&S(n)}function O(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===s(t,"transform");)t=t.parentElement;return t||document.documentElement}function A(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},r=a?O(e):_(e,d(t));if("viewport"===i)o=I(r,a);else{var s=void 0;"scrollParent"===i?"BODY"===(s=c(l(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var u=T(s,r,a);if("HTML"!==s.nodeName||S(r))o=u;else{var f=w(e.ownerDocument),h=f.height,p=f.width;o.top+=u.top-u.marginTop,o.bottom=h+u.top,o.left+=u.left-u.marginLeft,o.right=p+u.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function R(e){return e.width*e.height}function M(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var r=A(n,i,o,a),s={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},l=Object.keys(s).map((function(e){return x({key:e},s[e],{area:R(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),d=c.length>0?c[0].key:l[0].key,u=e.split("-")[1];return d+(u?"-"+u:"")}function L(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=i?O(t):_(t,d(n));return T(n,a,i)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function P(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function q(e,t,n){n=n.split("-")[0];var i=N(e),a={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),r=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return a[r]=t[r]+t[l]/2-i[l]/2,a[s]=n===s?t[s]-i[c]:t[P(s)],a}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=F(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&r(n)&&(t.offsets.popper=D(t.offsets.popper),t.offsets.reference=D(t.offsets.reference),t=n(t,e))})),t}function B(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=q(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function z(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var a=t[i],o=a?""+a+n:e;if(void 0!==document.body.style[o])return o}return null}function G(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,i){var a="BODY"===e.nodeName,o=a?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),a||H(c(o.parentNode),t,n,i),i.push(o)}function W(e,t,n,i){n.updateBound=i,Y(e).addEventListener("resize",n.updateBound,{passive:!0});var a=c(e);return H(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function V(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function X(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return Y(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function Q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function K(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Q(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var J=i&&/Firefox/i.test(navigator.userAgent);function Z(e,t,n){var i=F(e,(function(e){return e.name===t})),a=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!a){var o="`"+t+"`",r="`"+n+"`";console.warn(r+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}var ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],te=ee.slice(3);function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=te.indexOf(e),i=te.slice(n+1).concat(te.slice(0,n));return t?i.reverse():i}var ie="flip",ae="clockwise",oe="counterclockwise";function re(e,t,n,i){var a=[0,0],o=-1!==["right","left"].indexOf(i),r=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=r.indexOf(F(r,(function(e){return-1!==e.search(/,|\s/)})));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))]:[r];return(c=c.map((function(e,i){var a=(1===i?!o:o)?"height":"width",r=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],r=a[2];if(!o)return e;if(0===r.indexOf("%")){var s=void 0;switch(r){case"%p":s=n;break;case"%":case"%r":default:s=i}return D(s)[t]/100*o}if("vh"===r||"vw"===r)return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,a,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){Q(n)&&(a[t]+=n*("-"===e[i-1]?-1:1))}))})),a}var se={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var a=e.offsets,o=a.reference,r=a.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",d={start:E({},l,o[l]),end:E({},l,o[l]+o[c]-r[c])};e.offsets.popper=x({},r,d[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,a=e.offsets,o=a.popper,r=a.reference,s=i.split("-")[0],l=void 0;return l=Q(+n)?[+n,0]:re(n,o,r,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var i=z("transform"),a=e.instance.popper.style,o=a.top,r=a.left,s=a[i];a.top="",a.left="",a[i]="";var l=A(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=o,a.left=r,a[i]=s,t.boundaries=l;var c=t.priority,d=e.offsets.popper,u={primary:function(e){var n=d[e];return d[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(d[e],l[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=d[n];return d[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(d[n],l[e]-("right"===e?d.width:d.height))),E({},n,i)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=x({},d,u[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,a=e.placement.split("-")[0],o=Math.floor,r=-1!==["top","bottom"].indexOf(a),s=r?"right":"bottom",l=r?"left":"top",c=r?"width":"height";return n[s]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(e.offsets.popper[l]=o(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Z(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],o=e.offsets,r=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(a),d=c?"height":"width",u=c?"Top":"Left",f=u.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",m=N(i)[d];l[p]-m<r[f]&&(e.offsets.popper[f]-=r[f]-(l[p]-m)),l[f]+m>r[p]&&(e.offsets.popper[f]+=l[f]+m-r[p]),e.offsets.popper=D(e.offsets.popper);var _=l[f]+l[d]/2-m/2,v=s(e.instance.popper),g=parseFloat(v["margin"+u]),y=parseFloat(v["border"+u+"Width"]),b=_-e.offsets.popper[f]-g-y;return b=Math.max(Math.min(r[d]-m,b),0),e.arrowElement=i,e.offsets.arrow=(E(n={},f,Math.round(b)),E(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=A(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],a=P(i),o=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case ie:r=[i,a];break;case ae:r=ne(i);break;case oe:r=ne(i,!0);break;default:r=t.behavior}return r.forEach((function(s,l){if(i!==s||r.length===l+1)return e;i=e.placement.split("-")[0],a=P(i);var c=e.offsets.popper,d=e.offsets.reference,u=Math.floor,f="left"===i&&u(c.right)>u(d.left)||"right"===i&&u(c.left)<u(d.right)||"top"===i&&u(c.bottom)>u(d.top)||"bottom"===i&&u(c.top)<u(d.bottom),h=u(c.left)<u(n.left),p=u(c.right)>u(n.right),m=u(c.top)<u(n.top),_=u(c.bottom)>u(n.bottom),v="left"===i&&h||"right"===i&&p||"top"===i&&m||"bottom"===i&&_,g=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(g&&"start"===o&&h||g&&"end"===o&&p||!g&&"start"===o&&m||!g&&"end"===o&&_),b=!!t.flipVariationsByContent&&(g&&"start"===o&&p||g&&"end"===o&&h||!g&&"start"===o&&_||!g&&"end"===o&&m),w=y||b;(f||v||w)&&(e.flipped=!0,(f||v)&&(i=r[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=x({},e.offsets.popper,q(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,a=i.popper,o=i.reference,r=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[r?"left":"top"]=o[n]-(s?a[r?"width":"height"]:0),e.placement=P(t),e.offsets.popper=D(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=F(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,a=e.offsets.popper,o=F(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),l=C(s),c={position:a.position},d=function(e,t){var n=e.offsets,i=n.popper,a=n.reference,o=Math.round,r=Math.floor,s=function(e){return e},l=o(a.width),c=o(i.width),d=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),f=t?d||u||l%2==c%2?o:r:s,h=t?o:s;return{left:f(l%2==1&&c%2==1&&!u&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:f(i.right)}}(e,window.devicePixelRatio<2||!J),u="bottom"===n?"top":"bottom",f="right"===i?"left":"right",h=z("transform"),m=void 0,_=void 0;if(_="bottom"===u?"HTML"===s.nodeName?-s.clientHeight+d.bottom:-l.height+d.bottom:d.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+d.right:-l.width+d.right:d.left,r&&h)c[h]="translate3d("+m+"px, "+_+"px, 0)",c[u]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===u?-1:1,g="right"===f?-1:1;c[u]=_*v,c[f]=m*g,c.willChange=u+", "+f}var y={"x-placement":e.placement};return e.attributes=x({},y,e.attributes),e.styles=x({},c,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return K(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&K(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,a){var o=L(a,t,e,n.positionFixed),r=M(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",r),K(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},le=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=x({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){i.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&r(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return k(e,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return G.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return X.call(this)}}]),e}();le.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,le.placements=ee,le.Defaults=se;const ce=le},4155:e=>{var t,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=r(u);c=!0;for(var t=l.length;t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||r(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},5297:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":"","unitSeparator":"","allSeparator":"","base":{"0":"","1":"","2":"","3":"","4":"","5":"","6":"","7":"","8":"","9":"","10":"","11":" ","12":" ","13":" ","14":" ","15":" ","16":" ","17":" ","18":" ","19":" ","20":"","21":" ","22":" ","23":" ","24":" ","25":" ","26":" ","27":" ","28":" ","29":" ","30":"","31":" ","32":" ","33":" ","34":" ","35":" ","36":" ","37":" ","38":" ","39":" ","40":"","41":" ","42":" ","43":" ","44":" ","45":" ","46":" ","47":" ","48":" ","49":" ","50":"","51":" ","52":" ","53":" ","54":" ","55":" ","56":" ","57":" ","58":" ","59":" ","60":"","61":" ","62":" ","63":" ","64":" ","65":" ","66":" ","67":" ","68":" ","69":" ","70":"","71":" ","72":" ","73":" ","74":" ","75":" ","76":" ","77":" ","78":" ","79":" ","80":"","81":" ","82":" ","83":" ","84":" ","85":" ","86":" ","87":" ","88":" ","89":" ","90":"","91":" ","92":" ","93":" ","94":" ","95":" ","96":" ","97":" ","98":" ","99":" ","200":"","300":"","400":"","500":"","600":"","700":"","800":"","900":""},"units":[{"singular":"","useBaseInstead":true,"useBaseException":[1]},{"singular":"","dual":"","plural":"","restrictedPlural":true,"avoidPrefixException":[1,2]},{"singular":"","dual":"","plural":"","restrictedPlural":true,"avoidPrefixException":[1,2]},{"singular":"","dual":"","plural":"","restrictedPlural":true,"avoidPrefixException":[1,2]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]},{"singular":"","avoidPrefixException":[1]}],"unitExceptions":{}}')},612:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":"-","unitSeparator":"and ","base":{"0":"zero","1":"one","2":"two","3":"three","4":"four","5":"five","6":"six","7":"seven","8":"eight","9":"nine","10":"ten","11":"eleven","12":"twelve","13":"thirteen","14":"fourteen","15":"fifteen","16":"sixteen","17":"seventeen","18":"eighteen","19":"nineteen","20":"twenty","30":"thirty","40":"forty","50":"fifty","60":"sixty","70":"seventy","80":"eighty","90":"ninety"},"units":{"2":"hundred","3":"thousand","5":"lakh","7":"crore"},"unitExceptions":[]}')},4648:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":"-","unitSeparator":"and ","base":{"0":"zero","1":"one","2":"two","3":"three","4":"four","5":"five","6":"six","7":"seven","8":"eight","9":"nine","10":"ten","11":"eleven","12":"twelve","13":"thirteen","14":"fourteen","15":"fifteen","16":"sixteen","17":"seventeen","18":"eighteen","19":"nineteen","20":"twenty","30":"thirty","40":"forty","50":"fifty","60":"sixty","70":"seventy","80":"eighty","90":"ninety"},"units":["hundred","thousand","million","billion","trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion","decillion","undecillion","duodecillion","tredecillion","quattuordecillion","quindecillion"],"unitExceptions":[]}')},6611:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":" ","unitSeparator":"","base":{"0":"nulo","1":"unu","2":"du","3":"tri","4":"kvar","5":"kvin","6":"ses","7":"sep","8":"ok","9":"na","10":"dek","20":"dudek","30":"tridek","40":"kvardek","50":"kvindek","60":"sesdek","70":"sepdek","80":"okdek","90":"nadek","100":"cent","200":"ducent","300":"tricent","400":"kvarcent","500":"kvincent","600":"sescent","700":"sepcent","800":"okcent","900":"nacent"},"units":[{"useBaseInstead":true,"useBaseException":[]},{"singular":"mil","avoidPrefixException":[1]},{"singular":"miliono","plural":"milionoj","avoidPrefixException":[1]},{"singular":"miliardo","plural":"miliardoj","avoidPrefixException":[1]},{"singular":"biliono","plural":"bilionoj","avoidPrefixException":[1]}],"unitExceptions":[]}')},5532:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":true,"baseSeparator":" y ","unitSeparator":"","base":{"0":"cero","1":"uno","2":"dos","3":"tres","4":"cuatro","5":"cinco","6":"seis","7":"siete","8":"ocho","9":"nueve","10":"diez","11":"once","12":"doce","13":"trece","14":"catorce","15":"quince","16":"diecisis","17":"diecisiete","18":"dieciocho","19":"diecinueve","20":"veinte","21":"veintiuno","22":"veintids","23":"veintitrs","24":"veinticuatro","25":"veinticinco","26":"veintisis","27":"veintisiete","28":"veintiocho","29":"veintinueve","30":"treinta","40":"cuarenta","50":"cincuenta","60":"sesenta","70":"setenta","80":"ochenta","90":"noventa","100":"cien","200":"doscientos","300":"trescientos","400":"cuatrocientos","500":"quinientos","600":"seiscientos","700":"setecientos","800":"ochocientos","900":"novecientos","1000":"mil"},"unitExceptions":{"1000000":"un milln","1000000000000":"un billn","1000000000000000000":"un trilln","1000000000000000000000000":"un cuatrillones","1000000000000000000000000000000":"un quintilln","1000000000000000000000000000000000000":"un sextilln","1000000000000000000000000000000000000000000":"un septilln","1000000000000000000000000000000000000000000000000":"un octilln","1000000000000000000000000000000000000000000000000000000":"un nonilln","1000000000000000000000000000000000000000000000000000000000000":"un decilln","1000000000000000000000000000000000000000000000000000000000000000000":"un undecilln","1000000000000000000000000000000000000000000000000000000000000000000000000":"un duodecilln","1000000000000000000000000000000000000000000000000000000000000000000000000000000":"un tredecilln","1000000000000000000000000000000000000000000000000000000000000000000000000000000000000":"un cuatordecilln","1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000":"un quindecilln"},"units":[{"singular":"ciento","useBaseInstead":true,"useBaseException":[1]},{"singular":"mil","avoidPrefixException":[1]},{"singular":"milln","plural":"millones"},{"singular":"billn","plural":"billones"},{"singular":"trilln","plural":"trillones"},{"singular":"cuatrilln","plural":"cuatrillones"},{"singular":"quintilln","plural":"quintillones"},{"singular":"sextilln","plural":"sextillones"},{"singular":"septilln","plural":"septillones"},{"singular":"octilln","plural":"octillones"},{"singular":"nonilln","plural":"nonillones"},{"singular":"decilln","plural":"decillones"},{"singular":"undecilln","plural":"undecillones"},{"singular":"duodecilln","plural":"duodecillones"},{"singular":"tredecilln","plural":"tredecillones"},{"singular":"cuatrodecilln","plural":"cuatrodecillones"},{"singular":"quindecilln","plural":"quindecillones"}]}')},2276:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":"-","unitSeparator":"","base":{"0":"zro","1":"un","2":"deux","3":"trois","4":"quatre","5":"cinq","6":"six","7":"sept","8":"huit","9":"neuf","10":"dix","11":"onze","12":"douze","13":"treize","14":"quatorze","15":"quinze","16":"seize","17":"dix-sept","18":"dix-huit","19":"dix-neuf","20":"vingt","30":"trente","40":"quarante","50":"cinquante","60":"soixante","70":"soixante-dix","80":"quatre-vingt","90":"quatre-vingt-dix"},"units":[{"singular":"cent","plural":"cents","avoidInNumberPlural":true,"avoidPrefixException":[1]},{"singular":"mille","avoidPrefixException":[1]},{"singular":"million","plural":"millions"},{"singular":"milliard","plural":"milliards"},{"singular":"billion","plural":"billions"},{"singular":"billiard","plural":"billiards"},{"singular":"trillion","plural":"trillions"},{"singular":"trilliard","plural":"trilliards"},{"singular":"quadrillion","plural":"quadrillions"},{"singular":"quadrilliard","plural":"quadrilliards"},{"singular":"quintillion","plural":"quintillions"},{"singular":"quintilliard","plural":"quintilliards"},{"singular":"sextillion","plural":"sextillions"},{"singular":"sextilliard","plural":"sextilliards"},{"singular":"septillion","plural":"septillions"},{"singular":"septilliard","plural":"septilliards"},{"singular":"octillion","plural":"octillions"}],"unitExceptions":{"21":"vingt et un","31":"trente et un","41":"quarante et un","51":"cinquante et un","61":"soixante et un","71":"soixante et onze","72":"soixante-douze","73":"soixante-treize","74":"soixante-quatorze","75":"soixante-quinze","76":"soixante-seize","77":"soixante-dix-sept","78":"soixante-dix-huit","79":"soixante-dix-neuf","80":"quatre-vingts","91":"quatre-vingt-onze","92":"quatre-vingt-douze","93":"quatre-vingt-treize","94":"quatre-vingt-quatorze","95":"quatre-vingt-quinze","96":"quatre-vingt-seize","97":"quatre-vingt-dix-sept","98":"quatre-vingt-dix-huit","99":"quatre-vingt-dix-neuf"}}')},2689:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":true,"baseSeparator":"","unitSeparator":"s ","base":{"0":"nulla","1":"egy","2":"kett","3":"hrom","4":"ngy","5":"t","6":"hat","7":"ht","8":"nyolc","9":"kilenc","10":"tz","11":"tizenegy","12":"tizenkett","13":"tizenhrom","14":"tizenngy","15":"tizent","16":"tizenhat","17":"tizenht","18":"tizennyolc","19":"tizenkilenc","20":"hsz","21":"huszonegy","22":"huszonkett","23":"huszonhrom","24":"huszonngy","25":"huszont","26":"huszonhat","27":"huszonht","28":"huszonnyolc","29":"huszonkilenc","30":"harminc","40":"negyven","50":"tven","60":"hatvan","70":"hetven","80":"nyolcvan","90":"kilencven","100":"szz","200":"ktszz","300":"hromszz","400":"ngyszz","500":"tszz","600":"hatszz","700":"htszz","800":"nyolcszz","900":"kilencszz","1000":"ezer"},"unitExceptions":{"1":"egy"},"units":[{"singular":"szz","useBaseInstead":true,"useBaseException":[1]},{"singular":"ezer","avoidPrefixException":[1]},{"singular":"milli","avoidPrefixException":[1]},{"singular":"millird","avoidPrefixException":[1]},{"singular":"-billi","avoidPrefixException":[1]},{"singular":"billird","avoidPrefixException":[1]},{"singular":"trilli","avoidPrefixException":[1]},{"singular":"trillird","avoidPrefixException":[1]},{"singular":"kvadrilli","avoidPrefixException":[1]},{"singular":"kvadrillird","avoidPrefixException":[1]},{"singular":"kvintilli","avoidPrefixException":[1]},{"singular":"kvintillird","avoidPrefixException":[1]},{"singular":"szextilli","avoidPrefixException":[1]},{"singular":"szeptilli","avoidPrefixException":[1]},{"singular":"oktilli","avoidPrefixException":[1]},{"singular":"nonilli","avoidPrefixException":[1]}]}')},5609:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":" ","unitSeparator":"","base":{"0":"nol","1":"satu","2":"dua","3":"tiga","4":"empat","5":"lima","6":"enam","7":"tujuh","8":"delapan","9":"sembilan","10":"sepuluh","11":"sebelas","12":"dua belas","13":"tiga belas","14":"empat belas","15":"lima belas","16":"enam belas","17":"tujuh belas","18":"delapan belas","19":"sembilan belas","20":"dua puluh","30":"tiga puluh","40":"empat puluh","50":"lima puluh","60":"enam puluh","70":"tujuh puluh","80":"delapan puluh","90":"sembilan puluh"},"units":[{"singular":"seratus","plural":"ratus","avoidPrefixException":[1]},{"singular":"seribu","plural":"ribu","avoidPrefixException":[1]},"juta","miliar","triliun","kuadiliun"],"unitExceptions":[]}')},9122:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":"","unitSeparator":"","generalSeparator":"","wordSeparator":"","base":{"0":"zero","1":"uno","2":"due","3":"tre","4":"quattro","5":"cinque","6":"sei","7":"sette","8":"otto","9":"nove","10":"dieci","11":"undici","12":"dodici","13":"tredici","14":"quattordici","15":"quindici","16":"sedici","17":"diciassette","18":"diciotto","19":"diciannove","20":"venti","21":"ventuno","23":"ventitr","28":"ventotto","30":"trenta","31":"trentuno","33":"trentatr","38":"trentotto","40":"quaranta","41":"quarantuno","43":"quarantatr","48":"quarantotto","50":"cinquanta","51":"cinquantuno","53":"cinquantatr","58":"cinquantotto","60":"sessanta","61":"sessantuno","63":"sessantatr","68":"sessantotto","70":"settanta","71":"settantuno","73":"settantatr","78":"settantotto","80":"ottanta","81":"ottantuno","83":"ottantatr","88":"ottantotto","90":"novanta","91":"novantuno","93":"novantatr","98":"novantotto","100":"cento","101":"centuno","108":"centootto","180":"centottanta","201":"duecentuno","301":"trecentuno","401":"quattrocentuno","501":"cinquecentuno","601":"seicentuno","701":"settecentuno","801":"ottocentuno","901":"novecentuno"},"unitExceptions":{"1":"un"},"units":[{"singular":"cento","avoidPrefixException":[1]},{"singular":"mille","plural":"mila","avoidPrefixException":[1]},{"singular":"milione","plural":"milioni"},{"singular":"miliardo","plural":"miliardi"},{"singular":"bilione","plural":"bilioni"},{"singular":"biliardo","plural":"biliardi"},{"singular":"trilione","plural":"trilioni"},{"singular":"triliardo","plural":"triliardi"},{"singular":"quadrilione","plural":"quadrilioni"},{"singular":"quadriliardo","plural":"quadriliardi"}]}')},8074:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":true,"baseSeparator":" e ","unitSeparator":"e ","andWhenTrailing":true,"base":{"0":"zero","1":"um","2":"dois","3":"trs","4":"quatro","5":"cinco","6":"seis","7":"sete","8":"oito","9":"nove","10":"dez","11":"onze","12":"doze","13":"treze","14":"catorze","15":"quinze","16":"dezasseis","17":"dezassete","18":"dezoito","19":"dezanove","20":"vinte","30":"trinta","40":"quarenta","50":"cinquenta","60":"sessenta","70":"setenta","80":"oitenta","90":"noventa","100":"cem","200":"duzentos","300":"trezentos","400":"quatrocentos","500":"quinhentos","600":"seiscentos","700":"setecentos","800":"oitocentos","900":"novecentos","1000":"mil"},"unitExceptions":{"1":"um"},"units":[{"singular":"cento","useBaseInstead":true,"useBaseException":[1],"useBaseExceptionWhenNoTrailingNumbers":true,"andException":true},{"singular":"mil","avoidPrefixException":[1],"andException":true},{"singular":"milho","plural":"milhes"},{"singular":"bilio","plural":"bilies"},{"singular":"trilio","plural":"trilies"},{"singular":"quadrilio","plural":"quadrilies"},{"singular":"quintilio","plural":"quintilies"},{"singular":"sextilio","plural":"sextilies"},{"singular":"septilio","plural":"septilies"},{"singular":"octilio","plural":"octilies"},{"singular":"nonilio","plural":"nonilies"},{"singular":"decilio","plural":"decilies"}]}')},8637:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":" e ","unitSeparator":"e ","andWhenTrailing":true,"base":{"0":"zero","1":"um","2":"dois","3":"trs","4":"quatro","5":"cinco","6":"seis","7":"sete","8":"oito","9":"nove","10":"dez","11":"onze","12":"doze","13":"treze","14":"catorze","15":"quinze","16":"dezesseis","17":"dezessete","18":"dezoito","19":"dezenove","20":"vinte","30":"trinta","40":"quarenta","50":"cinquenta","60":"sessenta","70":"setenta","80":"oitenta","90":"noventa","100":"cem","200":"duzentos","300":"trezentos","400":"quatrocentos","500":"quinhentos","600":"seiscentos","700":"setecentos","800":"oitocentos","900":"novecentos","1000":"mil"},"unitExceptions":{"1":"um"},"units":[{"singular":"cento","useBaseInstead":true,"useBaseException":[1],"useBaseExceptionWhenNoTrailingNumbers":true,"andException":true},{"singular":"mil","avoidPrefixException":[1],"andException":true},{"singular":"milho","plural":"milhes"},{"singular":"bilho","plural":"bilhes"},{"singular":"trilho","plural":"trilhes"},{"singular":"quadrilho","plural":"quadrilho"},{"singular":"quintilho","plural":"quintilhes"},{"singular":"sextilho","plural":"sextilhes"},{"singular":"septilho","plural":"septilhes"},{"singular":"octilho","plural":"octilhes"},{"singular":"nonilho","plural":"nonilhes"},{"singular":"decilho","plural":"decilhes"},{"singular":"undecilho","plural":"undecilhes"},{"singular":"doudecilho","plural":"doudecilhes"},{"singular":"tredecilho","plural":"tredecilhes"}]}')},2027:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":" ","unitSeparator":"","base":{"0":"sfr","1":"bir","2":"iki","3":"","4":"drt","5":"be","6":"alt","7":"yedi","8":"sekiz","9":"dokuz","10":"on","20":"yirmi","30":"otuz","40":"krk","50":"elli","60":"altm","70":"yetmi","80":"seksen","90":"doksan"},"units":[{"singular":"yz","avoidPrefixException":[1]},{"singular":"bin","avoidPrefixException":[1]},"milyon","milyar","trilyon","katrilyon","kentilyon","sekstilyon","septilyon","oktilyon","nonilyon","desilyon","andesilyon","dodesilyon","tredesilyon","katordesilyon","kendesilyon"],"unitExceptions":[]}')},1265:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":" ","unitSeparator":"","base":{"0":"","1":"","2":"","3":"","4":"","5":"","6":"","7":"","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","30":"","40":"","50":"","60":"","70":"","80":"","90":"","100":"","200":"","300":"","400":"","500":"","600":"","700":"","800":"","900":""},"alternativeBase":{"feminine":{"1":"","2":""}},"units":[{"useBaseInstead":true,"useBaseException":[]},{"singular":"","few":"","plural":"","useAlternativeBase":"feminine","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]},{"singular":"","few":"","plural":"","useSingularEnding":true,"useFewEnding":true,"avoidEndingRules":[11,12,13,14,111,112,113,114,211,212,213,214,311,312,313,314,411,412,413,414,511,512,513,514,611,612,613,614,711,712,713,714,811,812,813,814,911,912,913,914]}],"unitExceptions":[]}')},2346:e=>{"use strict";e.exports=JSON.parse('{"useLongScale":false,"baseSeparator":" ","unitSeparator":"v ","base":{"0":"khng","1":"mt","2":"hai","3":"ba","4":"bn","5":"nm","6":"su","7":"by","8":"tm","9":"chn","10":"mi","15":"mi lm","20":"hai mi","21":"hai mi mt","25":"hai mi lm","30":"ba mi","31":"ba mi mt","40":"bn mi","41":"bn mi mt","45":"bn mi lm","50":"nm mi","51":"nm mi mt","55":"nm mi lm","60":"su mi","61":"su mi mt","65":"su mi lm","70":"by mi","71":"by mi mt","75":"by mi lm","80":"tm mi","81":"tm mi mt","85":"tm mi lm","90":"chn mi","91":"chn mi mt","95":"chn mi lm"},"units":["trm","ngn","triu","t","nghn t"],"unitExceptions":[]}')},8849:(e,t,n)=>{"use strict";t=e.exports=c;var i=n(2789),a=["en","es","ar","pt","fr","eo","it","vi","tr","uk","id"],o={en:n(4648),es:n(5532),ar:n(5297),pt:n(8637),ptPT:n(8074),fr:n(2276),eo:n(6611),it:n(9122),vi:n(2346),tr:n(2027),hu:n(2689),enIndian:n(612),uk:n(1265),id:n(5609)};t.i18n=o;for(var r=[100],s=1;s<=16;s++)r.push(Math.pow(10,3*s));var l=[100,1e3];for(s=1;s<=15;s++)l.push(Math.pow(10,6*s));function c(e,t){if(t=t||{},t=i.defaults(t,c.defaults),e<0)return"";e=Math.round(+e);var n="string"==typeof t.lang?o[t.lang]:t.lang;n||(a.indexOf(c.defaults.lang)<0&&(c.defaults.lang="en"),n=o[c.defaults.lang]);var s,d=n.useLongScale?l:r,u=n.units;if(!(u instanceof Array)){var f=u;for(var h in u=[],d=Object.keys(f))u.push(f[d[h]]),d[h]=Math.pow(10,parseInt(d[h]))}var p=n.base,m=t.alternativeBase?n.alternativeBase[t.alternativeBase]:{};if(n.unitExceptions[e])return n.unitExceptions[e];if(m[e])return m[e];if(p[e])return p[e];if(e<100)return function(e,t,n,i,a,o){var r=10*Math.floor(e/10);if(n=e-r)return a[r]||i[r]+t.baseSeparator+c(n,o);return a[r]||i[r]}(e,n,s,p,m,t);var _,v=e%100,g=[];v&&(!t.noAnd||n.andException&&n.andException[10]?g.push(n.unitSeparator+c(v,t)):g.push(c(v,t)));h=0;for(var y=u.length;h<y;h++){var b,w=Math.floor(e/d[h]);if(w%=h===y-1?1e6:d[h+1]/d[h],s=u[h],w)if(_=d[h],s.useBaseInstead)s.useBaseException.indexOf(w)>-1&&(!s.useBaseExceptionWhenNoTrailingNumbers||0===h&&g.length)?g.push(w>1&&s.plural?s.plural:s.singular):g.push(m[w*d[h]]||p[w*d[h]]);else if("string"==typeof s?b=s:1===w||s.useSingularEnding&&w%10==1&&(!s.avoidEndingRules||s.avoidEndingRules.indexOf(w)<0)?b=s.singular:s.few&&(w>1&&w<5||s.useFewEnding&&w%10>1&&w%10<5&&(!s.avoidEndingRules||s.avoidEndingRules.indexOf(w)<0))?b=s.few:(b=!s.plural||s.avoidInNumberPlural&&v?s.singular:s.plural,b=2===w&&s.dual?s.dual:b,b=w>10&&s.restrictedPlural?s.singular:b),s.avoidPrefixException&&s.avoidPrefixException.indexOf(w)>-1)g.push(b);else{var $=n.unitExceptions[w]||c(w,i.defaults({noAnd:!(n.andException&&n.andException[w]||s.andException),alternativeBase:s.useAlternativeBase},t));e-=w*d[h],g.push($+" "+b)}}var k=e-_*Math.floor(e/_);if(n.andWhenTrailing&&_&&0<k&&0!==g[0].indexOf(n.unitSeparator)&&(g=[g[0],n.unitSeparator.replace(/\s+$/,"")].concat(g.slice(1))),n.allSeparator)for(var E=0;E<g.length-1;E++)g[E]=n.allSeparator+g[E];return g.reverse().join(" ")}c.defaults={noAnd:!1,alternativeBase:null,lang:"en"}},2789:(e,t)=>{"use strict";t.defaults=function(e,t){null==e&&(e={});for(var n={},i=Object.keys(t),a=0,o=i.length;a<o;a++){var r=i[a];n[r]=e[r]||t[r]}return n}}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,e=[],i.O=(t,n,a,o)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,a,o]=e[c],s=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(s=!1,o<r&&(r=o));s&&(e.splice(c--,1),t=a())}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={773:0,170:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[r,s,l]=n,c=0;for(a in s)i.o(s,a)&&(i.m[a]=s[a]);for(l&&l(i),t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[r[c]]=0;i.O()},n=self.webpackChunkadmin=self.webpackChunkadmin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.O(void 0,[170],(()=>i(7080)));var a=i.O(void 0,[170],(()=>i(7425)));a=i.O(a)})();